{"meta":{"title":"Castile","subtitle":"","description":"","author":"æœ±å®æ¢","url":"https://Castile.github.io","root":"/"},"pages":[{"title":"åˆ†ç±»","date":"2020-01-17T12:20:33.000Z","updated":"2020-02-11T03:29:15.718Z","comments":true,"path":"categories/index.html","permalink":"https://castile.github.io/categories/index.html","excerpt":"","text":""},{"title":"about","date":"2020-02-11T05:16:11.000Z","updated":"2020-02-11T05:16:11.975Z","comments":true,"path":"about/index.html","permalink":"https://castile.github.io/about/index.html","excerpt":"","text":""},{"title":"link","date":"2020-02-11T05:09:54.000Z","updated":"2020-02-11T05:10:20.885Z","comments":true,"path":"link/index.html","permalink":"https://castile.github.io/link/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2020-02-11T03:27:47.000Z","updated":"2020-02-11T03:28:43.489Z","comments":true,"path":"tags/index.html","permalink":"https://castile.github.io/tags/index.html","excerpt":"","text":""},{"title":"music","date":"2020-02-11T05:15:57.000Z","updated":"2020-02-11T09:38:19.444Z","comments":true,"path":"music/index.html","permalink":"https://castile.github.io/music/index.html","excerpt":"","text":"æˆ‘çš„éŸ³ä¹ ä¸€é¦–æ­Œï¼Œä¸€ä¸ªæ•…äº‹ã€‚ var ap = new APlayer({ element: document.getElementById(\"aplayer-bgPVfICT\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"å¥¹çš„ç«æ¯›\", author: \"å‘¨æ°ä¼¦\", url: \"http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3\", pic: \"http://home.ustc.edu.cn/~mmmwhy/jay.jpg\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap);"}],"posts":[{"title":"å¼€æºæ•°æ®é›†","slug":"å¼€æºæ•°æ®é›†","date":"2020-02-13T02:11:42.000Z","updated":"2020-02-13T02:15:55.146Z","comments":true,"path":"2020/02/13/å¼€æºæ•°æ®é›†/","link":"","permalink":"https://castile.github.io/2020/02/13/%E5%BC%80%E6%BA%90%E6%95%B0%E6%8D%AE%E9%9B%86/","excerpt":"","text":"å¼€æºæ•°æ®é›† [toc] Images Analysis æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ Flickr30k å›¾ç‰‡æè¿° 31,783 imagesï¼Œæ¯å¼ å›¾ç‰‡5ä¸ªè¯­å¥æ ‡æ³¨ é“¾æ¥ Microsoft COCO å›¾ç‰‡æè¿° 330,000 images,æ¯å¼ å›¾ç‰‡è‡³å°‘5ä¸ªè¯­å¥æ ‡æ³¨ é“¾æ¥ ESP Game å¤šæ ‡ç­¾å®šä¹‰å›¾åƒ 20,770 imagesï¼Œ268 tagsï¼Œè¯¸å¦‚bed, light man,music é“¾æ¥ IAPRTC-12 å¤šæ ‡ç­¾å®šä¹‰å›¾åƒ 19,452 images,291 tags é“¾æ¥ NUS-WIDE å¤šæ ‡ç­¾å®šä¹‰å›¾åƒ 269,648 images,several tags (2-5 on average) per image é“¾æ¥ CUHK-PEDES ä»¥æ–‡æœå›¾ 34,054 imagesï¼Œæ¯å¼ å›¾ç‰‡2æ¡æè¿° é“¾æ¥ VRD è§†è§‰å…³ç³»æ£€æµ‹ 5,000 images, 100ç›®å½•ï¼Œ37,993å¯¹å…³ç³» é“¾æ¥ sVG è§†è§‰å…³ç³»æ£€æµ‹ 108,000 images, 998,000å¯¹å…³ç³» é“¾æ¥ Visual Genome Dataset å›¾åƒå±æ€§æ£€æµ‹ 108,077 images, 5.4 M åŒºåŸŸå—ï¼Œ2.8 M å±æ€§ï¼Œ2.3 M å…³ç³» é“¾æ¥ VQA é—®ç­”ç³»ç»Ÿ 1,105,904é—®é¢˜ï¼Œ11,059,040 å›ç­” é“¾æ¥ Visual7W é—®ç­”ç³»ç»Ÿ 327,939 é—®ç­”å¯¹ é“¾æ¥ TID2013 å›¾åƒè´¨é‡è¯„ä»· 25å¼ å‚è€ƒå›¾åƒï¼Œ24ä¸ªå¤±çœŸç±»å‹ é“¾æ¥ CSIQ å›¾åƒè´¨é‡è¯„ä»· 30å¼ å‚è€ƒå›¾åƒï¼Œ6ä¸ªå¤±çœŸç±»å‹ é“¾æ¥ LIVE å›¾åƒè´¨é‡è¯„ä»· 29å¼ å‚è€ƒå›¾åƒï¼Œ5ä¸ªå¤±çœŸç±»å‹ é“¾æ¥ WATERLOO å›¾åƒè´¨é‡è¯„ä»· 4744å¼ å‚è€ƒå›¾åƒï¼Œ20ä¸ªå¤±çœŸç±»å‹ é“¾æ¥ photo.net å›¾åƒç¾è§‚è¯„ä»· 20,278å¼ å›¾åƒï¼Œæ‰“åˆ†[0,10] é“¾æ¥ DPChallenge.com å›¾åƒç¾è§‚è¯„ä»· 16,509å¼ å›¾åƒï¼Œæ‰“åˆ†[0,10] é“¾æ¥ CUHK å›¾åƒç¾è§‚è¯„ä»· 28,410å¼ å›¾åƒï¼Œåªåˆ†é«˜è´¨é‡å’Œä½è´¨é‡ é“¾æ¥ AVA å›¾åƒç¾è§‚è¯„ä»· 255,500å¼ å›¾åƒï¼Œæ‰“åˆ†[0,10] é“¾æ¥ top Image Motion &amp; Tracking æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ CUHK03 Person re-identification(äººé‡è¯†åˆ«) image num:13164 person num:1360 camera num:10( 5 pairs) é“¾æ¥ CUHK02 Person re-identification(äººé‡è¯†åˆ«) image num:7264 person num:1816 camera num:10( 5 pairs) é“¾æ¥ CUHK01 Person re-identification(äººé‡è¯†åˆ«) image num:3884 person num:971 camera num: 2 é“¾æ¥ VIPeR Person re-identification(äººé‡è¯†åˆ«) image num:1264 person num:632 camera num:2 é“¾æ¥ ETH1,2,3 Person re-identification(äººé‡è¯†åˆ«) image num:8580 person num:83,35,28 camera num:1 é“¾æ¥ PRID2011 Person re-identification(äººé‡è¯†åˆ«) image num:24541 person num:934 camera num:2 é“¾æ¥ MARS Person re-identification(äººé‡è¯†åˆ«) image num:11910031 person num:1261 camera num:6 é“¾æ¥ Market1501 Person re-identification(äººé‡è¯†åˆ«) image num:32217 person num:1501 camera num:6 é“¾æ¥ Epic Fail (EF) dataset Risk Assessment(é£é™©è¯„ä¼°) video num:3000 é“¾æ¥ Street Accident (SA) dataset Risk Assessment(é£é™©è¯„ä¼°) video num:1733 é“¾æ¥ OTB-50 visual tracking(è·Ÿè¸ª) video num:50 é“¾æ¥ OTB-100 visual tracking(è·Ÿè¸ª) video num:100 é“¾æ¥ VOT2015 visual tracking(è·Ÿè¸ª) video num:60 é“¾æ¥ ALOV300 visual tracking(è·Ÿè¸ª) video num:314 é“¾æ¥ MOT visual tracking(è·Ÿè¸ª) video numğŸš‹11 test:11 é“¾æ¥ THUMOS Temporal action localization(åŠ¨ä½œå®šä½) video num:~3K activities class:20 instances:~3K é“¾æ¥ ActivityNet Temporal action localization(åŠ¨ä½œå®šä½) video num:20k activities class:200 instances:7.6K é“¾æ¥ Mexaction2 Temporal action localization(åŠ¨ä½œå®šä½) activities class:2 instances:1975 é“¾æ¥ FlyingChairs dataset optical flow(å…‰æµ) image pairsï¼š22k é“¾æ¥ FlyingThings3D optical flow(å…‰æµ) image pairsï¼š22k é“¾æ¥ KITTI benchmark suite optical flow(å…‰æµ) image pairsï¼š1600 é“¾æ¥ MPI Sintel optical flow(å…‰æµ) image pairsï¼š1064 é“¾æ¥ Video Analysis &amp; Scene Understanding æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ UCF101 åŠ¨ä½œè¡Œä¸ºè¯†åˆ« 13320 video,101ç±»åŠ¨ä½œï¼Œä¸»è¦æ˜¯äº”å¤§ç±»ï¼š1)äºº-ç‰©äº¤äº’ï¼›2)è‚¢ä½“è¿åŠ¨ï¼›3)äºº-äººäº¤äº’ï¼›4)å¼¹å¥ä¹å™¨ï¼›5)è¿åŠ¨ é“¾æ¥ HMDB51 åŠ¨ä½œè¡Œä¸ºè¯†åˆ« 7000 videos,51ç±»ï¼ŒåŒ…æ‹¬äººè„¸è¡¨æƒ…åŠ¨ä½œï¼Œèº«ä½“åŠ¨ä½œï¼Œäººä¸äººäº¤äº’ç­‰ é“¾æ¥ Moments-in-Time åŠ¨ä½œè¡Œä¸ºè¯†åˆ« 1,000,000 videos,339ç±» é“¾æ¥ ActivityNet 1.3 åŠ¨ä½œè¡Œä¸ºè¯†åˆ« 20,000 videos,200ç±» é“¾æ¥ Kinetics åŠ¨ä½œè¡Œä¸ºè¯†åˆ« 300,000 videosï¼Œ400ç±» é“¾æ¥ AVA åŠ¨ä½œè¡Œä¸ºè¯†åˆ« 57,600 videosï¼Œ80ç±» é“¾æ¥ Collective Activity Dataset ç¾¤ä½“æ´»åŠ¨è¡Œä¸ºè¯†åˆ« 44 videos,ç©¿å‰ã€è¡Œèµ°ã€ç­‰å¾…ã€äº¤è°ˆå’Œæ’é˜Ÿ äº”ç±» é“¾æ¥ Choiâ€™s New Dataset ç¾¤ä½“æ´»åŠ¨è¡Œä¸ºè¯†åˆ« 32 videosï¼Œèšä¼šï¼Œè°ˆè¯ï¼Œåˆ†å¼€ï¼Œä¸€èµ·èµ°ï¼Œè¿½é€å’Œæ’é˜Ÿ å…­ç±» None ActivityNet 1.3 æ£€æµ‹åŠ¨ä½œäº‹ä»¶çš„èµ·å§‹æ—¶é—´å’Œç»ˆæ­¢æ—¶é—´ 20,000 videos,200ç±»åŠ¨ä½œçš„èµ·å§‹æ—¶é—´å’Œç»ˆæ­¢æ—¶é—´ é“¾æ¥ THUMOS æ£€æµ‹åŠ¨ä½œäº‹ä»¶çš„èµ·å§‹æ—¶é—´å’Œç»ˆæ­¢æ—¶é—´ 15,000 videosï¼Œ101ç±»åŠ¨ä½œçš„èµ·å§‹æ—¶é—´å’Œç»ˆæ­¢æ—¶é—´ é“¾æ¥ MED äº‹ä»¶æ£€æµ‹ 32,744 videos,20ä¸ªäº‹ä»¶ é“¾æ¥ EventNet äº‹ä»¶æ£€æµ‹ 90,000 videosï¼Œ500ä¸ªäº‹ä»¶ é“¾æ¥ Columbia Consumer Video äº‹ä»¶æ£€æµ‹ 9,317 videosï¼Œ20ä¸ªäº‹ä»¶ é“¾æ¥ ADE20K äº‹ä»¶æ£€æµ‹ 20,210 videosï¼Œ900ä¸ªäº‹ä»¶ é“¾æ¥ DAVIS è§†é¢‘ä¸»ç‰©ä½“åˆ†å‰² 50 videosï¼Œåˆ†å‰²æ ‡æ³¨ é“¾æ¥ FBMS è§†é¢‘ä¸»ç‰©ä½“åˆ†å‰² 59 videosï¼Œåˆ†å‰²æ ‡æ³¨ é“¾æ¥ IJB-C è§†é¢‘äººè„¸è¯†åˆ« 11,000 videosï¼Œ é“¾æ¥ YouTube Faces è§†é¢‘äººè„¸è¯†åˆ« 3,425 videosï¼Œ1595 äºº é“¾æ¥ MS-Celeb-1M è§†é¢‘äººè„¸è¯†åˆ« 1,000,000 imagesï¼Œ21,000äºº é“¾æ¥ MSVD è§†é¢‘æè¿° 1,970 videos é“¾æ¥ MSR-VTT-10K è§†é¢‘æè¿° 10ï¼Œ000 videos é“¾æ¥ MSR-VTT-10K è§†é¢‘æè¿° æ—  é“¾æ¥ top 3D Computer Vision æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ photoface database åŸºäºå…‰åº¦ç«‹ä½“è§†è§‰çš„äºŒç»´å’Œä¸‰ç»´äººè„¸è¯†åˆ«æ•°æ®åº“ æ€»å…±7356å¼ å›¾åƒï¼ŒåŒ…å«1839ä¸ªsessionå’Œ261ä¸ªsubjects None NYU Depth V2 dataset å…³äºRGBD å›¾åƒåœºæ™¯ç†è§£çš„æ•°æ®åº“ æä¾›1449å¼ æ·±åº¦å›¾ç‰‡å’Œä»–ä»¬çš„å¯†é›†2dç‚¹ç±»æ ‡æ³¨ é“¾æ¥ SUN RGBD dataset æ˜¯ä¸Šé¢çš„NYU Depth V2 datasetçš„è¶…é›†ï¼Œå¤šäº†3D bounding boxeså’Œroom layoutsçš„æ ‡æ³¨ã€‚ æœ‰10,000å¼ RGB-Då›¾ç‰‡ï¼Œæœ‰58,657ä¸ª3DåŒ…å›´æ¡†å’Œ146,617 ä¸ª2dåŒ…å›´æ¡†ã€‚ é“¾æ¥ PASCAL3D+ æ–°çš„ä¸‰ç»´ç‰©ä½“æ£€æµ‹å’Œå§¿æ€ä¼°è®¡æ•°æ®é›†ï¼Œä»PASCAL VOC æ¼”åŒ–è€Œæ¥ï¼ŒåŒ…å«å›¾åƒï¼Œæ³¨è§£ï¼Œå’Œ3D CADæ¨¡å‹ æ€»å…±12ä¸ªç±»ï¼Œå¹³å‡æ¯ä¸ªç±»åˆ«æœ‰3000å¤šä¸ªå®ä¾‹ é“¾æ¥ IKEA åŒ…å«å…¸å‹å®¤å†…åœºæ™¯çš„ä¸‰ç»´æ¨¡å‹çš„æ•°æ®åº“ï¼Œä¾‹å¦‚æ¡Œå­æ¤…å­ç­‰ åŒ…å«å¤§çº¦759å¼ å›¾ç‰‡å’Œ219ä¸ª3Dæ¨¡å‹ é“¾æ¥ New Tsukuba Dataset åŒ…å«äº†å¾ˆå¤šç«‹ä½“ç‰©ä½“å¯¹çš„æ•°æ®åº“ï¼Œç”¨äºç«‹ä½“ç‰©ä½“åŒ¹é… æ€»å…±1800ä¸ªç«‹ä½“ç‰©ä½“å¯¹ï¼Œä»¥åŠæ¯ç«‹ä½“å¯¹çš„ç«‹ä½“è§†å·®å›¾ã€é®æŒ¡å›¾å’Œä¸è¿ç»­å›¾ é“¾æ¥ Oxford RobotCar Dataset å…³äºæˆ·å¤–è‡ªåŠ¨é©¾é©¶çš„æ•°æ®é›†ã€‚ åŒ…å«åœ¨é©¾é©¶æ±½è½¦è¿‡ç¨‹ä»6ä¸ªæ‘„åƒå¤´æ”¶é›†çš„2000wå¼ å›¾ç‰‡ï¼Œå’Œå½“æ—¶çš„æ¿€å…‰é›·è¾¾ï¼ŒGPSå’Œåœ°é¢å®å†µæ ‡æ³¨ã€‚ é“¾æ¥ Middlebury V3 åŒ…å«é«˜åˆ†è¾¨ç‡ç‰©ä½“ç«‹ä½“è§†å·®æ ‡æ³¨çš„æ•°æ®åº“ åŒ…å«33ä¸ªç±»ï¼Œæ²¡æœ‰æ˜è¯´æ¯ç±»æœ‰å¤šå°‘æ•°æ® é“¾æ¥ ShapeNet åŒ…å«3Dæ¨¡å‹ï¼Œå’Œ3dæ¨¡å‹çš„ç±»åˆ«æ ‡æ³¨çš„æ•°æ®é›†ï¼Œè¦†ç›–äº†å¸¸ç”¨çš„3Dæ•°æ®é›†PASCAL 3D+ã€‚ å®ƒæ¶µç›–55ä¸ªå¸¸è§çš„å¯¹è±¡ç±»åˆ«ï¼Œæœ‰å¤§çº¦51,300ä¸ª3Dæ¨¡å‹ é“¾æ¥ MICC dataset åŒ…å«äº†3Däººè„¸æ‰«æå’Œåœ¨ä¸åŒåˆ†è¾¨ç‡ï¼Œæ¡ä»¶å’Œç¼©æ”¾çº§åˆ«ä¸‹çš„å‡ ä¸ªè§†é¢‘åºåˆ—çš„æ•°æ®åº“ã€‚ æœ‰53ä¸ªäººçš„ç«‹ä½“äººè„¸æ•°æ® é“¾æ¥ CMU MoCap Dataset åŒ…å«äº†3Däººä½“å…³é”®ç‚¹æ ‡æ³¨å’Œéª¨æ¶ç§»åŠ¨æ ‡æ³¨çš„æ•°æ®é›†ã€‚ æœ‰6ä¸ªç±»åˆ«å’Œ23ä¸ªå­ç±»åˆ«ï¼Œæ€»å…±2605ä¸ªæ•°æ®ã€‚ é“¾æ¥ DTU dataset å…³äº3Dåœºæ™¯çš„æ•°æ®é›†ã€‚ æœ‰124ä¸ªåœºæ™¯ï¼Œæ¯åœºæ™¯æœ‰49/64ä¸ªä½ç½®çš„RGBå›¾åƒå’Œç»“æ„å…‰æ ‡æ³¨ã€‚ é“¾æ¥ top Analyzing Humans in Images æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ MSR-Action3D åŒ…å«æ·±åº¦çš„åŠ¨ä½œè¯†åˆ«æ•°æ®é›†ï¼Œ æœ‰20ä¸ªåŠ¨ä½œï¼Œæ€»å…±557ä¸ªåºåˆ—ã€‚ é“¾æ¥ Florence-3D åŒ…å«æ·±åº¦çš„åŠ¨ä½œè¯†åˆ«æ•°æ®é›†ï¼Œ æœ‰9ä¸ªåŠ¨ä½œï¼Œæ€»å…±215ä¸ªåŠ¨ä½œåºåˆ—ã€‚ é“¾æ¥ Berkeley MHAD åŒ…å«æ·±åº¦çš„åŠ¨ä½œè¯†åˆ«æ•°æ®é›†ï¼Œ æœ‰11ä¸ªåŠ¨ä½œï¼Œäº§ç”Ÿ660ä¸ªåŠ¨ä½œåºåˆ—ã€‚ é“¾æ¥ Online Action Detection åŒ…å«æ·±åº¦çš„åŠ¨ä½œè¯†åˆ«æ•°æ®é›†ï¼Œ æ•°æ®é›†åŒ…å«59ä¸ªé•¿åºåˆ—ï¼ŒåŒ…å«10ç§ä¸åŒçš„æ—¥å¸¸ç”Ÿæ´»è¡Œä¸ºã€‚ é“¾æ¥ ChaLearn LAP IsoGD Dataset RGB-Då›¾åƒçš„æ‰‹åŠ¿è¯†åˆ«çš„æ•°æ®é›†ã€‚ åŒ…æ‹¬47933ä¸ªRGB-Dæ‰‹åŠ¿è§†é¢‘ï¼Œæœ‰249ä¸ªæ‰‹åŠ¿æ ‡ç­¾ã€‚Trainingæœ‰35878è§†é¢‘ï¼ŒValidationæœ‰5784ä¸ªï¼Œtestæœ‰6271ä¸ª é“¾æ¥ MAFA dataset å…³äºé¢éƒ¨é®æŒ¡é—®é¢˜çš„æ•°æ®é›† æœ‰30, 811å¼ äººè„¸å’Œ35806å¼ æœ‰é®æŒ¡çš„è„¸ç»„æˆã€‚ é“¾æ¥ MSRC-12 Kinect Gesture Dataset æ‰‹åŠ¿è¯†åˆ«æ•°æ®é›† æœ‰4900å¼ å›¾ç‰‡ï¼ŒåŒ…å«12ä¸ªä¸åŒæ‰‹åŠ¿ï¼Œ é“¾æ¥ 2013 Chalearn Gesture Challenge dataset æ‰‹åŠ¿è¯†åˆ«æ•°æ®é›† æœ‰11000å¼ å›¾ç‰‡ï¼ŒåŒ…å«20ä¸ªä¸åŒæ‰‹åŠ¿ï¼Œ é“¾æ¥ WIDER FACE äººè„¸æ£€æµ‹æ•°æ®é›† æœ‰ 32,203 å¼ å›¾ç‰‡ï¼Œæ ‡æ³¨äº†393703ä¸ªäººè„¸ã€‚ é“¾æ¥ FDDB äººè„¸æ£€æµ‹æ•°æ®é›† 2845å¼ å›¾ç‰‡ï¼Œæ ‡æ³¨äº†5171å¼ äººè„¸ã€‚ é“¾æ¥ 300-VW dataset é¢éƒ¨è¡¨æƒ…æ•°æ®é›† åŒ…å«114ä¸ªè§†é¢‘å’Œæ€»è®¡218,595å¸§ã€‚ é“¾æ¥ HMDB51 äººç±»è¡Œä¸ºè¯†åˆ«çš„æ•°æ®é›† åŒ…å«51ä¸ªåŠ¨ä½œï¼Œæ€»å…±æœ‰6766ä¸ªè§†é¢‘å‰ªè¾‘ é“¾æ¥ MPII Cooking Activities Dataset äººç±»è¡Œä¸ºè¯†åˆ«çš„æ•°æ®é›† åŒ…å«65ä¸ªåŠ¨ä½œï¼Œæœ‰5609ä¸ªè§†é¢‘ é“¾æ¥ UCF101 äººç±»è¡Œä¸ºè¯†åˆ«çš„æ•°æ®é›† åŒ…å«101ä¸ªåŠ¨ä½œï¼Œæœ‰13320ä¸ªè§†é¢‘ é“¾æ¥ IJB-A dataset åŒ…å«è§†é¢‘å’Œå›¾ç‰‡äººè„¸è¯†åˆ«çš„æ•°æ®é›† åŒ…å«5712ä¸ªå›¾åƒå’Œ2085ä¸ªè§†é¢‘ é“¾æ¥ YouTube celebrities è§†é¢‘äººè„¸è¯†åˆ«çš„æ•°æ®é›† åŒ…å«47ä½åäººçš„1910ä¸ªè§†é¢‘ é“¾æ¥ COX è§†é¢‘äººè„¸è¯†åˆ«çš„æ•°æ®é›† åŒ…å«1000ä¸ªä¸»é¢˜çš„4000ä¸ªè§†é¢‘ é“¾æ¥ Human3.6M äººä½“å§¿æ€ä¼°è®¡çš„æ•°æ®é›† 360ä¸‡å¼ 3Dç…§ç‰‡ï¼Œ11åå—è¯•è€…åœ¨4ä¸ªè§†ç‚¹ä¸‹æ‰§è¡Œ15ä¸ªäº†ä¸åŒçš„åŠ¨ä½œ é“¾æ¥ iLIDS è¡Œäººé‡è¯†åˆ«çš„æ•°æ®é›† 476 å¼ å›¾åƒï¼ŒåŒ…å«119ä¸ªäºº é“¾æ¥ VIPeR è¡Œäººé‡è¯†åˆ«çš„æ•°æ®é›† 632ä¸ªè¡Œäººå›¾ç‰‡å¯¹ï¼ˆç”±ä¸¤ä¸ªç›¸æœºæ‹æ‘„ï¼‰ é“¾æ¥ CUHK01 è¡Œäººé‡è¯†åˆ«çš„æ•°æ®é›† åŒ…å«971è¡Œäºº, 3884å¼ å›¾ç‰‡ é“¾æ¥ CUHK03 è¡Œäººé‡è¯†åˆ«çš„æ•°æ®é›† åŒ…å«1360è¡Œäºº, 13164å¼ å›¾ç‰‡ é“¾æ¥ RWTH-PHOENIX-Weather multi-signer 2014 æ‰‹è¯­è¯†åˆ«çš„æ•°æ®é›† åŒ…å«äº†5672ä¸ªå¾·è¯­æ‰‹è¯­çš„å¥å­ï¼Œæœ‰65,227ä¸ªæ‰‹è¯­å§¿åŠ¿å’Œ799,006å¸§ é“¾æ¥ AFLW äººç±»é¢éƒ¨å…³é”®ç‚¹çš„æ•°æ®é›† æ€»å…±çº¦æœ‰25kå¼ è„¸ï¼Œæ¯å¹…å›¾åƒæ ‡æ³¨äº†å¤§çº¦21ä¸ªä½ç½®ã€‚ é“¾æ¥ CMU mocap database åŠ¨ä½œè¯†åˆ«çš„æ•°æ®é›† 2235ä¸ªæ•°æ®ï¼ŒåŒ…å«144ä¸ªä¸åŒçš„åŠ¨ä½œã€‚ é“¾æ¥ Georgia Tech (GT) database äººè„¸è¯†åˆ«æ•°æ®åº“ 50ä¸ªäººæ¯äºº15å¼ äººè„¸ã€‚ é“¾æ¥ ORL äººè„¸è¯†åˆ«æ•°æ®åº“ 40ä¸ªäººæ¯ä¸ªäºº10å¼ å›¾ã€‚ é“¾æ¥ top Application æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ DogCentric Activity Dataset ç¬¬ä¸€è§†è§’çš„ç‹—å’Œäººä¹‹é—´çš„ç›¸äº’è¡Œä¸ºçš„æ•°æ®é›†ï¼ˆè§†é¢‘ï¼‰ æ€»å…±æœ‰10ç±»ï¼Œå…·ä½“æ•°æ®é‡æ²¡æœ‰æ˜è¯´ï¼Œyæ˜¯åŠ¨ä½œç±»åˆ« é“¾æ¥ JPL First-Person Interaction Dataset ç¬¬ä¸€è§†è§’è§‚å¯ŸåŠ¨ä½œçš„æ•°æ®é›† 57ä¸ªè§†é¢‘ï¼Œ8ä¸ªå¤§ç±»ï¼Œyæ˜¯åŠ¨ä½œç±»åˆ« é“¾æ¥ NUS-WIDE å…³äºå›¾åƒæ–‡æœ¬åŒ¹é…çš„æ•°æ®é›† 269,648ä¸ªå›¾åƒå’Œå¯¹åº”çš„æ ‡ç­¾ é“¾æ¥ LabelMe Dataset å…³äºå›¾åƒæ–‡æœ¬åŒ¹é…çš„æ•°æ®é›† 3825ä¸ªå›¾åƒå’Œå¯¹åº”æ ‡ç­¾ é“¾æ¥ Pascal Dataset å…³äºå›¾åƒæ–‡æœ¬åŒ¹é…çš„æ•°æ®é›† 5011å¼ è®­ç»ƒå›¾åƒå’Œ4952å¼ æµ‹è¯•å›¾åƒ ) ICDAR 2015 å…³äºæ–‡æœ¬æ£€æµ‹çš„æ•°æ®é›† 1500å¼ è®­ç»ƒï¼Œ1000å¼ æµ‹è¯•ï¼Œyä¸ºå››è¾¹å½¢çš„å››ä¸ªé¡¶ç‚¹ã€‚ é“¾æ¥ COCO-Text å…³äºæ–‡æœ¬æ£€æµ‹çš„æ•°æ®é›† 63686å¼ å›¾ç‰‡ï¼Œå…¶ä¸­43686å¼ è¢«é€‰ä¸ºè®­ç»ƒé›†ï¼Œå‰©ä¸‹çš„2ä¸‡ç”¨äºæµ‹è¯•ã€‚ é“¾æ¥ MSRA-TD500 å…³äºæ–‡æœ¬æ£€æµ‹çš„æ•°æ®é›† 300ä¸ªè®­ç»ƒï¼Œ200ä¸ªæµ‹è¯•å›¾åƒ é“¾æ¥ Microsoft 7-Scenes Dataset å®¤å†…äººä½“è¿åŠ¨çš„æ•°æ®é›† æœ‰7ç§ä¸åŒå®¤å†…ç¯å¢ƒï¼Œæ¯åŒ…å«500-1000å¼ å›¾åƒè§†é¢‘åºåˆ—ã€‚ é“¾æ¥ Oxford RobotCar æˆ·å¤–è‡ªåŠ¨é©¾é©¶æ•°æ®é›† åŒ…å«å›¾åƒï¼Œæ¿€å…‰æ‰«æç»“æœå’ŒGPSæ•°æ®ã€‚ é“¾æ¥ top Low- &amp; Mid-Level Vision æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ Deep Video Deblurring for Hand-held Cameras video/image deblurring(å›¾åƒå»æ¨¡ç³Š) video num:71 video time: 3-5s blurry and sharp pair image num:6708 é“¾æ¥ GOPRO dataset video/image deblurring(å›¾åƒå»æ¨¡ç³Š) blurry and sharp pair image num:3214 train num:2103 test num:1111 é“¾æ¥ BSD68 image restoration(å›¾åƒä¿®å¤)/é«˜æ–¯é™å™ª image num:68 é“¾æ¥ BSD100 â€œimage restoration(å›¾åƒä¿®å¤)super resolutionè¶…åˆ†è¾¨ç‡é‡å»ºâ€ image num:100 é“¾æ¥ Set5 â€œimage restoration(å›¾åƒä¿®å¤)super resolutionè¶…åˆ†è¾¨ç‡é‡å»ºâ€ image num:5 é“¾æ¥ Set14 â€œimage restoration(å›¾åƒä¿®å¤)super resolutionè¶…åˆ†è¾¨ç‡é‡å»ºâ€ image num:14 é“¾æ¥ Urban100 â€œimage restoration(å›¾åƒä¿®å¤)super resolutionè¶…åˆ†è¾¨ç‡é‡å»ºâ€ image num:100 é“¾æ¥ NYU v2 dataset â€œimage restoration(å›¾åƒä¿®å¤)depth super resolutionæ·±åº¦è¶…åˆ†è¾¨ç‡é‡å»ºâ€ image num:1449 é“¾æ¥ Middlebury dataset â€œimage restoration(å›¾åƒä¿®å¤)depth super resolutionæ·±åº¦è¶…åˆ†è¾¨ç‡é‡å»ºâ€ image pair num: 33 é“¾æ¥ alpha matting benchmark Natural image matting(æŠ å›¾) â€œtrain num:27,test num:8â€ é“¾æ¥ real image benchmark Natural image matting(æŠ å›¾) â€œtrain num:49300,test num:1000â€ é“¾æ¥ MSRA10K/MSRA-B Image saliency detection(æ˜¾è‘—æ€§åŒºåŸŸæ£€æµ‹) image num(MSRA10K):10000 image num(MSRA-B):5000 é“¾æ¥ ECSSD Image saliency detection(æ˜¾è‘—æ€§åŒºåŸŸæ£€æµ‹) image num:1000 é“¾æ¥ DUT-OMRON Image saliency detection(æ˜¾è‘—æ€§åŒºåŸŸæ£€æµ‹) image num:5168 é“¾æ¥ PASCAL-S Image saliency detection(æ˜¾è‘—æ€§åŒºåŸŸæ£€æµ‹) image num:850 é“¾æ¥ HKU-IS Image saliency detection(æ˜¾è‘—æ€§åŒºåŸŸæ£€æµ‹) image num:4447 é“¾æ¥ SOD Image saliency detection(æ˜¾è‘—æ€§åŒºåŸŸæ£€æµ‹) image num:300 é“¾æ¥ Describable Textures Dataset texture synthesis(çº¹ç†åˆæˆ) image num:5640 category num:47 split train:val:test = 1:1:1 é“¾æ¥ CVPPP leaf segmentation Instance segmentation(æ ·ä¾‹åˆ†å‰²) image num: 161 train num: 128 test num: 33 é“¾æ¥ KITTI car segmentation Instance segmentation(æ ·ä¾‹åˆ†å‰²) image num: 3976 train num: 3712 test num: 144 val:120 é“¾æ¥ Cityscapes Instance segmentation(æ ·ä¾‹åˆ†å‰²) image num: 5000 train num: 2975 test num: 1525 val:500 é“¾æ¥ SYMMAX Symmetry Detection(å¯¹ç§°æ€§æ£€æµ‹) image num: train:200 test:100 é“¾æ¥ WHSYMMAX Symmetry Detection(å¯¹ç§°æ€§æ£€æµ‹) image num: train:228 test:100 object num: 1 é“¾æ¥ SK506 Symmetry Detection(å¯¹ç§°æ€§æ£€æµ‹) image num: train:300 test:206 object num: 16 é“¾æ¥ Sym-PASCAL Symmetry Detection(å¯¹ç§°æ€§æ£€æµ‹) image num: train:648 test:787 object num: 14 é“¾æ¥ Color Checker Dataset Color constancy(é¢œè‰²æ’å®š) image num: 568 é“¾æ¥ NUS 8-Camera Dataset Color constancy(é¢œè‰²æ’å®š) image num: 1736 é“¾æ¥ top Text æ•°æ®é›† ä»‹ç» å¤‡æ³¨ ç½‘å€ Stanford Sentiment Treebank æ–‡æœ¬æƒ…æ„Ÿåˆ†æ 11855ä¸ªå¥å­åˆ’åˆ†ä¸º239231ä¸ªçŸ­è¯­ï¼Œæ¯ä¸ªçŸ­è¯­æœ‰ä¸ªæ¦‚ç‡å€¼ï¼Œè¶Šå°è¶Šè´Ÿé¢ï¼Œè¶Šå¤§è¶Šæ­£é¢ é“¾æ¥ IMDB æ–‡æœ¬æƒ…æ„Ÿåˆ†æ 100,000å¥å­ï¼Œæ­£é¢è´Ÿé¢ä¸¤ç±» é“¾æ¥ Yelp æ–‡æœ¬æƒ…æ„Ÿåˆ†æ æ—  é“¾æ¥ Multi-Domain Sentiment Dataset(Amazon product) æ–‡æœ¬æƒ…æ„Ÿåˆ†æ 100,000+å¥å­ï¼Œæ­£é¢è´Ÿé¢2ç±»æˆ–å¼ºæ­£é¢ã€å¼±æ­£é¢ã€ä¸­ç«‹ã€å¼±è´Ÿé¢ã€å¼ºè´Ÿé¢5ç±» é“¾æ¥ SemEval æ–‡æœ¬æƒ…æ„Ÿåˆ†æ 20,632å¥å­ï¼Œä¸‰ç±»ï¼ˆæ­£é¢ã€è´Ÿé¢ã€ä¸­ç«‹ï¼‰ é“¾æ¥ Sentiment140(STS) æ–‡æœ¬æƒ…æ„Ÿåˆ†æ 1,600,000å¥å­,ä¸‰ç±»ï¼ˆæ­£é¢ã€è´Ÿé¢ã€ä¸­ç«‹ï¼‰ é“¾æ¥ top","categories":[{"name":"äººå·¥æ™ºèƒ½","slug":"äººå·¥æ™ºèƒ½","permalink":"https://castile.github.io/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"}],"tags":[{"name":"äººå·¥æ™ºèƒ½","slug":"äººå·¥æ™ºèƒ½","permalink":"https://castile.github.io/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"},{"name":"æ•°æ®é›†","slug":"æ•°æ®é›†","permalink":"https://castile.github.io/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/"}]},{"title":"Javaä¸­çš„Pair","slug":"Javaä¸­çš„Pair","date":"2020-02-12T04:52:45.000Z","updated":"2020-02-12T05:06:16.133Z","comments":true,"path":"2020/02/12/Javaä¸­çš„Pair/","link":"","permalink":"https://castile.github.io/2020/02/12/Java%E4%B8%AD%E7%9A%84Pair/","excerpt":"","text":"Java ä¸­çš„Pair â€‹ Pairï¼ˆé…å¯¹ï¼‰ï¼š å½“ä¸€ä¸ªå‡½æ•°è¿”å›ä¸¤ä¸ªå€¼å¹¶ä¸”ä¸¤ä¸ªå€¼éƒ½æœ‰é‡è¦æ„ä¹‰æ—¶æˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨Mapçš„keyå’Œvalueæ¥è¡¨è¾¾ï¼Œä½†æ˜¯è¿™æ ·çš„è¯å°±éœ€è¦ä¸¤ä¸ªé”®å€¼å¯¹ï¼Œç”¨Mapæ˜ å°„å»åšå¤„ç†æ—¶ï¼Œæ­¤æ—¶çš„keyç›¸å½“äºvalueçš„ä¸€ä¸ªæè¿°æˆ–è€…å¼•ç”¨ï¼Œè€Œå…·ä½“çš„ä¿¡æ¯éƒ½ä¿å­˜åœ¨valueä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡keyå»è·å–å¯¹åº”çš„valueã€‚ä½†æ˜¯å½“keyå’Œvalueéƒ½ä¿å­˜å…·ä½“ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°Pairå¯¹äº†ã€‚Pairå¯¹ä¹Ÿæ˜¯é”®å€¼å¯¹çš„å½¢å¼ã€‚ â€‹ å®é™…ä¸ŠPairä¿å­˜çš„åº”è¯¥è¯´æ˜¯ä¸€ä¸ªä¿¡æ¯å¯¹ï¼Œä¸¤ä¸ªä¿¡æ¯éƒ½æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œæ²¡æœ‰keyå’Œvalueä¹‹åˆ†ã€‚ å®ç° â€‹ åœ¨javax.utilåŒ…ä¸‹ï¼Œæœ‰ä¸€ä¸ªç®€å•Pairç±»å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œç”¨æ³•æ˜¯ç›´æ¥é€šè¿‡æ„é€ å‡½æ•°å°†æ‰€å¸å¼•ç±»å‹çš„Keyå’Œvalueå­˜å…¥ï¼Œè¿™ä¸ªkeyå’Œvalueæ²¡æœ‰ä»»ä½•çš„å¯¹åº”å…³ç³»ç±»å‹ã€‚ java123456789101112131415161718import javafx.util.Pair;/** * @author Hongliang Zhu * @create 2020-02-12 13:02 */public class pair &#123; public static void main(String[] args) &#123; Pair&lt;Integer, String&gt; p = new Pair&lt;&gt;(1, \"zhuhongliang\"); // è¦ä¼ å…¥å¯¹åº”çš„å€¼ System.out.println(p.getKey()); System.out.println(p.getValue()); Pair&lt;String, String&gt; p2 = new Pair&lt;&gt;(\"Tony\", \"Jane\"); System.out.println(p2.getKey()); System.out.println(p2.getValue()); &#125;&#125; 1 zhuhongliang Tony Jane è¿™ç§Pairçš„è¿”å›å¯¹ä¸€ä¸ªå‡½æ•°è¿”å›ä¸¤ä¸ªéƒ½æœ‰æ„ä¹‰çš„å€¼æœ‰ç‰¹åˆ«ç”¨å¤„ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/tags/Java/"}]},{"title":"leetcode-50-å¹‚å‡½æ•°","slug":"leetcode-50-å¹‚å‡½æ•°","date":"2020-02-12T04:29:27.000Z","updated":"2020-02-12T09:02:10.317Z","comments":true,"path":"2020/02/12/leetcode-50-å¹‚å‡½æ•°/","link":"","permalink":"https://castile.github.io/2020/02/12/leetcode-50-%E5%B9%82%E5%87%BD%E6%95%B0/","excerpt":"","text":"æè¿° leetcode-50 Pow(x, n) å®ç° pow(x, n) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: 2.00000, 10 è¾“å‡º: 1024.00000 ç¤ºä¾‹ 2: è¾“å…¥: 2.10000, 3 è¾“å‡º: 9.26100 ç¤ºä¾‹ 3: è¾“å…¥: 2.00000, -2 è¾“å‡º: 0.25000 è§£é‡Š: 2-2 = 1/22 = 1/4 = 0.25 è¯´æ˜: -100.0 &lt; x &lt; 100.0 n æ˜¯ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231, 231 âˆ’ 1] ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/powx-n åˆ†æ æš´åŠ›æ±‚è§£ï¼š è¿™ä¸ªä¼šè¶…æ—¶ï¼Œè¿™é‡Œè¦å¤„ç†ä¸€ä¸‹nå°äº0çš„æƒ…å†µï¼Œ å½“nå°äº0çš„æ—¶å€™ï¼Œå°†xå˜æˆ1/xï¼Œ n = -nï¼› å¿«é€Ÿå¹‚ï¼š https://blog.csdn.net/qq_19782019/article/details/85621386 â€‹ å¿«é€Ÿå¹‚ç®—æ³•èƒ½å¸®æˆ‘ä»¬ç®—å‡ºæŒ‡æ•°éå¸¸å¤§çš„å¹‚ï¼Œä¼ ç»Ÿçš„æ±‚å¹‚ç®—æ³•ä¹‹æ‰€ä»¥æ—¶é—´å¤æ‚åº¦éå¸¸é«˜ï¼ˆä¸ºO(æŒ‡æ•°n)ï¼‰ï¼Œå°±æ˜¯å› ä¸ºå½“æŒ‡æ•°néå¸¸å¤§çš„æ—¶å€™ï¼Œéœ€è¦æ‰§è¡Œçš„å¾ªç¯æ“ä½œæ¬¡æ•°ä¹Ÿéå¸¸å¤§ã€‚æ‰€ä»¥æˆ‘ä»¬å¿«é€Ÿå¹‚ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯æ¯ä¸€æ­¥éƒ½æŠŠæŒ‡æ•°åˆ†æˆä¸¤åŠï¼Œè€Œç›¸åº”çš„åº•æ•°åšå¹³æ–¹è¿ç®—ã€‚è¿™æ ·ä¸ä»…èƒ½æŠŠéå¸¸å¤§çš„æŒ‡æ•°ç»™ä¸æ–­å˜å°ï¼Œæ‰€éœ€è¦æ‰§è¡Œçš„å¾ªç¯æ¬¡æ•°ä¹Ÿå˜å°ï¼Œè€Œæœ€åè¡¨ç¤ºçš„ç»“æœå´ä¸€ç›´ä¸ä¼šå˜ã€‚ ä»£ç  https://github.com/Castile/algorithm/blob/master/leetcode/src/RecurrenceAndDynamicProgramming/leetcode50_pow.java java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package RecurrenceAndDynamicProgramming;/** * @author Hongliang Zhu * @create 2020-02-12 15:39 */public class leetcode50_pow &#123; public static double pow(double x, int n) &#123; long N = n; if (n &lt; 0) &#123; N = -N; x = 1 / x; &#125; double ans = 1.0; for (int i = 0; i &lt; N; i++) &#123; ans *= x; ans %= 1000; &#125; return ans; &#125; /** * å¿«é€Ÿå¹‚ * @param x åº•æ•° * @param n æŒ‡æ•° * @return ç»“æœ æ±‚æœ€åä¸‰ä½æ•° */ public static double fast_pow(double x, int n)&#123; double result = 1; while (n &gt; 0 )&#123;// if(n % 2 == 0)&#123;// // å¦‚æœæŒ‡æ•°ä¸ºå¶æ•°// n /= 2;// x = x * x % 1000;// &#125;if(n % 2 != 0 )&#123;// // æŒ‡æ•°ä¸ºå¥‡æ•°// n--; // æŒ‡æ•°å‡ä¸€ä¸ºå¶æ•°// result = result * x % 1000;// n /= 2;// x = x * x % 1000;// &#125; if( (n &amp; 1) == 1) &#123; // n%2 == 1 å¥‡æ•° ä½¿ç”¨ä½è¿ç®—æ›´åŠ é«˜æ•ˆ result = result * x % 1000; &#125; // n /= 2; n &gt;&gt;= 2; // å³ç§» x = x * x % 1000; &#125; return result % 1000; &#125; public static void main(String[] args) &#123; long start = System.nanoTime();// double ans = pow(2, 1000000000); double anss = fast_pow(2, 10000000); long end = System.nanoTime(); System.out.println(anss); System.out.println(\"è€—æ—¶ï¼š\" + (end - start) +\" ns\"); &#125;&#125; é™„ä¸ŠACçš„ç»“æœï¼š java123456789101112131415161718192021222324class Solution &#123; public double myPow(double x, int n) &#123; long N = n; if (N &lt; 0) &#123; x = 1 / x; N = -N; &#125; return fastPow(x, N); &#125; private double fastPow(double x, long n)&#123; if(n == 0) return 1.0; double ans = 1.0; while(n &gt; 0)&#123; if((n &amp; 1 ) == 1)&#123; ans = ans*x; &#125; n &gt;&gt;= 1; x = x * x; &#125; return ans; &#125;&#125;; å¿«é€Ÿå¹‚å¾ˆå·§å¦™ï¼å€¼å¾—å­¦ä¹ ï¼åŠ æ²¹ï¼ï¼ï¼","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"é€’å½’","slug":"é€’å½’","permalink":"https://castile.github.io/tags/%E9%80%92%E5%BD%92/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://castile.github.io/tags/%E6%95%B0%E5%AD%A6/"}]},{"title":"leetcode-104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦","slug":"leetcode-104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦","date":"2020-02-12T04:29:06.000Z","updated":"2020-02-12T06:08:50.624Z","comments":true,"path":"2020/02/12/leetcode-104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦/","link":"","permalink":"https://castile.github.io/2020/02/12/leetcode-104-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6/","excerpt":"","text":"æè¿° leetcode-104ï¼š äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ã€ç®€å•ã€‘ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚ äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹ï¼š ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]ï¼Œ â€‹ 3 / 9 20 / 15 7 è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/maximum-depth-of-binary-tree åˆ†æ å¾ˆç›´è§‚æƒ³åˆ°é€’å½’æ¥è§£å†³ï¼Œæ ¹èŠ‚ç‚¹çš„æ•°çš„é«˜åº¦ç­‰äº 1 åŠ ä¸Š å·¦å­æ ‘çš„é«˜åº¦ä¸å³å­æ•°é«˜åº¦çš„æœ€å¤§å€¼ã€‚ Rooth=1+maxâ¡(SubL+SubR)Root_h = 1 + \\max(Sub_L + Sub_R) Roothâ€‹=1+max(SubLâ€‹+SubRâ€‹) è¿­ä»£ï¼š BFSå¹¿åº¦ä¼˜å…ˆéå†ï¼Œå› ä¸ºBFSæ˜¯æŒ‰å±‚æ¬¡éå†ï¼Œæ‰€ä»¥äºŒå‰æ ‘æœ‰å¤šå°‘å±‚ï¼ŒäºŒå‰æ ‘çš„é«˜åº¦å°±ç­‰äºå±‚æ•°ã€‚ dfsï¼š å…¶å®æ˜¯æŒ‰ç…§äºŒå‰æ ‘çš„å‰åºéå†é¡ºåºï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹çš„å½“å‰æ·±åº¦è®°å½•ä¸‹æ¥ï¼Œè¿™é‡Œä½¿ç”¨äº†Pairç»“æ„ æ—¶é—´å¤æ‚åº¦å‡ä¸ºO(n)ï¼Œ ç©ºé—´å¤æ‚åº¦å‡ä¸ºO(n)ï¼Œå¦‚æœæ˜¯å¹³è¡¡äºŒå‰æ ‘çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦æœ€å¥½æƒ…å†µä¸ºO(logN)ã€‚ ä»£ç  github: https://github.com/Castile/algorithm/blob/master/leetcode/src/Tree/leetcode104_MaximumDepthofBinaryTree.java java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596import com.sun.org.apache.xalan.internal.xsltc.util.IntegerArray;import javafx.util.Pair;import jdk.internal.org.objectweb.asm.commons.InstructionAdapter;import sun.awt.TracedEventQueue;import java.util.LinkedList;/** * @author Hongliang Zhu * @create 2020-02-06 22:38 */class TreeNode &#123; int val; TreeNode left; TreeNode right; TreeNode(int x) &#123; val = x; &#125;&#125;public class leetcode104_MaximumDepthofBinaryTree &#123; // static int i =0;// static int j = 0; // ä¸èƒ½åœ¨è¿™é‡Œå®šä¹‰ public static int maxDepth(TreeNode root) &#123; if (root == null) return 0; int i = maxDepth(root.left); int j = maxDepth(root.right); return Math.max(i, j) + 1; &#125; /** * BFS å±‚æ¬¡éå†ï¼Œ è®°å½•å±‚æ•°ï¼Œå³ä¸ºæ·±åº¦ * * @param root æ ¹èŠ‚ç‚¹ * @return äºŒå‰æ ‘çš„æ·±åº¦ */ public static int maxDepth_BFS(TreeNode root) &#123; if (root == null) return 0; LinkedList&lt;TreeNode&gt; queue = new LinkedList&lt;&gt;(); // é˜Ÿåˆ— queue.add(root); int maxDepth = 0; while (!queue.isEmpty()) &#123; maxDepth++;// å±‚æ•°åŠ 1 // å°†å½“å‰å±‚å‡ºé˜Ÿåˆ— int currSize = queue.size(); for (int i = 0; i &lt; currSize; i++) &#123; TreeNode node = queue.poll(); if (node.left != null) queue.add(node.left); if (node.right != null) queue.add(node.right); &#125; &#125; return maxDepth; &#125; public static int maxDepth_DFS(TreeNode root) &#123; if (root == null) return 0; LinkedList&lt;Pair&lt;TreeNode, Integer&gt;&gt; stack = new LinkedList&lt;&gt;(); // æ ˆ stack.push(new Pair&lt;&gt;(root, 1)); // æ ¹èŠ‚ç‚¹çš„æ·±åº¦ä¸º1 int maxDepth = 0; while (!stack.isEmpty()) &#123; Pair&lt;TreeNode, Integer&gt; currNode = stack.pop(); // å½“å‰èŠ‚ç‚¹ maxDepth = Math.max(maxDepth, currNode.getValue()); // ä¸å½“å‰èŠ‚ç‚¹çš„æ·±åº¦æ¯”è¾ƒ // å·¦å³å­æ ‘è¿›æ ˆ if (currNode.getKey().left != null) &#123; stack.push(new Pair&lt;&gt;(currNode.getKey().left, currNode.getValue() + 1)); // æ·±åº¦åŠ 1 &#125; if (currNode.getKey().right != null) &#123; stack.push(new Pair&lt;&gt;(currNode.getKey().right, currNode.getValue() + 1)); &#125; &#125; return maxDepth; &#125; public static void main(String[] args) &#123; TreeNode root = new TreeNode(1); TreeNode t2 = new TreeNode(2); TreeNode t3 = new TreeNode(3); TreeNode t4 = new TreeNode(4); TreeNode t5 = new TreeNode(5); root.left = t2; root.right = t3; t2.left = t4; t2.right = t5; System.out.println(maxDepth(root)); // 3 System.out.println(maxDepth_BFS(root)); // 3 System.out.println(maxDepth_DFS(root)); // 3 &#125;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"äºŒå‰æ ‘","slug":"äºŒå‰æ ‘","permalink":"https://castile.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"},{"name":"é€’å½’","slug":"é€’å½’","permalink":"https://castile.github.io/tags/%E9%80%92%E5%BD%92/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ç®€å•","slug":"ç®€å•","permalink":"https://castile.github.io/tags/%E7%AE%80%E5%8D%95/"}]},{"title":"leetcode-206-åè½¬é“¾è¡¨","slug":"leetcode-206-åè½¬é“¾è¡¨","date":"2020-02-06T09:39:44.000Z","updated":"2020-02-06T10:06:18.234Z","comments":true,"path":"2020/02/06/leetcode-206-åè½¬é“¾è¡¨/","link":"","permalink":"https://castile.github.io/2020/02/06/leetcode-206-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/","excerpt":"","text":"æè¿° leetcode206ï¼š åè½¬é“¾è¡¨ ã€ç®€å•ã€‘ åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚ ç¤ºä¾‹: è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL è¾“å‡º: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL è¿›é˜¶: ä½ å¯ä»¥è¿­ä»£æˆ–é€’å½’åœ°åè½¬é“¾è¡¨ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/reverse-linked-list åˆ†æ è¿­ä»£ï¼š å¦‚ä¸‹å›¾ï¼š â€‹ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ã€‚ å‡è®¾ n æ˜¯åˆ—è¡¨çš„é•¿åº¦ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚ â€‹ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚ é€’å½’ 1ã€æ‰¾åˆ°é€’å½’å‡ºå£ 2ã€ç¡®å®šè¿”å›å€¼ 3ã€åˆ†æå•æ¬¡é€’å½’éœ€è¦åšçš„äº‹æƒ… ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥å…·ä½“åˆ†æä¸€ä¸‹ï¼š é¦–å…ˆï¼Œæ‰¾åˆ°é€’å½’å‡ºå£ï¼Œè¿™ä¸ªè¿˜æ˜¯éå¸¸ç®€å•çš„ï¼Œå°±æ˜¯å½“å‰å³å°†åè½¬çš„èŠ‚ç‚¹ä¸º null æˆ–è€…æ˜¯ åè½¬é“¾è¡¨ ä¸º null æ—¶ï¼ˆä¸€è½®é€’å½’å…¶å®å°±åªæœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œåé¢ä¼šè®²ï¼‰ï¼Œè¯´æ˜å·²ç»å…¨éƒ¨åè½¬å®Œæ¯•äº†ï¼Œå³é€’å½’å‡ºå£ï¼› å…¶æ¬¡ï¼Œç¡®å®šè¿”å›å€¼ï¼Œæˆ‘ä»¬åªéœ€è¦è¿”å›åè½¬é“¾è¡¨çš„å¤´ç»“ç‚¹å³å¯ï¼› æœ€åï¼Œåˆ†æå•æ¬¡é€’å½’éœ€è¦åšçš„äº‹æƒ…ï¼Œé€’å½’å…¶å®æ¯ä¸€è½®åšçš„äº‹æƒ…éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦å»é‡å¤è€ƒè™‘ï¼Œè¿™æ ·åè€Œä¼šå¾ˆä¹±ï¼Œåªéœ€è¦è€ƒè™‘å•è½®é€’å½’éœ€è¦åšä»€ä¹ˆå°±å¯ä»¥äº†ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°±åªæœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯å³å°†åè½¬çš„èŠ‚ç‚¹å…ƒç´ ï¼Œä¸€ä¸ªæ˜¯å·²ç»åè½¬å®Œæ¯•çš„é“¾è¡¨å¤´ç»“ç‚¹ã€‚ æˆ‘ä»¬è¦åšçš„ä¸€è½®é€’å½’åªæ˜¯ å°†å½“å‰èŠ‚ç‚¹åŠ å…¥åˆ°åè½¬é“¾è¡¨ä¸­ï¼Œä»…æ­¤è€Œå·²ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/reverse-linked-list/solution/bang-zhu-da-jia-li-jie-di-gui-zuo-fa-by-jeromememo/ ä»£ç  https://github.com/Castile/algorithm/blob/master/leetcode/src/LinkedList/leetcode206_ReverseLinkedList.java java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687package LinkedList;/** * @author Hongliang Zhu * @create 2020-02-06 17:09 *//* åè½¬å•é“¾è¡¨ï¼š è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO((n) ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼› Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL Output: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL */public class leetcode206_ReverseLinkedList &#123; // è¿­ä»£ public static ListNode reverseList(ListNode head) &#123; if(head == null) return head; ListNode pre = null; ListNode next = null; while (head != null) &#123; next = head.next; head.next = pre; pre = head; head = next; &#125; return pre; &#125; // é€’å½’ç‰ˆæœ¬ public static ListNode reverdeList_Recur(ListNode head)&#123; return help(head, null, head.next); &#125; public static ListNode help(ListNode head, ListNode pre, ListNode next)&#123; if(head == null) return pre; next = head.next; head.next = pre; pre = head; head = next; return help(head, pre, next); &#125; // ä¼˜ç¾é€’å½’ public static ListNode reverseListRR(ListNode head)&#123; if(head == null || head.next == null) return head; ListNode p = reverseListRR(head.next); //è¿™é‡Œçš„curå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ ListNode cur = reverseList(head.next); //å¦‚æœé“¾è¡¨æ˜¯ 1-&gt;2-&gt;3-&gt;4-&gt;5ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„curå°±æ˜¯5 //è€Œheadæ˜¯4ï¼Œheadçš„ä¸‹ä¸€ä¸ªæ˜¯5ï¼Œä¸‹ä¸‹ä¸€ä¸ªæ˜¯ç©º //æ‰€ä»¥head.next.next å°±æ˜¯5-&gt;4 head.next.next = head; //é˜²æ­¢é“¾è¡¨å¾ªç¯ï¼Œéœ€è¦å°†head.nextè®¾ç½®ä¸ºç©º head.next = null; //æ¯å±‚é€’å½’å‡½æ•°éƒ½è¿”å›curï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ return p; &#125; public static void printLinkedList(ListNode head)&#123; if(head == null) return; ListNode p = head; while (p != null)&#123; System.out.print(p.val +\"\\t\"); p = p.next; &#125; System.out.println(); &#125; public static void main(String[] args) &#123; ListNode head = new ListNode(1); ListNode n1 = new ListNode(2); ListNode n2 = new ListNode(3); ListNode n3 = new ListNode(4); ListNode n4 = new ListNode(5); head.next = n1; n1.next = n2; n2.next = n3; n3.next = n4; printLinkedList(head); ListNode re = reverseListRR(head); printLinkedList(re); &#125;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"é€’å½’","slug":"é€’å½’","permalink":"https://castile.github.io/tags/%E9%80%92%E5%BD%92/"},{"name":"ç®€å•","slug":"ç®€å•","permalink":"https://castile.github.io/tags/%E7%AE%80%E5%8D%95/"},{"name":"é“¾è¡¨","slug":"é“¾è¡¨","permalink":"https://castile.github.io/tags/%E9%93%BE%E8%A1%A8/"}]},{"title":"leetcode-119-æ¨è¾‰ä¸‰è§’2","slug":"leetcode-119-æ¨è¾‰ä¸‰è§’2","date":"2020-02-06T07:28:31.000Z","updated":"2020-02-06T08:26:20.916Z","comments":true,"path":"2020/02/06/leetcode-119-æ¨è¾‰ä¸‰è§’2/","link":"","permalink":"https://castile.github.io/2020/02/06/leetcode-119-%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%922/","excerpt":"","text":"æè¿° leetcode119ï¼š æ¨è¾‰ä¸‰è§’2 ã€ç®€å•ã€‘ ç»™å®šä¸€ä¸ªéè´Ÿç´¢å¼• kï¼Œå…¶ä¸­ k â‰¤ 33ï¼Œè¿”å›æ¨è¾‰ä¸‰è§’çš„ç¬¬ k è¡Œã€‚ åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚ ç¤ºä¾‹: Code12è¾“å…¥: 3è¾“å‡º: [1,3,3,1] åˆ†æ è¿™é¢˜å’Œå‰ä¸€é¢˜ä¸€æ ·ï¼Œåªä¸è¿‡è¿”å›ç‰¹å®šå±‚ï¼ŒåŒæ ·çš„æ€è·¯ java123456789101112131415161718192021222324class Solution &#123; public List&lt;Integer&gt; getRow(int rowIndex) &#123; List&lt;List&lt;Integer&gt;&gt; triangle = new ArrayList&lt;&gt;(); int[][] dp = new int[rowIndex+2][rowIndex+2]; if(rowIndex+1 == 0) return null; for(int i = 1 ; i &lt;= rowIndex+1; i++)&#123; List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); for(int j = 1; j &lt;= i ; j++)&#123; list.add(calc(dp, i, j)); &#125; triangle.add(list); &#125; return triangle.get(rowIndex); // æ³¨æ„è¿”å›çš„æ˜¯æŒ‡å®šå±‚ &#125; public int calc(int[][] dp, int i, int j)&#123; if( j == 1 || i == j)&#123; dp[i][j] = 1; return 1; &#125; if(dp[i][j] != 0) return dp[i][j]; dp[i][j] = calc(dp, i - 1, j - 1) + calc(dp, i - 1, j); return dp[i][j]; &#125;&#125; è¿™é¢˜å’Œæ¨è¾‰ä¸‰è§’1çš„é¢˜ç›®å·®ä¸å¤šï¼Œ118é¢˜éœ€è¦ä¿å­˜æ‰€æœ‰çš„ï¼Œä½†æ˜¯è¿™é¢˜åªéœ€è¦è¿”å›æŒ‡å®šå±‚ï¼Œå› ä¸ºå½“å‰å±‚çš„å€¼åªä¾èµ–äºä¸Šä¸€å±‚çš„å€¼ï¼Œæ•…ä½¿ç”¨ä¸€ä¸ªlistæ¥ä¿å­˜ä¸Šä¸€å±‚çš„å€¼ã€‚ java12345678910111213141516public List&lt;Integer&gt; getRow(int rowIndex) &#123; List&lt;Integer&gt; pre = new ArrayList&lt;&gt;(); List&lt;Integer&gt; cur = new ArrayList&lt;&gt;(); for (int i = 0; i &lt;= rowIndex; i++)&#123; cur = new ArrayList&lt;&gt;(); for(int j = 0; j &lt;= i ; j++)&#123; if(j == 0 || i == j)&#123; cur.add(1); &#125;else&#123; cur.add(pre.get(j - 1) + pre.get(j)); &#125; &#125; pre = cur; &#125; return cur; &#125; åŸºäº2å¯ä»¥ç»§ç»­ä¼˜åŒ–ï¼šä»¥æŠŠ pre çš„ List çœå»ã€‚è¿™æ ·çš„è¯ï¼Œcuræ¯æ¬¡ä¸å»æ–°å»º Listï¼Œè€Œæ˜¯æŠŠcurå½“ä½œpreã€‚ åˆå› ä¸ºæ›´æ–°å½“å‰ j çš„æ—¶å€™ï¼Œå°±æŠŠä¹‹å‰jçš„ä¿¡æ¯è¦†ç›–æ‰äº†ã€‚è€Œæ›´æ–° j + 1 çš„æ—¶å€™åˆéœ€è¦ä¹‹å‰jçš„ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨æ›´æ–°å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡æŠŠä¹‹å‰jçš„ä¿¡æ¯ä¿å­˜èµ·æ¥ã€‚ java1234567891011121314public List&lt;Integer&gt; getRow(int rowIndex) &#123; int pre = 1; List&lt;Integer&gt; cur = new ArrayList&lt;&gt;(); cur.add(1); // j == 0 for(int i = 1; i &lt;= rowIndex; i++)&#123; for(int j = 1; j &lt; i; j++)&#123; int tmp = cur.get(j); cur.set(j, pre + cur.get(j)); pre = tmp; &#125; cur.add(1); // j == i &#125; return cur; &#125; é™¤äº†ä¸Šè¾¹ä¼˜åŒ–çš„æ€è·¯ï¼Œè¿˜æœ‰ä¸€ç§æƒ³æ³•ï¼Œé‚£å°±æ˜¯å€’ç€è¿›è¡Œï¼Œè¿™æ ·å°±ä¸ä¼šå­˜åœ¨è¦†ç›–çš„æƒ…å†µäº†ã€‚å› ä¸ºæ›´æ–°å®Œjçš„ä¿¡æ¯åï¼Œè™½ç„¶æŠŠjä¹‹å‰çš„ä¿¡æ¯è¦†ç›–æ‰äº†ã€‚ä½†æ˜¯ä¸‹ä¸€æ¬¡æˆ‘ä»¬æ›´æ–°çš„æ˜¯j - 1ï¼Œéœ€è¦çš„æ˜¯j - 1å’Œj - 2 çš„ä¿¡æ¯ï¼Œjä¿¡æ¯è¦†ç›–å°±ä¸ä¼šé€ æˆå½±å“äº†ã€‚ ä»£ç  https://github.com/Castile/algorithm/blob/master/leetcode/src/RecurrenceAndDynamicProgramming/leetcode119_PascalTriangle2.java ç›¸ä¼¼é¢˜ç›®ï¼šæ¨è¾‰ä¸‰è§’","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"é€’å½’","slug":"é€’å½’","permalink":"https://castile.github.io/tags/%E9%80%92%E5%BD%92/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ç®€å•","slug":"ç®€å•","permalink":"https://castile.github.io/tags/%E7%AE%80%E5%8D%95/"},{"name":"dp","slug":"dp","permalink":"https://castile.github.io/tags/dp/"}]},{"title":"leetcode-118-æ¨è¾‰ä¸‰è§’1","slug":"leetcode-118-æ¨è¾‰ä¸‰è§’1","date":"2020-02-06T07:28:12.000Z","updated":"2020-02-12T04:33:54.279Z","comments":true,"path":"2020/02/06/leetcode-118-æ¨è¾‰ä¸‰è§’1/","link":"","permalink":"https://castile.github.io/2020/02/06/leetcode-118-%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%921/","excerpt":"","text":"æè¿° ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° numRowsï¼Œç”Ÿæˆæ¨è¾‰ä¸‰è§’çš„å‰ numRows è¡Œã€‚ åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚ ç¤ºä¾‹: è¾“å…¥: 5 è¾“å‡º: [ [1], [1,1], [1,2,1], [1,3,3,1], [1,4,6,4,1] ] é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/pascals-triangle åˆ†æ æš´åŠ›é€’å½’ï¼šbasecaseï¼šå¯ä»¥çœ‹åˆ°ï¼Œæ¯è¡Œçš„æœ€å·¦è¾¹å’Œæœ€å³è¾¹çš„æ•°å­—æ˜¯1ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸºæœ¬æƒ…å†µå®šä¹‰å¦‚ä¸‹: f(i, j)=1 where j=1 or j==i é€’æ¨å…³ç³»ï¼š â€‹ é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•° f(i,j)å®ƒå°†ä¼šè¿”å›å¸•æ–¯å¡ä¸‰è§’å½¢ç¬¬ i è¡Œã€ç¬¬ j åˆ—çš„æ•°å­—ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å…¬å¼æ¥è¡¨ç¤ºè¿™ä¸€é€’æ¨å…³ç³»ï¼šf(i,j)=f(iâˆ’1,jâˆ’1)+f(iâˆ’1,j) åŠ¨æ€è§„åˆ’ï¼šå› ä¸ºæš´åŠ›é€’å½’è¿˜æœ‰å¾ˆå¤šå€¼ä¼šé‡å¤è®¡ç®—ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜å·²ç»è®¡ç®—è¿‡çš„å€¼ã€‚ ä»£ç  æºç ï¼š https://github.com/Castile/algorithm/blob/master/leetcode/src/RecurrenceAndDynamicProgramming/leetcode118_PascalTriangle.java java1234567891011121314151617// æš´åŠ›é€’å½’ï¼š ä½†æ˜¯ä¼šè¶…æ—¶ public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123; List&lt;List&lt;Integer&gt;&gt; triangle = new ArrayList&lt;&gt;(); if(numRows == 0) return triangle; for(int i = 1 ; i &lt;= numRows; i++)&#123; List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); for(int j = 1; j &lt;= i ; j++)&#123; list.add(calc(i, j)); &#125; triangle.add(list); &#125; return triangle; &#125; public int calc(int i, int j)&#123; if( j == 1 || i == j) return 1; return calc(i - 1, j - 1) + calc(i - 1, j); &#125; åŠ¨æ€è§„åˆ’ï¼š java12345678910111213141516171819202122232425// åŠ¨æ€è§„åˆ’ class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123; List&lt;List&lt;Integer&gt;&gt; triangle = new ArrayList&lt;&gt;(); int[][] dp = new int[numRows+1][numRows+1]; if(numRows == 0) return triangle; for(int i = 1 ; i &lt;= numRows; i++)&#123; List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); for(int j = 1; j &lt;= i ; j++)&#123; list.add(calc(dp, i, j)); &#125; triangle.add(list); &#125; return triangle; &#125; public int calc(int[][] dp, int i, int j)&#123; if( j == 1 || i == j)&#123; dp[i][j] = 1; return 1; &#125; if(dp[i][j] != 0) return dp[i][j]; dp[i][j] = calc(dp, i - 1, j - 1) + calc(dp, i - 1, j); return dp[i][j]; &#125; &#125; ç›¸ä¼¼é¢˜ç›®ï¼š leetcode-119-æ¨è¾‰ä¸‰è§’2","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"é€’å½’","slug":"é€’å½’","permalink":"https://castile.github.io/tags/%E9%80%92%E5%BD%92/"},{"name":"ç®€å•","slug":"ç®€å•","permalink":"https://castile.github.io/tags/%E7%AE%80%E5%8D%95/"},{"name":"dp","slug":"dp","permalink":"https://castile.github.io/tags/dp/"}]},{"title":"CosNet:åŸºäºååŒæ³¨æ„å­ªç”Ÿç½‘ç»œçš„æ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰²","slug":"CosNet-åŸºäºååŒæ³¨æ„å­ªç”Ÿç½‘ç»œçš„æ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰²","date":"2020-02-05T13:42:03.000Z","updated":"2020-02-12T10:16:51.359Z","comments":true,"path":"2020/02/05/CosNet-åŸºäºååŒæ³¨æ„å­ªç”Ÿç½‘ç»œçš„æ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰²/","link":"","permalink":"https://castile.github.io/2020/02/05/CosNet-%E5%9F%BA%E4%BA%8E%E5%8D%8F%E5%90%8C%E6%B3%A8%E6%84%8F%E5%AD%AA%E7%94%9F%E7%BD%91%E7%BB%9C%E7%9A%84%E6%97%A0%E7%9B%91%E7%9D%A3%E8%A7%86%E9%A2%91%E7%9B%AE%E6%A0%87%E5%88%86%E5%89%B2/","excerpt":"","text":"ã€CVPR2019ã€‘CosNetï¼šSee More, Know More: Unsupervised Video Object Segmentation with Co-Attention Siamese Networks åŸºäºååŒæ³¨æ„å­ªç”Ÿç½‘ç»œçš„æ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰² ä»£ç ï¼š https://github.com/Castile/COSNet æ¦‚è¿° â€‹ ä»¥å¾€çš„æ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰²åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•ä»…ä»…è€ƒè™‘çŸ­æœŸæ—¶åŸŸä¿¡æ¯ï¼Œæ²¡æœ‰è€ƒè™‘æ•´ä¸ªè§†é¢‘çš„å…¨å±€ä¿¡æ¯ï¼Œè€Œä¸”å¹¶æ²¡æœ‰æœ‰æ•ˆåˆ©ç”¨è§†é¢‘å†…å®¹çš„å†…åœ¨ç›¸å…³ä¿¡æ¯ ï¼Œ**Co-attention Siamese Network(CosNet)**æå‡ºäº†ä¸€ä¸ªç»Ÿä¸€çš„ç«¯åˆ°ç«¯çš„æ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰²ç½‘ç»œã€‚ â€‹ CosNetå°†UVOSä½œä¸ºco-attentionçš„è¿‡ç¨‹ã€‚ä¸€ä¸ªco-attentionæ¨¡å—å­¦ä¹ å»æ˜¾ç¤ºç¼–ç å¸§ä¸å¸§ä¹‹é—´çš„å…³ç³»ï¼Œä½¿CosNetå¯ä»¥è·å–é¢‘ç¹ç›¸å…³çš„åŒºåŸŸï¼Œè¿›è€Œå¯ä»¥å¸®åŠ©å‘ç°å‰æ™¯ç›®æ ‡æ¥è¿›è¡Œåˆ†å‰²ã€‚å…·ä½“çš„ï¼Œåœ¨è®­ç»ƒé˜¶æ®µï¼Œco-attentionè¿‡ç¨‹èƒ½å¤Ÿåˆ†è§£ä¸ºåŒä¸€è§†é¢‘ä¸­ä»»æ„å¸§å¯¹ä¹‹é—´çš„ç›¸å…³æ€§å­¦ä¹ ï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™ï¼ŒCosNetä½¿ç”¨å…¨å±€è§†è§’æ¨æ–­å‰æ™¯ç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ©ç”¨æµ‹è¯•å¸§ä¸å¤šä¸ªç›¸å…³çš„å¸§çš„co-attentionä¿¡æ¯æ¥åˆ¤æ–­ä¸»è¦çš„å‰æ™¯ç›®æ ‡ã€‚CosNetçš„ç½‘ç»œç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™æ˜¯æ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰²æœ€å¥½çš„æ¨¡å‹ï¼Œåœ¨Davis2016æ•°æ®é›†ä¸Šçš„J-meansè¾¾åˆ°äº†80.5çš„åˆ†æ•°ã€‚ â€‹ CosNetè®¤ä¸ºæ— ç›‘ç£è§†é¢‘ç›®æ ‡åˆ†å‰²ä¸‹çš„ä¸»è¦ç›®æ ‡æ‹¥æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š 1)å•å¸§å¯åŒºåˆ†(æœ¬åœ°æ˜¾è‘—æ€§)ï¼› 2)åœ¨æ•´ä¸ªè§†é¢‘åºåˆ—ä¸­é¢‘ç¹å‡ºç°çš„ç›®æ ‡(å…¨å±€ä¸€è‡´æ€§)ã€‚ â€‹ è¿™ä¸¤ä¸ªç‰¹ç‚¹å¯¹äºåŒºåˆ†è§†é¢‘åºåˆ—ä¸­çš„ä¸»è¦ç›®æ ‡çš„éå¸¸é‡è¦çš„ã€‚é€šè¿‡è€ƒè™‘è§†é¢‘çš„å…¨å±€ä¿¡æ¯ï¼Œå¯ä»¥é”å®šä¸»è¦ç›®æ ‡ï¼Œè¿›è€Œè¿›è¡Œåˆ†å‰²ã€‚ ç½‘ç»œç»“æ„ â€‹ è¾“å…¥æ˜¯å›¾ç‰‡å¯¹ï¼Œå›¾ç‰‡å¯¹å¯ä»¥ä»è§†é¢‘ä¸­éšæœºå–å¾—ã€‚ä¸¤å¸§å›¾ç‰‡ç»è¿‡åŸºç½‘ç»œï¼ˆDeeplabV3ï¼‰ï¼Œä¹Ÿç§°ç¼–ç ç½‘ç»œï¼ˆEncoderï¼‰ï¼Œ å°†ä¸¤å¸§ç¼–ç æˆåµŒå…¥ç‰¹å¾ï¼Œç„¶åååŒæ³¨æ„åŠ›æ¨¡å—ä¼šè®¡ç®—ä¸¤å¸§çš„ç›¸ä¼¼æ€§ï¼Œå³ä¸¤å¸§ä¹‹é—´çš„ç›¸å…³æ³¨æ„åŠ›ç‰¹å¾ã€‚æœ€åè¾“å…¥åˆ°åˆ†å‰²æ¨¡å—å¾—åˆ°æœ€åçš„åˆ†å‰²ç»“æœã€‚ ç®—æ³• Co-attention Mechanisms in COSNet ä½œè€…æå‡ºäº†ä¸‰ç§ååŒæ³¨æ„åŠ›æœºåˆ¶ï¼Œåˆ†åˆ«ä¸ºVanilla co-attentionï¼Œ Symmetric co-attentionï¼ŒChannel-wise co-attentionã€‚ä¸€ä¸ªæ³¨æ„åŠ›æ¨¡å—è¿™æ˜¾å¼åœ°ç¼–ç ä¸¤å¸§ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—COsNetå­¦ä¹ åˆ°é¢‘ç¹ç›¸å…³çš„åŒºåŸŸã€‚ Vanilla co-attention S æ˜¯ä¸¤å¸§ä¹‹é—´çš„afï¬nity matrixï¼ˆç›¸ä¼¼çŸ©é˜µï¼‰ï¼ŒVaå’ŒVbçš„shapeæ˜¯ Wâˆ—Hâˆ—CW * H * C Wâˆ—Hâˆ—C Vaçš„æ¯ä¸€åˆ—è¡¨ç¤ºç‰¹å¾å‘é‡ï¼ŒWæ˜¯ä¸€ä¸ªæ–¹é˜µ æ‰€ä»¥Såˆå¯ä»¥å†™æˆï¼š é€šè¿‡ä¸Šé¢å…¬å¼ï¼Œé¦–å…ˆå¯¹æ¯ä¸€å¸§çš„ç‰¹å¾è¡¨ç¤ºè¿›è¡Œçº¿æ€§å˜æ¢ï¼Œç„¶åè®¡ç®—å®ƒä»¬ä¹‹é—´çš„è·ç¦» ã€‚ Symmetric co-attention å¦‚æœå¯¹æƒé‡çŸ©é˜µè¿›è¡Œçº¦æŸï¼Œä»¤æƒé‡çŸ©é˜µä¸ºä¸€ä¸ªå¯¹ç§°çŸ©é˜µã€‚åˆ™æŠ•å½±çŸ©é˜µPå°±å˜æˆä¸€ä¸ªæ­£äº¤çŸ©é˜µ Iæ˜¯ä¸€ä¸ªC * Cçš„å•ä½é˜µã€‚åˆ™Symmetric co-attentionçš„è®¡ç®—å…¬å¼ä¸ºï¼š ä¸Šè¿°å…¬å¼è¡¨æ˜å°†åµŒå…¥å‘é‡Vaå’ŒVbçš„ç‰¹å¾æŠ•å½±åˆ°æ­£äº¤å…¬å…±ç©ºé—´ä¸­ï¼Œå¹¶ä¿æŒå®ƒä»¬çš„èŒƒæ•°ã€‚è¿™ä¸€ç‰¹æ€§å¯ä»¥æ¶ˆé™¤ä¸åŒé€šé“ä¹‹é—´çš„ç›¸å…³æ€§å’Œæé«˜ç½‘ç»œçš„æ³›åŒ–èƒ½åŠ›ã€‚ Channel-wise co-attention å°†æŠ•å½±çŸ©é˜µPç®€å•åœ°è¡¨ç¤ºæˆå•ä½çŸ©é˜µ I ï¼ˆä¹Ÿå°±æ˜¯æ²¡æœ‰è¿›è¡Œç©ºé—´çš„è½¬æ¢ï¼‰ï¼Œç„¶åæƒé‡çŸ©é˜µWå˜æˆå¯¹è§’çŸ©é˜µï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒWï¼ˆä¹Ÿå°±æ˜¯Dï¼‰å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªå¯¹è§’çŸ©é˜µDaå’ŒDbï¼Œ å› æ­¤ï¼Œå…¬å¼3å¯ä»¥é‡æ–°å†™æˆä¸€ä¸‹å½¢å¼ï¼Œä¹Ÿå°±æ˜¯Channel-wise co-attentionï¼š è¿™ä¸ªæ“ä½œç›¸å½“äºåœ¨è®¡ç®—ç›¸ä¼¼åº¦ä¹‹å‰å¯¹Vaå’ŒVbåº”ç”¨ä¸€ä¸ªä¿¡é“æƒå€¼, è¿™æœ‰åŠ©äºç¼“è§£é€šé“å†—ä½™ . ååŒæ³¨æ„åŠ›æ“ä½œ ååŒæ³¨æ„åŠ›æ“ä½œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨è·å–äº†ç›¸ä¼¼åº¦çŸ©é˜µSä¹‹åï¼Œå¯¹Sçš„è¡Œå‘é‡å’Œåˆ—å‘é‡è¿›è¡ŒSoftMaxæ“ä½œï¼š ç»“åˆä¸Šå›¾ï¼š åœ¨ç½‘ç»œä¸­çš„ååŒæ³¨æ„åŠ›æ¨¡å—è¿˜æœ‰ä¸€ä¸ªGated co-attentionæ“ä½œï¼Œ è€ƒè™‘åˆ°è¾“å…¥å¯¹ã€é®æŒ¡å’ŒèƒŒæ™¯å™ªå£°ä¹‹é—´æ½œåœ¨çš„å¤–è§‚å˜åŒ–ï¼Œæœ€å¥½å¯¹æ¥è‡ªä¸åŒè¾“å…¥å¸§çš„ä¿¡æ¯è¿›è¡ŒåŠ æƒï¼Œè€Œä¸æ˜¯å¹³å‡å¤„ç†æ‰€æœ‰çš„å…±åŒæ³¨æ„ä¿¡æ¯ã€‚ $$ \\sigmaæ˜¯ä¸€ä¸ªsigmoidæ¿€æ´»å‡½æ•°ï¼Œ w_få’Œb_fè¡¨ç¤ºå·ç§¯æ ¸å’Œåç½®å‚æ•°ã€‚ $$ è®¡ç®—å®Œgateçš„ç½®ä¿¡åº¦ä¹‹åï¼Œæ³¨æ„åŠ›Zè¡¨ç¤ºä¸ºï¼š CosNet æ•´ä½“æ¶æ„ CosNetæ˜¯ä¸€ä¸ªå­ªç”Ÿç½‘ç»œï¼Œç”±ä¸‰ä¸ªçº§è”çš„éƒ¨åˆ†ï¼Œä¸€ä¸ªåŸºäºDeepLabV3çš„ç‰¹å¾åµŒå…¥æ¨¡å—ï¼Œä¸€ä¸ªååŒæ³¨æ„åŠ›æ¨¡å—ä»¥åŠåˆ†å‰²æ¨¡å—ã€‚ è®­ç»ƒé˜¶æ®µ â€‹ ä¸Šæ–‡è¯´åˆ°ï¼Œè§†é¢‘ä¸­çš„ä¸»è¦å¯¹è±¡ï¼ˆå³è¦åˆ†å‰²çš„å¯¹è±¡ï¼‰æœ‰ä¸¤ä¸ªåŸºæœ¬å±æ€§:(i)å¸§å†…å¯åˆ†è¾¨æ€§ï¼Œ(ii)å¸§é—´ä¸€è‡´æ€§ã€‚ä¸ºäº†åŒºåˆ†å‰æ™¯ç›®æ ‡å’ŒèƒŒæ™¯(å±æ€§(i))ï¼Œæˆ‘ä»¬åˆ©ç”¨ç°æœ‰çš„æ˜¾è‘—æ€§ç›®æ ‡åˆ†å‰²æ•°æ®é›†DUTSå’ŒMSRA 10Kæ¥è®­ç»ƒæˆ‘ä»¬çš„backboneç‰¹å¾åµŒå…¥æ¨¡å—ã€‚åŒæ—¶ï¼Œä¸ºäº†ç¡®ä¿COSNetèƒ½å¤Ÿæ•è·ä¸»è¦è§†é¢‘å¯¹è±¡çš„å…¨å±€å¸§é—´ç›¸å¹²æ€§(property (ii))ï¼Œæˆ‘ä»¬ä½¿ç”¨è§†é¢‘åˆ†å‰²æ•°æ®è®­ç»ƒæ•´ä¸ªCOSNetï¼Œå…¶ä¸­co-attentionæ¨¡å—åœ¨æ•è·è§†é¢‘å¸§ä¹‹é—´çš„ç›¸å…³æ€§æ–¹é¢èµ·ç€å…³é”®ä½œç”¨ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªè§†é¢‘åºåˆ—ä¸­éšæœºé€‰å–ä¸¤å¸§æ¥å»ºç«‹è®­ç»ƒå¯¹ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸ä»¥å¾€çš„åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„UVOSæ¨¡å‹åªéœ€è¦è¿ç»­å¸§ç›¸æ¯”ï¼Œè¿™ç§æ“ä½œè‡ªç„¶æœ‰æ•ˆåœ°æ‰©å……äº†è®­ç»ƒæ•°æ®, å³æ•°æ®å¢å¼ºã€‚ â€‹ é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒCOSNetå¯ä»¥äº¤æ›¿ä½¿ç”¨é™æ€å›¾åƒæ•°æ®å’ŒåŠ¨æ€è§†é¢‘æ•°æ®è¿›è¡Œè®­ç»ƒã€‚åœ¨ä½¿ç”¨å›¾åƒæ•°æ®æ—¶ï¼Œæˆ‘ä»¬åªè®­ç»ƒäº†ç‰¹å¾åµŒå…¥æ¨¡å—ï¼Œå…¶ä¸­å¢åŠ äº†1Ã—1çš„sigmoidæ¿€æ´»å·ç§¯å±‚ï¼Œç”Ÿæˆä¸­é—´åˆ†å‰²çš„sideoutputã€‚è§†é¢‘æ•°æ®ç”¨äºè®­ç»ƒæ•´ä¸ªCOSNetï¼ŒåŒ…æ‹¬ç‰¹å¾åµŒå…¥æ¨¡å—ã€ååŒæ³¨æ„æ¨¡å—å’Œåˆ†å‰²æ¨¡å—ã€‚åˆ©ç”¨åŠ æƒäºŒå‰ç†µæŸå¤±è®­ç»ƒç½‘ç»œ: å…¶å®è®­ç»ƒé˜¶æ®µæ˜¯å®Œå…¨ç›‘ç£çš„ï¼Œå› ä¸ºä½¿ç”¨åˆ°äº†groundtruthã€‚ æµ‹è¯•é˜¶æ®µ â€‹ è®­ç»ƒå®Œæˆä¹‹åï¼Œä½¿ç”¨æ¨¡å‹åœ¨å…¶ä»–æ²¡æœ‰è§è¿‡çš„è§†é¢‘åºåˆ—ä¸­è¿›è¡Œæµ‹è¯•ã€‚ç»™å®šä¸€ä¸ªæµ‹è¯•è§†é¢‘åºåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªè¦åˆ†å‰²çš„å¸§ï¼Œä»¥åŠä»åŒä¸€è§†é¢‘ä¸­é‡‡æ ·çš„ä¸€ä¸ªå‚è€ƒå¸§ï¼Œä¾æ¬¡è¾“å…¥åˆ°COSNetä¸­ï¼Œé€šè¿‡é€å¸§çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ‰€æœ‰çš„åˆ†å‰²ç»“æœã€‚ â€‹ ç„¶è€Œï¼Œåœ¨è¿™æ ·ä¸€ä¸ªç®€å•çš„ç­–ç•¥ä¸‹ï¼Œåˆ†å‰²ç»“æœä»ç„¶å«æœ‰ç›¸å½“å¤§çš„å™ªå£°ï¼Œå› ä¸ºè§†é¢‘ä¸­ä¸°å¯Œçš„å…¨å±€ç›¸å…³ä¿¡æ¯å¹¶æ²¡æœ‰å¾—åˆ°å……åˆ†çš„æŒ–æ˜ã€‚å› æ­¤ï¼Œåœ¨æµ‹è¯•é˜¶æ®µåŒ…å«æ›´å¤šçš„æ˜¯æ¨å¯¼å¸§å¸¸é‡è¦çš„ï¼š å°†ä¸€ç»„Nä¸ªä¸åŒçš„å‚è€ƒå¸§(ä»åŒä¸€è§†é¢‘ä¸­å‡åŒ€é‡‡æ ·)è¾“å…¥æ¨ç†åˆ†æ”¯ï¼Œå¹¶å¯¹æ‰€æœ‰é¢„æµ‹è¿›è¡Œå¹³å‡ã€‚ ç»“æœ DAVIS-2016æ•°æ®é›†ï¼š FBMSæ•°æ®é›†ï¼š YoutubeObjects æ•°æ®é›†ï¼š ç»“è®º ååŒæ³¨æ„åŠ›æœºåˆ¶åŸºäºå…¨å±€çš„è§†è§’è¿›è¡Œæ¨æ–­å‰æ™¯å’ŒèƒŒæ™¯çš„åˆ†å‰²ï¼Œæ•ˆæœæ˜¾è‘—ã€‚ åœ¨æµ‹è¯•æ—¶ï¼Œå¹³å‡å¤šä¸ªå¸§çš„çš„æ³¨æ„åŠ›æ›´æœ‰æ•ˆ ä¸ºäº†ç ”ç©¶æœ€ç»ˆé¢„æµ‹åœ¨æµ‹è¯•é˜¶æ®µçš„å¸§é€‰æ‹©ç­–ç•¥ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ä½¿ç”¨ä¸åŒçš„é‡‡æ ·æ–¹æ³•è¿›è¡Œäº†ä¸€ç³»åˆ—çš„å®éªŒã€‚å…·ä½“é‡‡ç”¨å…¨å±€éšæœºæŠ½æ ·ã€å…¨å±€å‡åŒ€æŠ½æ ·å’Œå±€éƒ¨è¿ç»­æŠ½æ ·ã€‚ä»è¡¨1ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸¤ç§å…¨å±€æ°´å¹³çš„é‡‡æ ·ç­–ç•¥éƒ½èƒ½è·å¾—è¿‘ä¼¼çš„æ€§èƒ½ï¼Œä½†éƒ½ä¼˜äºå±€éƒ¨é‡‡æ ·æ–¹æ³•ã€‚åŒæ—¶ï¼ŒåŸºäºå±€éƒ¨é‡‡æ ·çš„ç»“æœä»ç„¶ä¼˜äºä»éª¨å¹²ç½‘è·å¾—çš„ç»“æœã€‚æ•´ä½“æ¯”è¾ƒè¿›ä¸€æ­¥è¯æ˜äº†åˆå¹¶çš„é‡è¦æ€§ ã€‚ å…³äºå‚è€ƒå¸§æ•°çš„é€‰æ‹©ï¼Œå¦‚è¡¨ï¼š å½“N = 0æ—¶ï¼Œè¿™æ„å‘³ç€æ²¡æœ‰å…±åŒæ³¨æ„åˆ†å‰²ã€‚å½“Nä»0å˜ä¸º1æ—¶ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªå¾ˆå¤§çš„æ€§èƒ½æ”¹è¿› ã€‚Nä»2å˜åŒ–åˆ°5ï¼Œå®šé‡ç»“æœæ˜¾ç¤ºæ€§èƒ½æœ‰æ‰€æé«˜ã€‚å½“æˆ‘ä»¬è¿›ä¸€æ­¥å¢åŠ Næ—¶ï¼Œæœ€ç»ˆçš„æ€§èƒ½æ²¡æœ‰æ˜æ˜¾çš„å˜åŒ–ã€‚å®éªŒä¸­ä½¿ç”¨çš„N=5ã€‚","categories":[{"name":"è®ºæ–‡é˜…è¯»","slug":"è®ºæ–‡é˜…è¯»","permalink":"https://castile.github.io/categories/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/"}],"tags":[{"name":"UVOS","slug":"UVOS","permalink":"https://castile.github.io/tags/UVOS/"},{"name":"papers","slug":"papers","permalink":"https://castile.github.io/tags/papers/"}]},{"title":"leetcode-344-åè½¬å­—ç¬¦ä¸²","slug":"leetcode-344-åè½¬å­—ç¬¦ä¸²","date":"2020-02-03T08:53:27.000Z","updated":"2020-02-03T09:10:10.508Z","comments":true,"path":"2020/02/03/leetcode-344-åè½¬å­—ç¬¦ä¸²/","link":"","permalink":"https://castile.github.io/2020/02/03/leetcode-344-%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2/","excerpt":"","text":"æè¿° ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ char[] çš„å½¢å¼ç»™å‡ºã€‚ ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚ ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ ASCII ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼š[â€œhâ€,â€œeâ€,â€œlâ€,â€œlâ€,â€œoâ€] è¾“å‡ºï¼š[â€œoâ€,â€œlâ€,â€œlâ€,â€œeâ€,â€œhâ€] ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼š[â€œHâ€,â€œaâ€,â€œnâ€,â€œnâ€,â€œaâ€,â€œhâ€] è¾“å‡ºï¼š[â€œhâ€,â€œaâ€,â€œnâ€,â€œnâ€,â€œaâ€,â€œHâ€] æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/reverse-string åˆ†æ å°±åœ°æ“ä½œï¼Œè€Œä¸”è¦æ˜¯O(1)çš„ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£æ–¹æ³•ï¼Œé¦–å°¾æŒ‡é’ˆè§£å†³ java1234567891011class Solution &#123; public void reverseString(char[] s) &#123; int len = s.length; char tmp; for(int i = 0; i &lt; len/2 ; i++)&#123; tmp = s[i]; s[i] = s[len - i - 1]; //è¿™æ˜¯æœ«å°¾çš„å€¼ s[len-i-1] = tmp; &#125; &#125;&#125; ä¹Ÿå¯ä»¥ç”¨é€’å½’æ¥åšï¼Œä½†æ˜¯ä½¿ç”¨äº†è¾…åŠ©æ ˆï¼Œä¸æ»¡è¶³O(1)çš„ç©ºé—´è¦æ±‚ java1234567891011121314class Solution &#123; public void reverseString(char[] s) &#123; help(s, 0, s.length-1); &#125; private void help(char[] s, int i, int j) &#123; if (i &gt;= j) return; char tmp = s[i]; s[i] = s[j]; s[j] = tmp; i++; j--; help(s, i, j); &#125;&#125; ä»£ç  https://github.com/Castile/algorithm/blob/master/leetcode/src/Str/leetcode344_ReverseStr.java","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"é€’å½’","slug":"é€’å½’","permalink":"https://castile.github.io/tags/%E9%80%92%E5%BD%92/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ç®€å•","slug":"ç®€å•","permalink":"https://castile.github.io/tags/%E7%AE%80%E5%8D%95/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"https://castile.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}]},{"title":"leetcode-24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹","slug":"leetcode-24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹","date":"2020-02-03T08:18:28.000Z","updated":"2020-02-03T08:51:25.948Z","comments":true,"path":"2020/02/03/leetcode-24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹/","link":"","permalink":"https://castile.github.io/2020/02/03/leetcode-24-%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9/","excerpt":"","text":"æè¿° ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚ ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚ ç¤ºä¾‹ï¼š ç»™å®š 1-&gt;2-&gt;3-&gt;4, ä½ åº”è¯¥è¿”å› 2-&gt;1-&gt;4-&gt;3 é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/swap-nodes-in-pairs åˆ†æ é€’å½’ï¼š â€‹ æˆ‘ä»¬å¯ä»¥å®šä¹‰å‡½æ•° swap(head) ä»¥å®ç°è§£å†³æ–¹æ¡ˆï¼Œå…¶ä¸­è¾“å…¥çš„å‚æ•° head æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚* è€Œè¯¥å‡½æ•°åº”å½“è¿”å›å°†é“¾è¡¨ä¸­æ¯ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹äº¤æ¢åå¾—åˆ°çš„æ–°åˆ—è¡¨çš„å¤´èŠ‚ç‚¹ head ã€‚ â€‹ æŒ‰ç…§æˆ‘ä»¬ä¸Šé¢åˆ—å‡ºçš„æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ä¸‹é¢çš„æµç¨‹æ¥å®ç°å‡½æ•°ï¼š â€‹ ï¼ˆ1ï¼‰é¦–å…ˆï¼Œæˆ‘ä»¬äº¤æ¢åˆ—è¡¨ä¸­çš„å‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ head å’Œ head.nextï¼› â€‹ ï¼ˆ2ï¼‰ç„¶åæˆ‘ä»¬ä»¥ swap(head.next.next) çš„å½¢å¼è°ƒç”¨å‡½æ•°è‡ªèº«ï¼Œä»¥äº¤æ¢å¤´ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹ååˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†ã€‚ â€‹ ï¼ˆ3ï¼‰æœ€åï¼Œæˆ‘ä»¬å°†æ­¥éª¤ï¼ˆ2ï¼‰ä¸­çš„å­åˆ—è¡¨çš„è¿”å›å¤´ä¸æ­¥éª¤ï¼ˆ1ï¼‰ä¸­äº¤æ¢çš„ä¸¤ä¸ªèŠ‚ç‚¹ç›¸è¿ï¼Œä»¥å½¢æˆæ–°çš„é“¾ è¡¨ã€‚ è¿­ä»£ æ–°å¢ä¸€ä¸ªå¤´èŠ‚ç‚¹ dummy nodeï¼Œ dummy.next = headï¼› æ›´å¥½æ“ä½œé“¾è¡¨ã€‚æµç¨‹å›¾å¦‚ä¸‹ï¼š ä»£ç  æºç ï¼š https://github.com/Castile/algorithm/blob/master/leetcode/src/LinkedList/leetcode24_SwapNodesInPairs.java java123456789101112131415161718192021222324252627282930313233343536373839404142434445package LinkedList;/** * @author Hongliang Zhu * @create 2020-02-03 15:51 */class ListNode &#123; int val; ListNode next; ListNode(int x) &#123; val = x; &#125;&#125;public class leetcode24_SwapNodesInPairs &#123; // é€’å½’è§£æ³• public ListNode swapPairs(ListNode head) &#123; if(head == null || head.next == null) return head; ListNode n = head.next.next; // ä¸‹ä¸€æ¬¡è¦ä¼ é€’çš„èŠ‚ç‚¹ //äº¤æ¢è¿™ä¸¤ä¸ªèŠ‚ç‚¹ ListNode p = head.next; p.next = head; head.next = swapPairs(n); // é€’å½’ return p; // è¿”å›äº¤æ¢ä¹‹åçš„å¤´ç»“ç‚¹ &#125; // è¿­ä»£ public ListNode swapPairs_it(ListNode head) &#123; ListNode dummy = new ListNode(-1); dummy.next = head; ListNode pre = dummy; while(head != null &amp;&amp; head.next != null)&#123; ListNode first = head; ListNode second = head.next; // äº¤æ¢ first.next = second.next; second.next = first; pre.next = second; // åˆå§‹åŒ–å¤´ head = first.next; pre = first; &#125; return dummy.next; &#125;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"é€’å½’","slug":"é€’å½’","permalink":"https://castile.github.io/tags/%E9%80%92%E5%BD%92/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"é“¾è¡¨","slug":"é“¾è¡¨","permalink":"https://castile.github.io/tags/%E9%93%BE%E8%A1%A8/"}]},{"title":"leetcode-200-å²›å±¿æ•°é‡","slug":"leetcode-200-å²›å±¿æ•°é‡","date":"2020-02-02T09:50:20.000Z","updated":"2020-02-02T11:24:58.761Z","comments":true,"path":"2020/02/02/leetcode-200-å²›å±¿æ•°é‡/","link":"","permalink":"https://castile.github.io/2020/02/02/leetcode-200-%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F/","excerpt":"","text":"æè¿° ç»™å®šä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè®¡ç®—å²›å±¿çš„æ•°é‡ã€‚ä¸€ä¸ªå²›è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”å®ƒæ˜¯é€šè¿‡æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆçš„ã€‚ä½ å¯ä»¥å‡è®¾ç½‘æ ¼çš„å››ä¸ªè¾¹å‡è¢«æ°´åŒ…å›´ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: 11110 11010 11000 00000 è¾“å‡º: 1 ç¤ºä¾‹ 2: è¾“å…¥: 11000 11000 00100 00011 è¾“å‡º: 3 é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/number-of-islands åˆ†æ dfsï¼š æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™æ˜¯ä¸€ä¸ªè¿é€šé—®é¢˜ï¼Œæ±‚å‡ºçš„è¿é€šåˆ†é‡çš„ä¸ªæ•°å°±æ˜¯å²›å±¿çš„æ•°é‡ å¹¶æŸ¥é›†ï¼š è¿™ä¸ªæ˜¯å¹¶æŸ¥é›†çš„ä¸€ä¸ªåº”ç”¨ï¼Œæ±‚è¿é€šåˆ†é‡çš„ä¸ªæ•°ã€‚ bfsï¼š ä½¿ç”¨é˜Ÿåˆ—è§£å†³ è¿™é‡Œæœ‰ä¸€ä¸ªå¤§ä½¬çš„é¢˜è§£ï¼Œéå¸¸è¯¦ç»†ï¼š https://leetcode-cn.com/problems/number-of-islands/solution/dfs-bfs-bing-cha-ji-python-dai-ma-java-dai-ma-by-l/ å®˜æ–¹é¢˜è§£ä¹Ÿå¯ã€‚ä¸»è¦æ˜¯ç†è§£ç®—æ³•æ€æƒ³ ç›´æ¥çœ‹ä»£ç å§ ä»£ç  å¹¶æŸ¥é›†ï¼š java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374class Solution &#123; int count = 0; public int numIslands(char[][] grid) &#123; if(grid == null || grid.length == 0) return 0; int m = grid.length; int n = grid[0].length; int[] parents = new int[n*m]; int[] rank = new int [n*m]; makeSet(grid, parents, rank); // æ–¹å‘æ•°ç»„ d æ˜¯ä¸Šä¸‹å·¦å³æœç´¢çš„å¸¸ç”¨æ‰‹æ³• int[][] d = new int[][]&#123;&#123;1,0&#125;, &#123;0,1&#125;, &#123;0,-1&#125;, &#123;-1,0&#125;&#125;; for(int i =0 ; i &lt; m; i++)&#123; for( int j = 0; j &lt; n; j++)&#123; if( grid[i][j] == '1')&#123; grid[i][j] = '0'; // å·²ç»è”åˆçš„ç‚¹ä¸éœ€è¦è¿æ¥äº†ã€‚ for(int k = 0; k &lt; 4; k++)&#123; int x = i + d[k][0]; int y = j + d[k][1]; if(x &gt;= 0 &amp;&amp; x &lt; m &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; n &amp;&amp; grid[x][y] == '1')&#123; unoin(parents, rank, x *n +y, i *n + j); &#125; &#125; &#125; &#125; &#125; return count; &#125; // æ„å»ºå¹¶æŸ¥é›†çš„ç»“æ„ï¼šæ³¨æ„è¿™é‡Œçš„æŠ€å·§ public void makeSet(char[][] grid, int []parents, int []rank)&#123; for(int i = 0; i &lt; grid.length ; i++)&#123; for(int j = 0; j &lt; grid[0].length; j++)&#123; if(grid[i][j] == '1')&#123; parents[i * grid[0].length + j] = i * grid[0].length + j; rank[i * grid[0].length + j] = 1; count++; // è¿é€šåˆ†é‡ &#125;else&#123; parents[i * grid[0].length + j] = -1; rank[i * grid[0].length + j] = 0; &#125; &#125; &#125; &#125; public int find(int[] parents, int a)&#123; int root = parents[a]; while(root != parents[root])&#123; root = parents[root]; &#125; return root; &#125; public void unoin(int[] parents, int []rank, int a, int b)&#123; int ra = find(parents, a); int rb = find(parents, b); if(ra != rb)&#123; if(rank[ra] &gt; rank[rb])&#123; parents[rb] = ra; rank[ra] += rank[rb]; &#125;else&#123; parents[rb] = ra; rank[ra] += rank[rb]; &#125; count--; &#125;else &#123; return; &#125; &#125;&#125; dfsï¼š java123456789101112131415161718192021222324252627282930313233343536class Solution &#123; public int numIslands(char[][] grid) &#123; int cnt = 0; for(int i = 0; i &lt; grid.length; i++)&#123; for(int j = 0; j &lt; grid[0].length; j++)&#123; if(grid[i][j] == '1')&#123; cnt++; // å²›å±¿çš„ä¸ªæ•°åŠ ä¸€ infect(grid, i, j, grid.length, grid[0].length); // æ„ŸæŸ“å‡½æ•° &#125; &#125; &#125; return cnt; &#125; /** * æ„ŸæŸ“å‡½æ•°ï¼š å°†iï¼Œ jä½ç½®çš„ä¸Šä¸‹å·¦å³ä½ç½®è¿›è¡Œæ£€æŸ¥ï¼Œæ˜¯å¦ä¸ºåŒä¸€ä¸ªå²›å±¿ * @param mï¼š å²›å±¿çŸ©é˜µ * @param iï¼š ä¸‹æ ‡ * @param jï¼š ä¸‹æ ‡ * @param R: è¡Œ * @param Cï¼š åˆ— */ public static void infect(char[][] m, int i, int j, int R, int C)&#123; if(i &lt; 0 || i &gt;= R || j &lt; 0 || j &gt;= C || m[i][j] != '1') return; m[i][j] = '2'; // ä¾æ¬¡æ„ŸæŸ“ä¸Šä¸‹å·¦å³ä½ç½® infect(m, i+1, j, R, C); infect(m, i-1, j, R, C); infect(m, i, j-1, R, C); infect(m, i, j+1, R, C); &#125;&#125; BFSï¼š ä½¿ç”¨é˜Ÿåˆ— java12345678910111213141516171819202122232425262728293031323334353637383940class Solution &#123; int m,n; int[][] d = new int[][]&#123;&#123;0,1&#125;,&#123;1,0&#125;,&#123;-1,0&#125;, &#123;0,-1&#125;&#125;; // å¹¿åº¦ä¼˜å…ˆéå† public int numIslands(char[][] grid) &#123; if(grid == null || grid.length == 0) return 0; m = grid.length; n = grid[0].length; LinkedList&lt;Integer&gt; q = new LinkedList&lt;&gt;(); int count = 0; for(int i = 0; i &lt; m; i++)&#123; for(int j = 0; j &lt; n ; j ++)&#123; if(grid[i][j] == '1')&#123; q.offer(i * n + j); // å…¥é˜Ÿ while(!q.isEmpty())&#123; int cur = q.poll(); // å‡ºé˜Ÿ int cx = cur / n; int cy = cur % n; grid[cx][cy] = '0'; for(int[] dd: d)&#123; int x = cx + dd[0]; int y = cy + dd[1]; if(x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; x &lt; m &amp;&amp; y &lt; n &amp;&amp; grid[x][y] == '1')&#123; q.offer(x * n + y); grid[x][y] = '0'; // è¦æ ‡å¿—å·²è®¿é—®ï¼Œä¸ç„¶ä¼šä¸¥é‡è¶…æ—¶ &#125; &#125; &#125; count++; &#125; &#125; &#125; return count; &#125;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"dfs","slug":"dfs","permalink":"https://castile.github.io/tags/dfs/"},{"name":"å¹¶æŸ¥é›†","slug":"å¹¶æŸ¥é›†","permalink":"https://castile.github.io/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://castile.github.io/tags/%E6%90%9C%E7%B4%A2/"}]},{"title":"leetcode-695-å²›å±¿çš„æœ€å¤§é¢ç§¯","slug":"leetcode-695-å²›å±¿çš„æœ€å¤§é¢ç§¯","date":"2020-02-02T09:44:04.000Z","updated":"2020-02-02T09:49:39.394Z","comments":true,"path":"2020/02/02/leetcode-695-å²›å±¿çš„æœ€å¤§é¢ç§¯/","link":"","permalink":"https://castile.github.io/2020/02/02/leetcode-695-%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%9C%80%E5%A4%A7%E9%9D%A2%E7%A7%AF/","excerpt":"","text":"æè¿° ç»™å®šä¸€ä¸ªåŒ…å«äº†ä¸€äº› 0 å’Œ 1çš„éç©ºäºŒç»´æ•°ç»„ grid , ä¸€ä¸ª å²›å±¿ æ˜¯ç”±å››ä¸ªæ–¹å‘ (æ°´å¹³æˆ–å‚ç›´) çš„ 1 (ä»£è¡¨åœŸåœ°) æ„æˆçš„ç»„åˆã€‚ä½ å¯ä»¥å‡è®¾äºŒç»´çŸ©é˜µçš„å››ä¸ªè¾¹ç¼˜éƒ½è¢«æ°´åŒ…å›´ç€ã€‚ æ‰¾åˆ°ç»™å®šçš„äºŒç»´æ•°ç»„ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚(å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º0ã€‚) ç¤ºä¾‹ 1: [[0,0,1,0,0,0,0,1,0,0,0,0,0], [0,0,0,0,0,0,0,1,1,1,0,0,0], [0,1,1,0,1,0,0,0,0,0,0,0,0], [0,1,0,0,1,1,0,0,1,0,1,0,0], [0,1,0,0,1,1,0,0,1,1,1,0,0], [0,0,0,0,0,0,0,0,0,0,1,0,0], [0,0,0,0,0,0,0,1,1,1,0,0,0], [0,0,0,0,0,0,0,1,1,0,0,0,0]] å¯¹äºä¸Šé¢è¿™ä¸ªç»™å®šçŸ©é˜µåº”è¿”å› 6ã€‚æ³¨æ„ç­”æ¡ˆä¸åº”è¯¥æ˜¯11ï¼Œå› ä¸ºå²›å±¿åªèƒ½åŒ…å«æ°´å¹³æˆ–å‚ç›´çš„å››ä¸ªæ–¹å‘çš„â€˜1â€™ã€‚ ç¤ºä¾‹ 2: [[0,0,0,0,0,0,0,0]] å¯¹äºä¸Šé¢è¿™ä¸ªç»™å®šçš„çŸ©é˜µ, è¿”å› 0ã€‚ æ³¨æ„: ç»™å®šçš„çŸ©é˜µgrid çš„é•¿åº¦å’Œå®½åº¦éƒ½ä¸è¶…è¿‡ 50ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/max-area-of-island åˆ†æ dfsï¼š å²›å±¿é—®é¢˜ï¼Œçœ‹åˆ°è¿é€šåŒºåŸŸï¼Œæƒ³åˆ°dfsæ¥åšã€‚ ç”¨DFSæœç´¢æ¯ä¸ªvalueä¸º1çš„ä½ç½®ï¼Œé€’å½’æ£€æŸ¥ç›¸é‚»çš„ä½ç½®ï¼Œå¦‚æœè®¿é—®è¿‡ï¼Œåˆ™å°†valueè®¾ä¸º0ï¼ˆé¿å…é‡å¤è®¿é—®ï¼‰ ç›´æ¥çœ‹ä»£ç æ³¨é‡Š ä»£ç  java12345678910111213141516171819202122232425262728293031323334353637383940414243package search;/** * @author Hongliang Zhu * @create 2020-02-02 17:04 */public class leetcode_695_MaxAreaIsland &#123; int m; int n; int[][] d = &#123;&#123;0, 1&#125;, &#123;0, -1&#125;, &#123;1, 0&#125;, &#123;-1, 0&#125;&#125;; public int maxAreaOfIsland(int[][] grid) &#123; if(grid == null || grid.length == 0) return 0; m = grid.length; n = grid[0].length; int result = 0; for(int i = 0; i &lt; m; i++)&#123; for(int j = 0; j &lt; n ; j++)&#123; result = Math.max(result, dfs(grid, i, j)); //æ±‚æœ€å¤§çš„é¢ç§¯ &#125; &#125; return result; &#125;// int[][] d = new int[][]&#123;&#123;1, 0&#125;, &#123;0, 1&#125;, &#123;-1, 0&#125;, &#123;0, -1&#125;&#125;; public int dfs(int[][] grid, int x, int y)&#123; if(x &lt; 0 || x &gt;= m || y &lt; 0 || y &gt;= n || grid[x][y] == 0)&#123; return 0; &#125; grid[x][y] = 0; int c = 1; // é¢ç§¯åŠ 1 for(int k = 0; k &lt; 4; k++)&#123; // æ³¨æ„ä½¿ç”¨ä¸åŒçš„å˜é‡ï¼Œå¦‚æœä½¿ç”¨xã€yä¼šæŠ¥é”™ int i = x + d[k][0]; int j = y + d[k][1]; c += dfs(grid, i, j); // æœç´¢ä¸Šä¸‹å·¦å³ &#125; // for(int[] dd: d)&#123; // c += dfs(grid, x + dd[0], y + dd[1]); // &#125; return c; &#125;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"dfs","slug":"dfs","permalink":"https://castile.github.io/tags/dfs/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://castile.github.io/tags/%E6%90%9C%E7%B4%A2/"}]},{"title":"leetcode-268-ç¼ºå¤±çš„æ•°å­—","slug":"leetcode-268-ç¼ºå¤±çš„æ•°å­—","date":"2020-02-02T02:54:27.000Z","updated":"2020-02-02T04:07:17.418Z","comments":true,"path":"2020/02/02/leetcode-268-ç¼ºå¤±çš„æ•°å­—/","link":"","permalink":"https://castile.github.io/2020/02/02/leetcode-268-%E7%BC%BA%E5%A4%B1%E7%9A%84%E6%95%B0%E5%AD%97/","excerpt":"","text":"[toc] æè¿° ç»™å®šä¸€ä¸ªåŒ…å« 0, 1, 2, â€¦, n ä¸­ n ä¸ªæ•°çš„åºåˆ—ï¼Œæ‰¾å‡º 0 â€¦ n ä¸­æ²¡æœ‰å‡ºç°åœ¨åºåˆ—ä¸­çš„é‚£ä¸ªæ•°ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [3,0,1] è¾“å‡º: 2 ç¤ºä¾‹ 2: è¾“å…¥: [9,6,4,2,3,5,7,0,1] è¾“å‡º: 8 é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/missing-number åˆ†æ é¢˜ç›®è¯´ä»0~nçš„æ•°å­—ï¼Œæ‰€ä»¥ç›´æ¥ç´¯åŠ æ•°ç»„å¾—åˆ°å’Œä¸ºsumï¼Œ åŠ å…¥æ•°ç»„æ²¡æœ‰ç¼ºå¤±æ•°æ®ï¼Œé‚£ä¹ˆå®Œæ•´æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ä¸ºåŸæ•°ç»„å¤§å°åŠ 1ï¼Œåˆ©ç”¨ç­‰å·®æ•°åˆ—çš„æ€§è´¨ï¼Œå¾—åˆ°ä»0~nçš„å’Œlenï¼Œç„¶ålen - sum å°±æ˜¯ç¼ºå¤±çš„é‚£ä¸ªæ•°å­—äº†ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚æ±‚å‡ºæ•°ç»„ä¸­æ‰€æœ‰æ•°çš„å’Œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œç­‰å·®æ•°åˆ—å…¬å¼çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚ç®—æ³•ä¸­åªç”¨åˆ°äº†O(1) çš„é¢å¤–ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨ç­”æ¡ˆã€‚ ä½æ“ä½œï¼š å¼‚æˆ– a b å¼‚æˆ–ç»“æœ 0 0 0 0 1 1 1 0 1 1 1 0 å…¶ä»–æ•°å­— ä¸ 0 å¼‚æˆ–éƒ½å¾—åˆ°å®ƒè‡ªå·±ã€‚ æ­¤å¤–å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹. å¦‚ï¼š 0 1 2 3 3 4 0 1 ä¸‹æ ‡ä¸æ•°ç»„å€¼å¼‚æˆ–æ“ä½œï¼š 4 ^ 0 ^ 3 ^ 1 ^ 4 ^ 2 ^ 0 ^ 3 ^ 1 ( å‰é¢çš„4æ˜¯ä¸ºäº†æ·»åŠ æœ€åä¸€ä½æ•°å­—ï¼Œä¸ºåŸæ•°ç»„çš„é•¿åº¦) ----&gt; å¯å¾—åˆ°ç¼ºå¤±çš„å€¼ä¸º2ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚è¿™é‡Œå‡è®¾å¼‚æˆ–è¿ç®—çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°çš„ï¼Œæ€»å…±ä¼šè¿›è¡ŒO(n) æ¬¡å¼‚æˆ–è¿ç®—ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚ç®—æ³•ä¸­åªç”¨åˆ°äº†O(1) çš„é¢å¤–ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨ç­”æ¡ˆã€‚ å“ˆå¸Œè¡¨ å°†æ•°ç»„ä¸­çš„å…ƒç´ æ”¾å…¥HashSetå“ˆå¸Œè¡¨ä¸­ï¼Œ æ’å…¥å“ˆå¸Œè¡¨çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œ Nä¸ªæ•°æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œ ç„¶åä»0åˆ°æ•°ç»„æ”¾é•¿åº¦åŒºé—´å†…éå†ï¼Œ åˆ¤æ–­å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨æ­¤æ•°å­—ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œ åˆ™æ­¤æ•°å­—å°±æ˜¯ç¼ºå¤±çš„æ•°å­—ã€‚éå†æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œ æ•…æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(n)ã€‚ è¿˜å¯ä»¥å…ˆæ’åºï¼Œå†æ‰¾å‡ºç¼ºå¤±çš„æ•°å­—ï¼Œä½†æ˜¯æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸æ˜¯çº¿æ€§æ—¶é—´ï¼Œ ä¸ºO(logN) ä»£ç  æ–¹æ³•ä¸€ï¼š java123456789101112class Solution &#123; public int missingNumber(int[] nums) &#123; int sum = 0; for(int i = 0 ; i &lt; nums.length; i++)&#123; //æ•°ç»„çš„å’Œ sum += nums[i]; &#125; // ç¼ºå¤±ä¸€ä¸ªæ•°å­—ï¼š æœ¬æ¥çš„å’Œåº”è¯¥æ˜¯ï¼š int len = (nums.length + 1) * nums.length / 2; return len - sum; &#125;&#125; ä½æ“ä½œï¼š java123456789class Solution &#123; public int missingNumber(int[] nums) &#123; int m = nums.length; for(int i = 0; i &lt; nums.length; i++)&#123; m ^= i ^ nums[i]; &#125; return m; &#125;&#125; å“ˆå¸Œè¡¨ï¼š java12345678910111213141516class Solution &#123; public int missingNumber(int[] nums) &#123; Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(); for( int i = 0; i &lt;nums.length; i++)&#123; set.add(nums[i]); &#125; for(int i = 0 ; i &lt;= nums.length; i++)&#123; if( !set.contains(i)) return i; &#125; return -1; &#125; &#125; æ’åºï¼š java12345678910111213141516171819class Solution &#123; public int missingNumber(int[] nums) &#123; Arrays.sort(nums); // åˆ¤æ–­æœ«å°¾ if(nums[nums.length - 1] != nums.length)&#123; return nums.length; &#125; // åˆ¤æ–­0 æ˜¯å¦åœ¨é¦–ä½ if(nums[0] != 0)&#123; return 0; &#125; for( int i = 0; i &lt;nums.length ; i++)&#123; if(i != nums[i]) return i; &#125; return -1; &#125; &#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ç®€å•","slug":"ç®€å•","permalink":"https://castile.github.io/tags/%E7%AE%80%E5%8D%95/"},{"name":"ä½æ“ä½œ","slug":"ä½æ“ä½œ","permalink":"https://castile.github.io/tags/%E4%BD%8D%E6%93%8D%E4%BD%9C/"}]},{"title":"Java-é›†åˆæ¡†æ¶","slug":"Java-é›†åˆæ¡†æ¶","date":"2020-02-01T02:49:50.000Z","updated":"2020-02-11T12:33:05.083Z","comments":true,"path":"2020/02/01/Java-é›†åˆæ¡†æ¶/","link":"","permalink":"https://castile.github.io/2020/02/01/Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/","excerpt":"","text":"ä¸€ã€ æ¦‚è¿° Collection â€‹ é›†åˆæ˜¯å­˜å‚¨å¯¹è±¡çš„å®¹å™¨ï¼Œé›†åˆä¸­å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸”é•¿åº¦å¯å˜ã€‚åœ¨ç¨‹åºä¸­æœ‰å¯èƒ½æ— æ³•é¢„å…ˆçŸ¥é“éœ€è¦å¤šå°‘ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆç”¨æ•°ç»„æ¥è£…å¯¹è±¡çš„è¯ï¼Œé•¿åº¦ä¸å¥½å®šä¹‰ï¼Œè€Œé›†åˆè§£å†³äº†è¿™æ ·çš„é—®é¢˜ã€‚ â€‹ å®¹å™¨ä¸»è¦åŒ…æ‹¬ Collection å’Œ Map ä¸¤ç§ï¼ŒCollection å­˜å‚¨ç€å¯¹è±¡çš„é›†åˆï¼Œè€Œ Map å­˜å‚¨ç€é”®å€¼å¯¹ï¼ˆä¸¤ä¸ªå¯¹è±¡ï¼‰çš„æ˜ å°„è¡¨ã€‚ æ³¨ï¼š å¸¦å¯¹å·çš„æ˜¯çº¿ç¨‹å®‰å…¨ç±»ã€‚ é›†åˆå’Œæ•°ç»„çš„åŒºåˆ« æ•°ç»„å’Œé›†åˆç±»éƒ½æ˜¯å®¹å™¨ æ•°ç»„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œé›†åˆé•¿åº¦æ˜¯å¯å˜çš„ã€‚æ•°ç»„ä¸­å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé›†åˆåªèƒ½å­˜å‚¨å¯¹è±¡ æ•°ç»„ä¸­å­˜å‚¨æ•°æ®ç±»å‹æ˜¯å•ä¸€çš„ï¼Œé›†åˆä¸­å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚ é›†åˆç±»çš„ç‰¹ç‚¹ï¼šç”¨äºå­˜å‚¨å¯¹è±¡ï¼Œé•¿åº¦æ˜¯å¯å˜çš„ï¼Œå¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚ ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼ŒSetã€Listã€Queueéƒ½æ˜¯ç»§æ‰¿Collectionæ¥å£ã€‚ï¼ˆMapæ˜¯æ¥å£ï¼Œä¸‹é¢ä¼šè¯¦ç»†æè¿°ï¼‰ Setä¸‹é¢æœ‰HashSetã€LinkedHashSetä»¥åŠä¸€ä¸ªSortedSetæ¥å£ï¼ŒTreeSetç»§æ‰¿SortedSetæ¥å£ï¼Œè¯´æ˜TreeSeté‡Œé¢çš„å…ƒç´ ä¸€å®šæ˜¯æœ‰åºçš„ã€‚ Listä¸‹é¢æœ‰ArrayListã€Vectorã€ LinkedList Queueä¸‹é¢æœ‰LinkedListå’ŒPriorityQueueç±»(å †ç»“æ„ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—)ï¼Œè¯´æ˜LinkedLIstå¯ä»¥å½“åšé˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚ 1. Setï¼šå”¯ä¸€æ€§ TreeSet åŸºäºçº¢é»‘æ ‘å®ç°ï¼Œæ”¯æŒæœ‰åºæ€§æ“ä½œï¼Œä¾‹å¦‚æ ¹æ®ä¸€ä¸ªèŒƒå›´æŸ¥æ‰¾å…ƒç´ çš„æ“ä½œã€‚ä½†æ˜¯æŸ¥æ‰¾æ•ˆç‡ä¸å¦‚ HashSetï¼ŒHashSet æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼ŒTreeSet åˆ™ä¸º O(logN)ã€‚çº¢é»‘æ ‘çš„ç®—æ³•è§„åˆ™æ˜¯å·¦å°å³å¤§ã€‚ çº¢é»‘æ ‘æ˜¯ä¸€ç§ç‰¹å®šç±»å‹çš„äºŒå‰æ ‘ï¼Œ æ˜¯ä¸€ç§å«æœ‰çº¢é»‘ç»“ç‚¹å¹¶èƒ½è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚å®ƒå¿…é¡»æ»¡è¶³ä¸‹é¢æ€§è´¨ï¼š â€‹ æ€§è´¨1ï¼šæ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯é»‘è‰²ï¼Œè¦ä¹ˆæ˜¯çº¢è‰²ã€‚ â€‹ æ€§è´¨2ï¼šæ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚ â€‹ æ€§è´¨3ï¼šæ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚ â€‹ æ€§è´¨4ï¼šæ¯ä¸ªçº¢è‰²ç»“ç‚¹çš„ä¸¤ä¸ªå­ç»“ç‚¹ä¸€å®šéƒ½æ˜¯é»‘è‰²ã€‚ â€‹ æ€§è´¨5ï¼šä»»æ„ä¸€ç»“ç‚¹åˆ°æ¯ä¸ªå¶å­ç»“ç‚¹çš„è·¯å¾„éƒ½åŒ…å«æ•°é‡ç›¸åŒçš„é»‘ç»“ç‚¹ã€‚ çº¢é»‘æ ‘ä»¥åä¼šè¡¥ä¸Šï¼Œè¯¦è§£è§ï¼š 30å¼ å›¾å¸¦ä½ å½»åº•ç†è§£çº¢é»‘æ ‘ TreeSetå¯ä»¥è‡ªç„¶æ’åºï¼Œé‚£ä¹ˆTreeSetå¿…å®šå…·æœ‰æ’åºè§„åˆ™çš„ â€‹ â‘  å…ƒç´ è‡ªèº«å…·æœ‰æ¯”è¾ƒæ€§ï¼Œéœ€è¦å®ç°Comparableæ¥å£ï¼Œé‡å†™compareToæ–¹æ³•ã€‚è¿™ç§æ–¹å¼å«åšå…ƒç´ çš„è‡ªç„¶æ’åº â€‹ â‘¡ å®¹å™¨å…·å¤‡æ¯”è¾ƒæ€§ï¼Œå½“å…ƒç´ ä¸å…·å¤‡æ¯”è¾ƒæ€§ï¼Œæˆ–è€…è‡ªèº«å…·å¤‡çš„æ¯”è¾ƒæ€§ä¸æ˜¯æ‰€éœ€è¦çš„ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¹Ÿå¯ä»¥è®©å®¹å™¨è‡ªèº«å…·å¤‡ã€‚éœ€è¦å®šä¹‰ä¸€ä¸ªç±»å®ç°Comparatoræ¥å£ï¼Œ é‡å†™compareæ–¹æ³•ï¼Œå¹¶å°†è¯¥æ¥å£çš„å­ç±»å®ä¾‹å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™TreeSeté›†åˆçš„æ„é€ æ–¹æ³•ã€‚ï¼ˆæ³¨ï¼š å½“Comparableæ¯”è¾ƒæ–¹å¼å’ŒComparatoræ¯”è¾ƒæ–¹å¼åŒæ—¶å­˜åœ¨ï¼Œä»¥Comparatorä¸ºä¸»ï¼‰ â€‹ â‘¢ åŸºæœ¬æ•°æ®ç±»å‹å…·å¤‡è‡ªèº«æ¯”è¾ƒæ€§ï¼Œæ¯”å¦‚Stringï¼Œ intç­‰ï¼ŒStringå†…éƒ¨å·²ç»ç»§æ‰¿äº†Comparableæ¥å£ï¼Œæ‰€ä»¥å…·å¤‡æ¯”è¾ƒæ€§ï¼Œæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å…ƒç´ ï¼Œæƒ³è¦å­˜å…¥TreeSetä¸­ï¼Œå°±å¿…é¡»è‡ªå·±å®ç°è¯¥æ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´è¦è®©å¯¹è±¡å…·å¤‡å°±æ¯”è¾ƒæ€§ï¼Œå¦‚æœå­˜å…¥ç›¸åŒçš„å…ƒç´ åˆ™åªä¼šå­˜å…¥ä¸€ä¸ªåˆ°TreeSetä¸­ã€‚ â€‹ â‘£ TreeSetä¸­å¦‚ä½•ä¿è¯å…ƒç´ çš„å”¯ä¸€æ€§ï¼š é€šè¿‡compareToæˆ–è€…compareæ–¹æ³•æ¥ä¿è¯å…ƒç´ çš„å”¯ä¸€æ€§ã€‚ Personç±»ä¸­æœ‰nameå’Œageå±æ€§ï¼Œä¸‹é¢æ˜¯é‡å†™çš„compareToæ–¹æ³•ä»¥åŠhashCodeå’Œequalsæ–¹æ³•ã€‚è¿™æ˜¯ä½¿å…ƒç´ è‡ªèº«å…·å¤‡æ¯”è¾ƒæ€§ï¼š java1234567891011121314151617181920212223242526 @Override public int hashCode() &#123; return nama.hashCode() + age*33; &#125; @Override public boolean equals(Object obj) &#123; if(!(obj instanceof Person))&#123; return false; &#125; Person p = (Person)obj; return this.nama.equals(p.nama) &amp;&amp; this.age == p.age; &#125; @Override public int compareTo(Object o) &#123; Person p = (Person)o; if(this.age &gt; p.age)&#123; return 1; &#125; if(this.age &lt; p.age)&#123; return -1; &#125; return this.nama.compareTo(p.nama); &#125; ä¸‹é¢æ˜¯æ˜¯ä½¿å®¹å™¨è‡ªèº«å…·å¤‡æ¯”è¾ƒæ€§ï¼Œè¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼šå®šä¹‰ä¸€ä¸ªç±»å®ç°Comparatoræ¥å£ï¼Œ é‡å†™compareæ–¹æ³•ï¼Œå¹¶å°†è¯¥æ¥å£çš„å­ç±»å®ä¾‹å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™TreeSeté›†åˆçš„æ„é€ æ–¹æ³•ã€‚ java123456789101112131415161718192021222324252627282930313233343536373839class MyComparator implements Comparator&#123; @Override public int compare(Object o1, Object o2) &#123; Person p1 = (Person) o1; Person p2 = (Person) o2; // é¦–å…ˆæ¯”è¾ƒå¹´é¾„ï¼Œå¹´é¾„ä¸ä¸€æ ·å°±æ˜¯ä¸åŒå…ƒç´ ï¼Œå› ä¸ºå­˜åœ¨åŒåçš„äºº if(p1.getAge() &gt; p2.getAge())&#123; // æŒ‰ç…§å¹´é¾„å‡åºæ’åˆ— return 1; &#125; if( p1.getAge() &lt; p2.getAge())&#123; return -1; &#125; // å¦‚æœå¹´é¾„ç›¸åŒåˆ™æ¯”è¾ƒå§“å return p1.getNama().compareTo(p2.getNama()); &#125;&#125; public static void main(String[] args) &#123; TreeSet&lt;Person&gt; set = new TreeSet&lt;&gt;(new MyComparator()); // ä¼ å…¥æ¯”è¾ƒå™¨ set.add(new Person(\"å¼ ä¸‰\", 12)); set.add(new Person(\"æå››\", 5)); set.add(new Person(\"æå››\", 12)); set.add(new Person(\"tom\", 24)); set.add(new Person(\"tom\" , 24)); for (Person p: set)&#123; out.println(p.getNama()+\" \"+p.getAge()); &#125; &#125;è¾“å‡ºï¼š æå›› 5å¼ ä¸‰ 12æå›› 12tom 24å¯ä»¥çœ‹åˆ°é‡åçš„tomæ˜¯ç›¸åŒçš„å…ƒç´ ï¼Œæ™ºæ…§æ·»åŠ ä¸€ä¸ªåˆ°TreeSetä¸­ï¼Œå¹¶ä¸”è¾“å‡ºçš„é¡ºåºæ˜¯æŒ‰ç…§å¹´é¾„å¤§å°æ’åˆ—çš„ HashSet åŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæ”¯æŒå¿«é€ŸæŸ¥æ‰¾ï¼Œä½†ä¸æ”¯æŒæœ‰åºæ€§æ“ä½œã€‚å¹¶ä¸”å¤±å»äº†å…ƒç´ çš„æ’å…¥é¡ºåºä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨ Iterator éå† HashSet å¾—åˆ°çš„ç»“æœæ˜¯ä¸ç¡®å®šçš„ã€‚ï¼ˆæ— åºï¼‰ HashSetæ˜¯æŒ‰ç…§å“ˆå¸Œå€¼æ¥å­˜æ•°æ®çš„ï¼Œæ‰€ä»¥å–æ•°æ®ä¹Ÿæ˜¯æŒ‰ç…§å“ˆå¸Œå€¼å–å¾—çš„ã€‚ Setå…·æœ‰å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œæ‰€ä»¥HashSetä¹Ÿå…·æœ‰æ­¤ç‰¹æ€§ã€‚ HashSetå¦‚ä½•æ£€æŸ¥é‡å¤å‘¢ï¼Ÿ â€‹ HashSeté€šè¿‡hashCodeå€¼æ¥ç¡®å®šå…ƒç´ åœ¨å†…å­˜ä¸­çš„ä½ç½®ã€‚ä¸€ä¸ªhashCodeä½ç½®ä¸Šå¯ä»¥å­˜æ”¾å¯¹ä¸ªå…ƒç´ ã€‚å…ƒç´ çš„å“ˆå¸Œå€¼æ˜¯é€šè¿‡å…ƒç´ çš„hashCodeæ–¹æ³•æ¥è·å–çš„ï¼Œ HashSeté¦–å…ˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ çš„å“ˆå¸Œå€¼ï¼Œå¦‚æœå“ˆå¸Œå€¼ä¸€æ ·ï¼Œæ¥ç€ä¼šæ¯”è¾ƒequalsæ–¹æ³•ï¼›å¦‚æœhashCodeä¸ä¸€æ ·å°±ä¸ä¼šå†è°ƒç”¨equalsæ–¹æ³•äº†ã€‚å¦‚æœequalsæ–¹æ³•è¿”å›trueï¼Œé‚£ä¹ˆHashSetè®¤ä¸ºæ–°åŠ å…¥çš„å¯¹è±¡é‡å¤äº†åŠ å…¥å¤±è´¥ã€‚å¦‚æœequalsæ–¹æ³•ä¸ºfalseé‚£ä¹ˆHashSetè®¤ä¸ºæ–°åŠ å…¥çš„å¯¹è±¡æ²¡æœ‰é‡å¤ï¼Œæ–°å…ƒç´ å¯ä»¥åŠ å…¥ã€‚ LinkedHashSet å…·æœ‰ HashSet çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œå¹¶ä¸”å†…éƒ¨ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºã€‚ï¼ˆæœ‰åºï¼‰ ç”±é“¾è¡¨ä¿è¯å…ƒç´ æœ‰åº ç”±å“ˆå¸Œè¡¨ä¿è¯å…ƒç´ å”¯ä¸€ 2. List Listç‰¹æœ‰çš„æ–¹æ³• 1ï¼š å¢åŠ  â€‹ void add(int index, E elem) æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´  â€‹ boolean addAll(int index, COllection c) æŒ‡å®šä½ç½®æ·»åŠ é›†åˆ 2ï¼š åˆ é™¤ â€‹ E remove(int index) åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´  3ï¼š æŸ¥æ‰¾ â€‹ E get(int index) æ³¨æ„ IndexOutOfBoundsException â€‹ int indexOf(Object o) æ‰¾ä¸åˆ°è¿”å› -1 â€‹ lastIndexOf(Object o) 4ï¼š ä¿®æ”¹ â€‹ E set(int index, E elem) è¿”å›çš„æ˜¯éœ€è¦æ›¿æ¢çš„é›†åˆä¸­çš„å…ƒç´  5ï¼š æ±‚å­é›†åˆ â€‹ List subList(int fromIndex, int toIndex) // åŒ…å«toIndex ArrayList åŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒéšæœºè®¿é—®ã€‚ åº•å±‚é‡‡ç”¨æ•°ç»„å®ç°ï¼Œ é»˜è®¤ä¸º10. æŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ã€‚åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒArrayList æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ä¸ªé›†åˆã€‚ Vector å’Œ ArrayList ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚æè¿°çš„æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ArrayList ArrayListï¼š å•çº¿ç¨‹æ•ˆç‡é«˜ Vectorï¼š å¤šçº¿ç¨‹å®‰å…¨ï¼Œ æ‰€ä»¥æ•ˆç‡ä½ ç‰¹æœ‰çš„æ–¹æ³• â€‹ void addElement(E obj) åœ¨é›†åˆæœ«å°¾æ·»åŠ å…ƒç´  â€‹ E elementAt(int index) è¿”å›æŒ‡å®šè§’æ ‡çš„å…ƒç´  â€‹ Enumeration elements() è¿”å›é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œ å°è£…åˆ°Enumerationå¯¹è±¡ä¸­ â€‹ Enumeration æ¥å£ï¼š â€‹ boolean hashMoreElements() æµ‹è¯•æ­¤æšä¸¾çš„å¯¹è±¡æ˜¯å¦åŒ…å«æ›´å¤šçš„å…ƒç´  â€‹ E nextElement() è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´  LinkedList åŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œä½†æ˜¯å¯ä»¥å¿«é€Ÿåœ°åœ¨é“¾è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒLinkedList è¿˜å¯ä»¥ç”¨ä½œæ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ã€‚ â€‹ 1. ç‰¹æœ‰æ–¹æ³•ï¼š â€‹ addFirst(E e) â€‹ addLast(E e) â€‹ getFirst( ) â€‹ getLast( ) â€‹ removeFirst() â€‹ removeLast() æ•°æ®ç»“æ„ 1ï¼š æ ˆï¼ˆ1.6ï¼‰ï¼špush() pop() 2: é˜Ÿåˆ— ï¼š offer() poll() java123456789101112// æ ˆ LinkedList list = new LinkedList(); list.push(2); list.push(4); list.push(5); list.push(6); Iterator it = list.iterator(); while (it.hasNext())&#123; out.println(it.next()); &#125; è¾“å‡ºï¼š 6 5 4 2 æ¨¡æ‹Ÿé˜Ÿåˆ—ï¼š java1234567891011LinkedList q = new LinkedList(); q.offer(2); q.offer(3); q.offer(5); q.poll(); Iterator it1 = q.iterator(); while (it1.hasNext())&#123; out.println(it1.next()); &#125; è¿”å›é€†åºçš„è¿­ä»£å™¨å¯¹ â€‹ descendingItrerator() è¿”å›é€†åºçš„è¿­ä»£å™¨å¯¹è±¡ 3. Queue LinkedList â€‹ å¯ä»¥ç”¨å®ƒæ¥å®ç°åŒå‘é˜Ÿåˆ—ã€‚ PriorityQueue â€‹ åŸºäºå †ç»“æ„å®ç°ï¼Œå¯ä»¥ç”¨å®ƒæ¥å®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚ æ€»ç»“ çœ‹åˆ°Arrayï¼š æƒ³åˆ°è§’æ ‡ çœ‹åˆ°Linkï¼š æƒ³åˆ°firstã€last çœ‹åˆ°Hashï¼š æƒ³åˆ°hashCodeã€equals çœ‹åˆ°Treeï¼š æƒ³åˆ°ä¸¤ä¸ªæ¥å£ï¼š Comparableã€ Comparator Map Mapä¸Collectionåœ¨æ¡†æ¶ä¸­å±å¹¶ä¸¤åˆ—å­˜åœ¨ã€‚interface Map&lt;K, V&gt; Mapä¸€æ¬¡å­˜å‚¨ä¸€å¯¹å…ƒç´ ï¼ŒCollectionä¸€æ¬¡å­˜ä¸€ä¸ªã€‚Mapçš„é”®ä¸èƒ½é‡å¤ï¼Œä¿è¯å”¯ä¸€ã€‚ TreeMap â€‹ åŸºäºçº¢é»‘æ ‘å®ç°ã€‚å¯ä»¥å¯¹é”®è¿›è¡Œæ’åºã€‚æ’åºæ–¹æ³•å’ŒTreeSetä¸­ç±»ä¼¼ï¼Œå¯¹äºä¸å…·å¤‡æ¯”è¾ƒæ€§çš„å¯¹è±¡éœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨ä¼ å…¥å®¹å™¨ä¸­ã€‚ HashMap â€‹ åŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œ æ— åºï¼Œçº¿ç¨‹ä¸åŒæ­¥ï¼Œè¦ä¿è¯é”®çš„å”¯ä¸€æ€§ï¼Œéœ€è¦é‡å†™hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ã€‚ HashTable å’Œ HashMap ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™æ„å‘³ç€åŒä¸€æ—¶åˆ»å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™å…¥ HashTable ä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚å®ƒæ˜¯é—ç•™ç±»ï¼Œä¸åº”è¯¥å»ä½¿ç”¨å®ƒï¼Œè€Œæ˜¯ä½¿ç”¨ ConcurrentHashMap æ¥æ”¯æŒçº¿ç¨‹å®‰å…¨ï¼ŒConcurrentHashMap çš„æ•ˆç‡ä¼šæ›´é«˜ï¼Œå› ä¸º ConcurrentHashMap å¼•å…¥äº†åˆ†æ®µé”ã€‚ Hashtableä¸å…è®¸nullå€¼ï¼ŒHashMapå…è®¸nullå€¼ï¼ˆkeyå’Œvalueéƒ½å…è®¸ ) æ•ˆç‡æ¯”HashMapä½ LinkedHashMap â€‹ ç»§æ‰¿äº†HashMapã€‚ä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤å…ƒç´ çš„é¡ºåºï¼Œé¡ºåºä¸ºæ’å…¥é¡ºåºæˆ–è€…æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰é¡ºåºã€‚ éå† è¿­ä»£å™¨ è¿­ä»£å™¨ï¼š ä¸ºäº†æ–¹ä¾¿å¤„ç†é›†åˆä¸­çš„å…ƒç´ ï¼Œå‡ºç°äº†è¿­ä»£å™¨å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æ¯”è¾ƒç‰¹æ®Šï¼Œä¸èƒ½é€šè¿‡newæ¥åˆ›å»ºï¼Œå®ƒæ˜¯ä»¥å†…éƒ¨ç±»çš„å½¢å¼å­˜åœ¨äºæ¯ä¸ªé›†åˆçš„å†…éƒ¨ã€‚ â€‹ æ¯ä¸ªå®¹å™¨éƒ½èƒ½å–å‡ºå…ƒç´ çš„åŠŸèƒ½ï¼Œå®šä¹‰ä¸€æ ·ï¼Œåªä¸è¿‡ä¸åŒçš„å®¹å™¨ä½¿ç”¨çš„æ•°æ®ç»“æ„ä¸åŒè€Œå¯¼è‡´å–å‡ºå…ƒç´ çš„å…·ä½“å®ç°ä¸ä¸€æ ·ï¼Œå°†å…±æ€§æŠ½å–å‡ºæ¥å½¢æˆIteratoræ¥å£ã€‚æ¯ä¸€ä¸ªå®¹æ˜“åœ¨å…¶å†…éƒ¨è¿›è¡Œäº†å†…éƒ¨ç±»çš„å®ç°ã€‚ä¹Ÿå°±æ˜¯å°†å–å‡ºå…ƒç´ çš„æ–¹å¼çš„ç»†èŠ‚è¿›è¡Œå°è£…ã€‚ Iterable JDK1.5åçš„æ–°æ¥å£ã€‚Collectionç»§æ‰¿äº†æ­¤æ¥å£ï¼Œå®ç°äº†Iterableçš„ç±»å°±æ˜¯å¯ä»¥è¿›è¡Œè¿­ä»£çš„ï¼Œå¹¶ä¸”æ”¯æŒå¢å¼ºforå¾ªç¯ã€‚ Iterator Iterable æ¥å£åªæœ‰ä¸€ä¸ªè¿”å›è¿­ä»£å™¨çš„æ–¹æ³•Iterator(). Iteratoræ˜¯è¿­ä»£å™¨å¯¹è±¡ã€‚ Iteartor Iterator() è¿”å›è¯¥é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡ whileå¾ªç¯è¿›è¡Œè¿­ä»£å™¨éå†ï¼š java12345678910 LinkedList list = new LinkedList(); list.push(2); list.push(4); list.push(5); list.push(6);// è¿­ä»£å™¨éå† Iterator it = list.iterator(); while (it.hasNext()) &#123; out.println(it.next()); &#125; forå¾ªç¯ï¼š java123for (Iterator it = list.iterator(); it.hasNext();)&#123; out.println(it.next()); &#125; æ¨èä½¿ç”¨forå¾ªç¯ï¼Œå› ä¸ºå¯ä»¥è¿›è¡Œå†…å­˜ä¸Šçš„ä¼˜åŒ–ã€‚ å¦‚æœè¿­ä»£å™¨çš„æŒ‡é’ˆå·²ç»æŒ‡å‘äº†é›†åˆçš„æœ«å°¾ï¼Œ é‚£ä¹ˆå¦‚æœå†è°ƒç”¨next() ä¼šè¿”NoSuchElementException å¼‚å¸¸ã€‚ å¦‚æœè°ƒç”¨moveæ–¹æ³•ä¹‹å‰æ²¡ç”¨è°ƒç”¨nextæ˜¯ä¸åˆæ³•çš„ã€‚ä¼šæŠ›å‡ºIllegaStateException è¿­ä»£å™¨åŸç† ArrayListï¼š çœ‹æºç  java123public Iterator&lt;E&gt; iterator() &#123; return new Itr(); &#125; çœ‹çœ‹Itr() æ–¹æ³• java1234567891011121314151617181920212223242526272829303132333435363738private class Itr implements Iterator&lt;E&gt; &#123; int cursor; // index of next element to return ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ int lastRet = -1; // index of last element returned; -1 if no such int expectedModCount = modCount; // å¦‚æœå½“å‰çš„ä¸‹æ ‡å¤§å°ä¸ç­‰äºå®¹å™¨ä¸ªå…ƒç´ ä¸ªæ•° å°± è¯´æ˜è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´  public boolean hasNext() &#123; return cursor != size; &#125; // è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´  @SuppressWarnings(\"unchecked\") public E next() &#123; checkForComodification(); int i = cursor; if (i &gt;= size) // æ²¡æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ äº† throw new NoSuchElementException(); Object[] elementData = ArrayList.this.elementData; if (i &gt;= elementData.length) throw new ConcurrentModificationException(); cursor = i + 1; // å½“å‰çš„cursorè¦æŒ‡å‘ä¸‹ä¸€ä¸ª return (E) elementData[lastRet = i]; // è¿”å›å…ƒç´  &#125; public void remove() &#123; if (lastRet &lt; 0) throw new IllegalStateException(); checkForComodification(); try &#123; ArrayList.this.remove(lastRet); cursor = lastRet; lastRet = -1; expectedModCount = modCount; &#125; catch (IndexOutOfBoundsException ex) &#123; throw new ConcurrentModificationException(); &#125; &#125; æ¥çœ‹çœ‹ä¸Šé¢ä»£ç çš„checkForComodification(); java1234final void checkForComodification() &#123; if (modCount != expectedModCount) throw new ConcurrentModificationException(); &#125; â€‹ åœ¨å¯¹é›†åˆè¿›è¡Œè¿­ä»£è¿‡ç¨‹ä¸­ï¼Œä¸å…è®¸å‡ºç°è¿­ä»£å™¨ä»¥å¤–çš„å¯¹å…ƒç´ çš„æ“ä½œï¼Œ å› ä¸ºè¿™æ ·ä¼šäº§ç”Ÿå®‰å…¨éšæ‚£ï¼Œjavaä¼šæŠ›å‡ºå¼‚å¸¸å¹¶å‘ä¿®æ”¹å¼‚å¸¸ConcurrentModificationExceptionï¼Œ æ™®é€šè¿­ä»£å™¨åªæ”¯æŒåœ¨è¿­ä»£è¿‡ç¨‹ä¸­çš„åˆ é™¤æ“ä½œã€‚ java12345678910111213141516public static void main(String[] args) &#123; ArrayList list = new ArrayList(); list.add(\"aaa\"); list.add(\"bbb\"); list.add(\"ccc\"); list.add(\"ddd\"); list.add(\"eee\"); System.out.println(list); Iterator it = list.iterator(); while (it.hasNext())&#123; it.next(); it.remove(); list.add(\"aaaaa\"); // å‡ºç°äº†è¿­ä»£å™¨ä»¥å¤–çš„å¯¹å…ƒç´ çš„æ“ä½œ &#125; &#125; â€‹ æŠ¥é”™ï¼š List ç‰¹æœ‰çš„è¿­ä»£å™¨ListIterator å¦‚æœæƒ³åœ¨è¿­ä»£å…ƒç´ çš„è¿‡ç¨‹ä¸­æ“ä½œé›†åˆçš„å…ƒç´ ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨LIstç‰¹æœ‰çš„è¿­ä»£å™¨å¯¹è±¡ListIteratorï¼Œè¯¥è¿­ä»£å™¨å¯æ”¯æŒåœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­æ·»åŠ å…ƒç´ å’Œä¿®æ”¹å…ƒç´ ã€‚ implements ListIterator æ¥å£ java123public ListIterator&lt;E&gt; listIterator() &#123; return new ListItr(0); &#125; java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758private class ListItr extends Itr implements ListIterator&lt;E&gt; &#123; ListItr(int index) &#123; super(); cursor = index; &#125; // æ˜¯å¦æœ‰å‰ä¸€ä¸ªå…ƒç´  public boolean hasPrevious() &#123; return cursor != 0; &#125; // è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ public int nextIndex() &#123; return cursor; &#125; // è¿”å›å‰ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ public int previousIndex() &#123; return cursor - 1; &#125; // è¿”å›å‰ä¸€ä¸ªå…ƒç´ ï¼š å¯ä»¥é€†åºè®¿é—® @SuppressWarnings(\"unchecked\") public E previous() &#123; checkForComodification(); int i = cursor - 1; if (i &lt; 0) throw new NoSuchElementException(); Object[] elementData = ArrayList.this.elementData; if (i &gt;= elementData.length) throw new ConcurrentModificationException(); cursor = i; return (E) elementData[lastRet = i]; &#125; // ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢nextæˆ–è€… previousè¿”å›çš„æœ€åä¸€ä¸ªå…ƒç´  public void set(E e) &#123; if (lastRet &lt; 0) throw new IllegalStateException(); checkForComodification(); try &#123; ArrayList.this.set(lastRet, e); &#125; catch (IndexOutOfBoundsException ex) &#123; throw new ConcurrentModificationException(); &#125; &#125; // å°†æŒ‡å®šçš„å…ƒç´ åŠ å…¥åˆ—è¡¨ï¼Œé’™å…ƒç´ ç›´æ¥æ’å…¥åˆ°nextå…ƒç´ çš„åé¢ public void add(E e) &#123; checkForComodification(); try &#123; int i = cursor; ArrayList.this.add(i, e); cursor = i + 1; lastRet = -1; expectedModCount = modCount; &#125; catch (IndexOutOfBoundsException ex) &#123; throw new ConcurrentModificationException(); &#125; &#125; &#125; æµ‹è¯• setæ–¹æ³•ï¼š java1234567891011121314public static void main(String[] args) &#123; ArrayList list = new ArrayList(); list.add(\"aaa\"); list.add(\"bbb\"); list.add(\"ccc\"); list.add(\"ddd\"); list.add(\"eee\"); System.out.println(list); ListIterator it = list.listIterator(); System.out.println(it.next()); it.set(\"zhu\"); System.out.println(list); &#125; è¾“å‡ºï¼š [aaa, bbb, ccc, ddd, eee] aaa [zhu, bbb, ccc, ddd, eee] æµ‹è¯• addæ–¹æ³• java12345678910111213public static void main(String[] args) &#123; ArrayList list = new ArrayList(); list.add(\"aaa\"); list.add(\"bbb\"); list.add(\"ccc\"); list.add(\"ddd\"); list.add(\"eee\"); System.out.println(list); ListIterator it = list.listIterator(); System.out.println(it.next()); it.add(\"zhu\"); // åœ¨aaaä¹‹åæ·»åŠ zhu System.out.println(list); &#125; è¾“å‡ºï¼š [aaa, bbb, ccc, ddd, eee] aaa [aaa, zhu, bbb, ccc, ddd, eee] éå†Map æœ‰ä¸‰ç§æ–¹å¼ï¼š keySet() è·å–Mapä¸­çš„æ‰€æœ‰é”®ï¼Œè½¬æ¢æˆSeté›†åˆï¼Œç„¶åéå†è¯¥Setï¼Œé€šè¿‡getæ–¹æ³•è·å–é”®å¯¹åº”çš„å€¼ values() æ–¹æ³•æ¥è·å–æ‰€æœ‰å€¼ ï¼šCollection values() ä¸èƒ½è·å–åˆ°keyå¯¹è±¡ Map.Entryå¯¹è±¡ï¼šé‡ç‚¹ï¼ï¼ï¼ï¼æ¨èä½¿ç”¨ï¼š Interface Map.Entry&lt;K,V&gt; Map.Entry public static interface Map.Entry&lt;K,V&gt; å°†mapé›†åˆä¸­çš„é”®å€¼å¯¹å…³ç³»æ‰“åŒ…æˆä¸€ä¸ªMap.Entryå¯¹è±¡ï¼Œå°†è¯¥å¯¹è±¡å­˜å…¥Setç»“åˆä¸­ï¼Œä½¿ç”¨getKey() å’Œ getValue()æ¥è·å–é”®å’Œå€¼ java1234567891011121314public static void main(String[] args) &#123; HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;(); map.put(\"aaa\", 123); map.put(\"bbb\", 345); map.put(\"ccc\", 121); map.put(\"ddd\", 675); Set&lt;Map.Entry&lt;String, Integer&gt;&gt; s = map.entrySet(); Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; iterator = s.iterator(); while (iterator.hasNext())&#123; Map.Entry&lt;String, Integer&gt; en = iterator.next(); System.out.println(\"é”®ï¼š \"+ en.getKey()+\" å€¼ï¼š\"+ en.getValue()); &#125; &#125; é”®ï¼š aaa å€¼ï¼š123 é”®ï¼š ccc å€¼ï¼š121 é”®ï¼š bbb å€¼ï¼š345 é”®ï¼š ddd å€¼ï¼š675 æºç åˆ†æ å¦‚æœæ²¡æœ‰ç‰¹åˆ«è¯´æ˜ï¼Œä»¥ä¸‹æºç åˆ†æåŸºäº JDK 1.8ã€‚ ä¸€ã€ ArrayList 1. æ¦‚è§ˆ å› ä¸º ArrayList æ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œæ‰€ä»¥æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚RandomAccess æ¥å£æ ‡è¯†ç€è¯¥ç±»æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚ java12public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable java1234/** * Default initial capacity. æ•°ç»„çš„é»˜è®¤å¤§å°ä¸º10 */ private static final int DEFAULT_CAPACITY = 10; 2. æ‰©å®¹ â€‹ æ·»åŠ å…ƒç´ æ—¶ä½¿ç”¨ ensureCapacityInternal() æ–¹æ³•æ¥ä¿è¯å®¹é‡è¶³å¤Ÿï¼Œå¦‚æœä¸å¤Ÿæ—¶ï¼Œéœ€è¦ä½¿ç”¨ grow() æ–¹æ³•è¿›è¡Œæ‰©å®¹ï¼Œæ–°å®¹é‡çš„å¤§å°ä¸º oldCapacity + (oldCapacity &gt;&gt; 1) ï¼Œä¹Ÿå°±æ˜¯æ—§å®¹é‡çš„ 1.5 å€ã€‚ â€‹ æ‰©å®¹æ“ä½œéœ€è¦è°ƒç”¨ Arrays.copyOf() æŠŠåŸæ•°ç»„æ•´ä¸ªå¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œè¿™ä¸ªæ“ä½œä»£ä»·å¾ˆé«˜ï¼Œå› æ­¤æœ€å¥½åœ¨åˆ›å»º ArrayList å¯¹è±¡æ—¶å°±æŒ‡å®šå¤§æ¦‚çš„å®¹é‡å¤§å°ï¼Œå‡å°‘æ‰©å®¹æ“ä½œçš„æ¬¡æ•°ã€‚ java12345678910111213141516171819202122232425262728293031public boolean add(E e) &#123; ensureCapacityInternal(size + 1); // Increments modCount!! elementData[size++] = e; return true;&#125;// private void ensureCapacityInternal(int minCapacity) &#123; if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123; minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity); &#125; ensureExplicitCapacity(minCapacity);&#125;private void ensureExplicitCapacity(int minCapacity) &#123; modCount++; // overflow-conscious code if (minCapacity - elementData.length &gt; 0) grow(minCapacity);&#125;private void grow(int minCapacity) &#123; // overflow-conscious code int oldCapacity = elementData.length; int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); // minCapacity is usually close to size, so this is a win: elementData = Arrays.copyOf(elementData, newCapacity); &#125; 3. åˆ é™¤å…ƒç´  éœ€è¦è°ƒç”¨ `System.arraycopy()` å°† `index+1 ` åé¢çš„å…ƒç´ éƒ½å¤åˆ¶åˆ° `index` ä½ç½®ä¸Šï¼Œè¯¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º `O(N)`ï¼Œå¯ä»¥çœ‹åˆ° ArrayList åˆ é™¤å…ƒç´ çš„ä»£ä»·æ˜¯éå¸¸é«˜çš„ã€‚ java1234567891011121314public E remove(int index) &#123; rangeCheck(index); modCount++; E oldValue = elementData(index); int numMoved = size - index - 1; if (numMoved &gt; 0) System.arraycopy(elementData, index+1, elementData, index, numMoved); elementData[--size] = null; // clear to let GC do its work return oldValue; &#125; 4. åºåˆ—åŒ– â€‹ ArrayList åŸºäºæ•°ç»„å®ç°ï¼Œå¹¶ä¸”å…·æœ‰åŠ¨æ€æ‰©å®¹ç‰¹æ€§ï¼Œå› æ­¤ä¿å­˜å…ƒç´ çš„æ•°ç»„ä¸ä¸€å®šéƒ½ä¼šè¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦å…¨éƒ¨è¿›è¡Œåºåˆ—åŒ–ã€‚ â€‹ ä¿å­˜å…ƒç´ çš„æ•°ç»„ elementData ä½¿ç”¨ transient ä¿®é¥°ï¼Œè¯¥å…³é”®å­—å£°æ˜æ•°ç»„é»˜è®¤ä¸ä¼šè¢«åºåˆ—åŒ–ã€‚ java1transient Object[] elementData; // non-private to simplify nested class access â€‹ ArrayList å®ç°äº† writeObject() å’Œ readObject() æ¥æ§åˆ¶åªåºåˆ—åŒ–æ•°ç»„ä¸­æœ‰å…ƒç´ å¡«å……é‚£éƒ¨åˆ†å†…å®¹ã€‚ java123456789101112131415161718192021222324252627/** * Reconstitute the &lt;tt&gt;ArrayList&lt;/tt&gt; instance from a stream (that is, * deserialize it). ååºåˆ—åŒ– */ private void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException &#123; elementData = EMPTY_ELEMENTDATA; // Read in size, and any hidden stuff s.defaultReadObject(); // Read in capacity s.readInt(); // ignored if (size &gt; 0) &#123; // be like clone(), allocate array based upon size not capacity int capacity = calculateCapacity(elementData, size); SharedSecrets.getJavaOISAccess().checkArray(s, Object[].class, capacity); ensureCapacityInternal(size); Object[] a = elementData; // Read in all elements in the proper order. for (int i=0; i&lt;size; i++) &#123; a[i] = s.readObject(); &#125; &#125; &#125; java123456789101112131415161718192021222324252627/** * Save the state of the &lt;tt&gt;ArrayList&lt;/tt&gt; instance to a stream (that * is, serialize it). åºåˆ—åŒ– * * @serialData The length of the array backing the &lt;tt&gt;ArrayList&lt;/tt&gt; * instance is emitted (int), followed by all of its elements * (each an &lt;tt&gt;Object&lt;/tt&gt;) in the proper order. åªåºåˆ—åŒ–æ•°ç»„ä¸­æœ‰å…ƒç´ å¡«å……é‚£éƒ¨åˆ†å†…å®¹ */ private void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException&#123; // Write out element count, and any hidden stuff int expectedModCount = modCount; s.defaultWriteObject(); // Write out size as capacity for behavioural compatibility with clone() s.writeInt(size); // Write out all elements in the proper order. for (int i=0; i&lt;size; i++) &#123; s.writeObject(elementData[i]); &#125; if (modCount != expectedModCount) &#123; throw new ConcurrentModificationException(); &#125; &#125; â€‹ åºåˆ—åŒ–æ—¶éœ€è¦ä½¿ç”¨ ObjectOutputStream çš„ writeObject() å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµå¹¶è¾“å‡ºã€‚è€Œ writeObject() æ–¹æ³•åœ¨ä¼ å…¥çš„å¯¹è±¡å­˜åœ¨ writeObject() çš„æ—¶å€™ä¼šå»åå°„è°ƒç”¨è¯¥å¯¹è±¡çš„ writeObject() æ¥å®ç°åºåˆ—åŒ–ã€‚ååºåˆ—åŒ–ä½¿ç”¨çš„æ˜¯ ObjectInputStream çš„ readObject() æ–¹æ³•ï¼ŒåŸç†ç±»ä¼¼ã€‚ 5. Fail-Fast â€‹ modCount ç”¨æ¥è®°å½• ArrayList ç»“æ„å‘ç”Ÿå˜åŒ–çš„æ¬¡æ•°ã€‚ â€‹ ç»“æ„å‘ç”Ÿå˜åŒ–æ˜¯æŒ‡æ·»åŠ æˆ–è€…åˆ é™¤è‡³å°‘ä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰æ“ä½œï¼Œæˆ–è€…æ˜¯è°ƒæ•´å†…éƒ¨æ•°ç»„çš„å¤§å°ï¼Œä»…ä»…åªæ˜¯è®¾ç½®å…ƒç´ çš„å€¼ä¸ç®—ç»“æ„å‘ç”Ÿå˜åŒ–ã€‚ â€‹ åœ¨è¿›è¡Œåºåˆ—åŒ–æˆ–è€…è¿­ä»£ç­‰æ“ä½œæ—¶ï¼Œéœ€è¦æ¯”è¾ƒæ“ä½œå‰å modCount æ˜¯å¦æ”¹å˜ï¼Œå¦‚æœæ”¹å˜äº†éœ€è¦æŠ›å‡º ConcurrentModificationExceptionã€‚ä»£ç å‚è€ƒä¸ŠèŠ‚åºåˆ—åŒ–ä¸­çš„ writeObject() æ–¹æ³•ã€‚ â€‹ fail-fast æœºåˆ¶æ˜¯Javaé›†åˆ(Collection)ä¸­çš„ä¸€ç§é”™è¯¯æœºåˆ¶ã€‚å½“å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªé›†åˆçš„å†…å®¹è¿›è¡Œæ“ä½œæ—¶ï¼Œå°±å¯èƒ½ä¼šäº§ç”Ÿfail-fastäº‹ä»¶ã€‚ä¾‹å¦‚ï¼šå½“æŸä¸€ä¸ªçº¿ç¨‹Aé€šè¿‡iteratorå»éå†æŸé›†åˆçš„è¿‡ç¨‹ä¸­ï¼Œè‹¥è¯¥é›†åˆçš„å†…å®¹è¢«å…¶ä»–çº¿ç¨‹æ‰€æ”¹å˜äº†ï¼›é‚£ä¹ˆçº¿ç¨‹Aè®¿é—®é›†åˆæ—¶ï¼Œå°±ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œäº§ç”Ÿfail-fastäº‹ä»¶ã€‚ â€‹ ConcurrentModificationException å¼‚å¸¸ ï¼š å½“æ–¹æ³•æ£€æµ‹åˆ°å¯¹è±¡çš„å¹¶å‘ä¿®æ”¹ï¼Œä½†ä¸å…è®¸è¿™ç§ä¿®æ”¹æ—¶å°±æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å¼‚å¸¸ä¸ä¼šå§‹ç»ˆæŒ‡å‡ºå¯¹è±¡å·²ç»ç”±ä¸åŒçº¿ç¨‹å¹¶å‘ä¿®æ”¹ï¼Œå¦‚æœå•çº¿ç¨‹è¿åäº†è§„åˆ™ï¼ŒåŒæ ·ä¹Ÿæœ‰å¯èƒ½ä¼šæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚ â€‹ è¯šç„¶ï¼Œè¿­ä»£å™¨çš„å¿«é€Ÿå¤±è´¥è¡Œä¸ºæ— æ³•å¾—åˆ°ä¿è¯ï¼Œå®ƒä¸èƒ½ä¿è¯ä¸€å®šä¼šå‡ºç°è¯¥é”™è¯¯ï¼Œä½†æ˜¯å¿«é€Ÿå¤±è´¥æ“ä½œä¼šå°½æœ€å¤§åŠªåŠ›æŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œæ‰€ä»¥å› æ­¤ï¼Œä¸ºæé«˜æ­¤ç±»æ“ä½œçš„æ­£ç¡®æ€§è€Œç¼–å†™ä¸€ä¸ªä¾èµ–äºæ­¤å¼‚å¸¸çš„ç¨‹åºæ˜¯é”™è¯¯çš„åšæ³•ï¼Œæ­£ç¡®åšæ³•æ˜¯ï¼šConcurrentModificationException åº”è¯¥ä»…ç”¨äºæ£€æµ‹ bugã€‚ â€‹ çº¿ç¨‹ç¯å¢ƒä¸‹äº§ç”Ÿè¯¥å¼‚å¸¸çš„åŸå› æ˜¯åœ¨è¿­ä»£å™¨éå†é›†åˆæ—¶ï¼Œä½¿ç”¨äº†é›†åˆæœ¬èº«çš„removeæ–¹æ³•è€Œä¸æ˜¯è¿­ä»£å™¨çš„ï¼› java1234final void checkForComodification() &#123; if (modCount != expectedModCount) throw new ConcurrentModificationException();&#125; â€‹ åœ¨ArrayListè¿›è¡Œaddï¼Œremoveï¼Œclearç­‰æ¶‰åŠåˆ°ä¿®æ”¹é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°çš„æ“ä½œæ—¶ï¼ŒmodCountå°±ä¼šå‘ç”Ÿæ”¹å˜(modCount ++),æ‰€ä»¥å½“å¦ä¸€ä¸ªçº¿ç¨‹(å¹¶å‘ä¿®æ”¹)æˆ–è€…åŒä¸€ä¸ªçº¿ç¨‹éå†è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨ç›¸å…³æ–¹æ³•ä½¿é›†åˆçš„ä¸ªæ•°å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¼šä½¿modCountå‘ç”Ÿå˜åŒ–ï¼Œè¿™æ ·åœ¨checkForComodificationæ–¹æ³•ä¸­å°±ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚ fail-fastä¼šåœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹æŠ›å‡ºConcurrentModificationException ï¼š ï¼ˆ1ï¼‰å•çº¿ç¨‹ç¯å¢ƒ é›†åˆè¢«åˆ›å»ºåï¼Œåœ¨éå†å®ƒçš„è¿‡ç¨‹ä¸­ä¿®æ”¹äº†ç»“æ„ã€‚ æ³¨æ„ remove()æ–¹æ³•ä¼šè®©expectModcountå’Œmodcount ç›¸ç­‰ï¼Œæ‰€ä»¥æ˜¯ä¸ä¼šæŠ›å‡ºè¿™ä¸ªå¼‚å¸¸ã€‚ ï¼ˆ2ï¼‰å¤šçº¿ç¨‹ç¯å¢ƒ å½“ä¸€ä¸ªçº¿ç¨‹åœ¨éå†è¿™ä¸ªé›†åˆï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹å¯¹è¿™ä¸ªé›†åˆçš„ç»“æ„è¿›è¡Œäº†ä¿®æ”¹ã€‚ é—®é¢˜ï¼š fail-fastæœºåˆ¶æ˜¯å¦‚ä½•æ£€æµ‹çš„ï¼Ÿ â€‹ è¿­ä»£å™¨åœ¨éå†è¿‡ç¨‹ä¸­æ˜¯ç›´æ¥è®¿é—®å†…éƒ¨æ•°æ®çš„ï¼Œå› æ­¤å†…éƒ¨çš„æ•°æ®åœ¨éå†çš„è¿‡ç¨‹ä¸­æ— æ³•è¢«ä¿®æ”¹ã€‚ä¸ºäº†ä¿è¯ä¸è¢«ä¿®æ”¹ï¼Œè¿­ä»£å™¨å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªæ ‡è®° â€œmodCountâ€ ï¼Œå½“é›†åˆç»“æ„æ”¹å˜ï¼ˆæ·»åŠ åˆ é™¤æˆ–è€…ä¿®æ”¹ï¼‰ï¼Œæ ‡è®°&quot;modCountâ€œä¼šè¢«ä¿®æ”¹ï¼Œè€Œè¿­ä»£å™¨æ¯æ¬¡çš„hasNext()å’Œnext()æ–¹æ³•éƒ½ä¼šæ£€æŸ¥è¯¥â€modCount&quot;æ˜¯å¦è¢«æ”¹å˜ï¼Œå½“æ£€æµ‹åˆ°è¢«ä¿®æ”¹æ—¶ï¼ŒæŠ›å‡ºConcurrentModificationException å•çº¿ç¨‹æƒ…å†µ java123456789101112131415public static void main(String[] args) &#123; List&lt;String&gt; list = new ArrayList&lt;&gt;(); for (int i = 0 ; i &lt; 10 ; i++ ) &#123; list.add(i + \"\"); &#125; Iterator&lt;String&gt; iterator = list.iterator(); int i = 0 ; while(iterator.hasNext()) &#123; if (i == 3) &#123; list.remove(3); &#125; System.out.println(iterator.next()); i ++; &#125;&#125; ä¸Šè¿°ä»£ç æ˜¯ArrayListå•çº¿ç¨‹ç¯å¢ƒä¸‹çš„fail-fast ï¼Œ è¯¥æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªArraylisté›†åˆï¼Œå¹¶ä½¿ç”¨è¿­ä»£å™¨éå†ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­ï¼Œåˆ»æ„åœ¨æŸä¸€æ­¥è¿­ä»£ä¸­removeä¸€ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿfail-fastã€‚ å¦‚æœå°†ä»¥ä¸Šä»£ç ä¿®æ”¹æˆåœ¨nextä¹‹åè¿›è¡Œè¿­ä»£å™¨çš„removeæ“ä½œï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚ java1234567891011121314151617public static void main(String[] args) &#123; List&lt;String&gt; list = new ArrayList&lt;&gt;(); for (int i = 0 ; i &lt; 10 ; i++ ) &#123; list.add(i + \"\"); &#125; Iterator&lt;String&gt; iterator = list.iterator(); int i = 0 ; while(iterator.hasNext()) &#123; System.out.println(iterator.next()); if (i == 3) &#123; iterator.remove(); // åœ¨nextä¹‹åè¿›è¡Œè¿­ä»£å™¨çš„removeæ“ä½œ &#125; i ++; &#125; System.out.println(list); &#125; è¾“å‡ºï¼š 0 1 2 3 4 5 6 7 8 9 [0, 1, 2, 4, 5, 6, 7, 8, 9] â€‹ æ‰€ä»¥ï¼Œåœ¨å¯¹é›†åˆè¿›è¡Œè¿­ä»£è¿‡ç¨‹ä¸­ï¼Œä¸å…è®¸å‡ºç°è¿­ä»£å™¨ä»¥å¤–çš„å¯¹å…ƒç´ çš„æ“ä½œï¼Œ å› ä¸ºè¿™æ ·ä¼šäº§ç”Ÿå®‰å…¨éšæ‚£ï¼Œjavaä¼šæŠ›å‡ºå¼‚å¸¸å¹¶å‘ä¿®æ”¹å¼‚å¸¸ConcurrentModificationExceptionï¼Œ æ™®é€šè¿­ä»£å™¨åªæ”¯æŒåœ¨è¿­ä»£è¿‡ç¨‹ä¸­çš„åˆ é™¤æ“ä½œã€‚ ç±»ä¼¼çš„ï¼ŒhashMapä¸­å‘ç”Ÿçš„åŸç†ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ HashMapå‘ç”Ÿfail-fast ï¼š java12345678910111213141516public static void main(String[] args) &#123; Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); for (int i = 0 ; i &lt; 10 ; i ++ ) &#123; map.put(i+\"\", i+\"\"); &#125; Iterator&lt;Entry&lt;String, String&gt;&gt; it = map.entrySet().iterator(); int i = 0; while (it.hasNext()) &#123; if (i == 3) &#123; map.remove(3+\"\"); &#125; Entry&lt;String, String&gt; entry = it.next(); System.out.println(\"key= \" + entry.getKey() + \" and value= \" + entry.getValue()); i++; &#125;&#125; è¯¥æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªhashmapå¯¹è±¡å¹¶å­˜æ”¾äº†10ä¸ªé”®å€¼å¯¹ï¼Œåœ¨è¿­ä»£éå†è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨mapçš„removeæ–¹æ³•ç§»é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œå¯¼è‡´æŠ›å‡ºäº†ConcurrentModificationExceptionå¼‚å¸¸ï¼š â€‹ ç±»ä¼¼ï¼Œnextä¹‹åè°ƒç”¨è¿­ä»£å™¨çš„removeå°±å¯ä»¥æˆåŠŸåˆ é™¤ã€‚ å¤šçº¿ç¨‹æƒ…å†µ java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import java.util.ArrayList;import java.util.Iterator;import java.util.List;/** * @author Hongliang Zhu * @create 2020-02-10 12:53 */public class FailFastTest &#123; public static List&lt;String&gt; list = new ArrayList&lt;&gt;(); private static class MyThread1 extends Thread &#123; @Override public void run() &#123; Iterator&lt;String&gt; iterator = list.iterator(); while(iterator.hasNext()) &#123; String s = iterator.next(); System.out.println(this.getName() + \":\" + s); try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; super.run(); &#125; &#125; private static class MyThread2 extends Thread &#123; int i = 0; @Override public void run() &#123; while (i &lt; 10) &#123; System.out.println(\"thread2:\" + i); if (i == 2) &#123; list.remove(i); &#125; try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; i ++; &#125; &#125; &#125; public static void main(String[] args) &#123; for(int i = 0 ; i &lt; 10;i++)&#123; list.add(i+\"\"); &#125; MyThread1 thread1 = new MyThread1(); MyThread2 thread2 = new MyThread2(); thread1.setName(\"thread1\"); thread2.setName(\"thread2\"); thread1.start(); thread2.start(); &#125;&#125; å¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œåˆ†åˆ«å¯¹å…¶ä¸­ä¸€ä¸ªå¯¹listè¿›è¡Œè¿­ä»£ï¼Œå¦ä¸€ä¸ªåœ¨çº¿ç¨‹1çš„è¿­ä»£è¿‡ç¨‹ä¸­å»removeä¸€ä¸ªå…ƒç´ ï¼Œç»“æœä¹Ÿæ˜¯æŠ›å‡ºäº†java.util.ConcurrentModificationException é¿å…fail-fast æ–¹æ³•ä¸€: åœ¨å•çº¿ç¨‹çš„éå†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¦è¿›è¡Œ`remove`æ“ä½œï¼Œå¯ä»¥è°ƒç”¨è¿­ä»£å™¨çš„`remove`æ–¹æ³•è€Œä¸æ˜¯é›†åˆç±»çš„`remove`æ–¹æ³•ã€‚çœ‹çœ‹ArrayListä¸­è¿­ä»£å™¨çš„removeæ–¹æ³•çš„æºç : java1234567891011121314public void remove() &#123; if (lastRet &lt; 0) throw new IllegalStateException(); checkForComodification(); try &#123; ArrayList.this.remove(lastRet); cursor = lastRet; lastRet = -1; expectedModCount = modCount; /// ä¸ä¼šä¿®æ”¹modCountï¼Œè€Œæ˜¯ä»¤å…¶ä½™expectedModCountç›¸ç­‰ &#125; catch (IndexOutOfBoundsException ex) &#123; throw new ConcurrentModificationException(); &#125;&#125; â€‹ å¯ä»¥çœ‹åˆ°ï¼Œè¯¥removeæ–¹æ³•å¹¶ä¸ä¼šä¿®æ”¹modCountçš„å€¼ï¼Œå¹¶ä¸”ä¸ä¼šå¯¹åé¢çš„éå†é€ æˆå½±å“ï¼Œå› ä¸ºè¯¥æ–¹æ³•removeä¸èƒ½æŒ‡å®šå…ƒç´ ï¼Œåªèƒ½removeå½“å‰éå†è¿‡çš„é‚£ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥è°ƒç”¨è¯¥æ–¹æ³•å¹¶ä¸ä¼šå‘ç”Ÿfail-fastç°è±¡ã€‚è¯¥æ–¹æ³•æœ‰å±€é™æ€§ï¼Œå°±æ˜¯ä¸Šé¢è¯´çš„ï¼Œåªèƒ½ä»£ç”¨nextæ–¹æ³•ä¹‹åå†è°ƒç”¨è¿­ä»£å™¨çš„removeæ–¹æ³•ã€‚ æ–¹æ³•äºŒï¼šå®‰å…¨å¤±è´¥ â€‹ ä½¿ç”¨javaå¹¶å‘åŒ…(java.util.concurrent)ä¸­çš„ç±»æ¥ä»£æ›¿ArrayList å’ŒhashMapã€‚ â€‹ æ¯”å¦‚ä½¿ç”¨ CopyOnWriterArrayListä»£æ›¿ArrayListï¼ŒCopyOnWriterArrayListåœ¨æ˜¯ä½¿ç”¨ä¸Šè·ŸArrayListå‡ ä¹ä¸€æ ·ï¼ŒCopyOnWriteræ˜¯å†™æ—¶å¤åˆ¶çš„å®¹å™¨(COW)ï¼Œåœ¨è¯»å†™æ—¶æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¯¥å®¹å™¨åœ¨å¯¹addå’Œremoveç­‰æ“ä½œæ—¶ï¼Œå¹¶ä¸æ˜¯åœ¨åŸæ•°ç»„ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œæ˜¯å°†åŸæ•°ç»„æ‹·è´ä¸€ä»½ï¼Œåœ¨æ–°æ•°ç»„ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¾…å®Œæˆåï¼Œæ‰å°†æŒ‡å‘æ—§æ•°ç»„çš„å¼•ç”¨æŒ‡å‘æ–°æ•°ç»„ï¼Œæ‰€ä»¥å¯¹äºCopyOnWriterArrayListåœ¨è¿­ä»£è¿‡ç¨‹å¹¶ä¸ä¼šå‘ç”Ÿfail-fastç°è±¡ã€‚ä½† CopyOnWriteå®¹å™¨åªèƒ½ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ï¼Œä¸èƒ½ä¿è¯æ•°æ®çš„å®æ—¶ä¸€è‡´æ€§ã€‚ â€‹ å¯¹äºHashMapï¼Œå¯ä»¥ä½¿ç”¨ConcurrentHashMapï¼ŒConcurrentHashMapé‡‡ç”¨äº†é”æœºåˆ¶ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚åœ¨è¿­ä»£æ–¹é¢ï¼ŒConcurrentHashMapä½¿ç”¨äº†ä¸€ç§ä¸åŒçš„è¿­ä»£æ–¹å¼ã€‚åœ¨è¿™ç§è¿­ä»£æ–¹å¼ä¸­ï¼Œå½“iteratorè¢«åˆ›å»ºåé›†åˆå†å‘ç”Ÿæ”¹å˜å°±ä¸å†æ˜¯æŠ›å‡ºConcurrentModificationExceptionï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼šåœ¨æ”¹å˜æ—¶newæ–°çš„æ•°æ®ä»è€Œä¸å½±å“åŸæœ‰çš„æ•°æ® ï¼Œiteratorå®Œæˆåå†å°†å¤´æŒ‡é’ˆæ›¿æ¢ä¸ºæ–°çš„æ•°æ® ï¼Œè¿™æ ·iteratorçº¿ç¨‹å¯ä»¥ä½¿ç”¨åŸæ¥è€çš„æ•°æ®ï¼Œè€Œå†™çº¿ç¨‹ä¹Ÿå¯ä»¥å¹¶å‘çš„å®Œæˆæ”¹å˜ã€‚å³è¿­ä»£ä¸ä¼šå‘ç”Ÿfail-fastï¼Œä½†ä¸ä¿è¯è·å–çš„æ˜¯æœ€æ–°çš„æ•°æ®ã€‚ 6. å®‰å…¨å¤±è´¥ï¼ˆfailâ€”safeï¼‰ å¿«é€Ÿå¤±è´¥ï¼ˆFail-Fastï¼‰çš„åœºæ™¯ï¼š `java.util`åŒ…ä¸‹çš„é›†åˆç±»éƒ½æ˜¯å¿«é€Ÿå¤±è´¥çš„ï¼Œä¸èƒ½åœ¨å¤šçº¿ç¨‹ä¸‹å‘ç”Ÿå¹¶å‘ä¿®æ”¹ï¼ˆè¿­ä»£è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹ï¼‰ã€‚ â€‹ é‡‡ç”¨å®‰å…¨å¤±è´¥æœºåˆ¶çš„é›†åˆå®¹å™¨ï¼Œåœ¨éå†æ—¶ä¸æ˜¯ç›´æ¥åœ¨é›†åˆå†…å®¹ä¸Šè®¿é—®çš„ï¼Œè€Œæ˜¯å…ˆå¤åˆ¶åŸæœ‰é›†åˆå†…å®¹ï¼Œåœ¨æ‹·è´çš„é›†åˆä¸Šè¿›è¡Œéå†ã€‚æ¯”å¦‚ä¸Šé¢è¯´çš„COW **åŸç†ï¼š**ç”±äºè¿­ä»£æ—¶æ˜¯å¯¹åŸé›†åˆçš„æ‹·è´è¿›è¡Œéå†ï¼Œæ‰€ä»¥åœ¨éå†è¿‡ç¨‹ä¸­å¯¹åŸé›†åˆæ‰€ä½œçš„ä¿®æ”¹å¹¶ä¸èƒ½è¢«è¿­ä»£å™¨æ£€æµ‹åˆ°ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘Concurrent Modification Exceptionã€‚ **ç¼ºç‚¹ï¼š**åŸºäºæ‹·è´å†…å®¹çš„ä¼˜ç‚¹æ˜¯é¿å…äº†Concurrent Modification Exceptionï¼Œä½†åŒæ ·åœ°ï¼Œè¿­ä»£å™¨å¹¶ä¸èƒ½è®¿é—®åˆ°ä¿®æ”¹åçš„å†…å®¹ï¼Œå³ï¼šè¿­ä»£å™¨éå†çš„æ˜¯å¼€å§‹éå†é‚£ä¸€åˆ»æ‹¿åˆ°çš„é›†åˆæ‹·è´ï¼Œåœ¨éå†æœŸé—´åŸé›†åˆå‘ç”Ÿçš„ä¿®æ”¹è¿­ä»£å™¨æ˜¯ä¸çŸ¥é“çš„ã€‚ â€‹ åœºæ™¯ï¼šjava.util.concurrentåŒ…ä¸‹çš„å®¹å™¨éƒ½æ˜¯å®‰å…¨å¤±è´¥ï¼Œå¯ä»¥åœ¨å¤šçº¿ç¨‹ä¸‹å¹¶å‘ä½¿ç”¨ï¼Œå¹¶å‘ä¿®æ”¹ã€‚ å¹¶å‘ä¿®æ”¹ ï¼š å½“ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹æ­£åœ¨éå†ä¸€ä¸ªé›†åˆCollectionï¼Œæ­¤æ—¶å¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªé›†åˆçš„å†…å®¹ï¼ˆæ·»åŠ ï¼Œåˆ é™¤æˆ–è€…ä¿®æ”¹ï¼‰ã€‚è¿™å°±æ˜¯å¹¶å‘ä¿®æ”¹ ã€‚ fail-safeæœºåˆ¶æœ‰ä¸¤ä¸ªé—®é¢˜ ï¼ˆ1ï¼‰éœ€è¦å¤åˆ¶é›†åˆï¼Œäº§ç”Ÿå¤§é‡çš„æ— æ•ˆå¯¹è±¡ï¼Œå¼€é”€å¤§ã€‚ ï¼ˆ2ï¼‰æ— æ³•ä¿è¯è¯»å–çš„æ•°æ®æ˜¯ç›®å‰åŸå§‹æ•°æ®ç»“æ„ä¸­çš„æ•°æ®ã€‚ 7. fail-fastå’Œ fail-safe çš„åŒºåˆ« Fail Fast Iterator Fail Safe Iterator Throw ConcurrentModification Exception Yes No Clone object No Yes Memory Overhead No Yes Examples HashMap,Vector,ArrayList,HashSet CopyOnWriteArrayList, ConcurrentHashMap äºŒã€ Vector java123public class Vector&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable ä¹Ÿç»§æ‰¿äº†RandomAccessæ¥å£ï¼Œ å¯ä»¥éšæœºè®¿é—®ã€‚ 1. åŒæ­¥ **å®ƒçš„å®ç°ä¸ ArrayList ç±»ä¼¼ï¼Œä½†æ˜¯ä½¿ç”¨äº† `synchronized` è¿›è¡ŒåŒæ­¥ã€‚** java12345678910111213public synchronized boolean add(E e) &#123; modCount++; ensureCapacityHelper(elementCount + 1); elementData[elementCount++] = e; return true;&#125;public synchronized E get(int index) &#123; if (index &gt;= elementCount) throw new ArrayIndexOutOfBoundsException(index); return elementData(index);&#125; 2 . æ‰©å®¹ â€‹ Vector çš„æ„é€ å‡½æ•°å¯ä»¥ä¼ å…¥ capacityIncrement å‚æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨æ‰©å®¹æ—¶ä½¿å®¹é‡ capacity å¢é•¿ capacityIncrementã€‚å¦‚æœè¿™ä¸ªå‚æ•°çš„å€¼å°äºç­‰äº 0ï¼Œæ‰©å®¹æ—¶æ¯æ¬¡éƒ½ä»¤ capacity ä¸ºåŸæ¥çš„ä¸¤å€ã€‚ java1234567891011121314151617/** * Constructs an empty vector with the specified initial capacity and * capacity increment. æ„é€ å‡½æ•° * * @param initialCapacity æ•°ç»„çš„åˆå§‹å®¹é‡ * @param capacityIncrement æ‰©å®¹æ—¶ä½¿å®¹é‡ `capacity` å¢é•¿ `capacityIncrement` * @throws IllegalArgumentException if the specified initial capacity * is negative */ public Vector(int initialCapacity, int capacityIncrement) &#123; super(); if (initialCapacity &lt; 0) throw new IllegalArgumentException(\"Illegal Capacity: \"+ initialCapacity); this.elementData = new Object[initialCapacity]; this.capacityIncrement = capacityIncrement; &#125; java123456789101112private void grow(int minCapacity) &#123; // overflow-conscious code int oldCapacity = elementData.length; // å¦‚æœè¿™ä¸ªå‚æ•°çš„å€¼å°äºç­‰äº 0ï¼Œæ‰©å®¹æ—¶æ¯æ¬¡éƒ½ä»¤ capacity ä¸ºåŸæ¥çš„ä¸¤å€ã€‚ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); elementData = Arrays.copyOf(elementData, newCapacity); &#125; â€‹ è°ƒç”¨æ²¡æœ‰ capacityIncrement çš„æ„é€ å‡½æ•°æ—¶ï¼ŒcapacityIncrement å€¼è¢«è®¾ç½®ä¸º 0ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤æƒ…å†µä¸‹ Vector æ¯æ¬¡æ‰©å®¹æ—¶å®¹é‡éƒ½ä¼šç¿»å€ã€‚ java1234567public Vector(int initialCapacity) &#123; this(initialCapacity, 0);&#125;public Vector() &#123; this(10);&#125; 3. ä¸ArrayListçš„æ¯”è¾ƒ Vector æ˜¯åŒæ­¥çš„ï¼Œå› æ­¤å¼€é”€å°±æ¯” ArrayList è¦å¤§ï¼Œè®¿é—®é€Ÿåº¦æ›´æ…¢ã€‚æœ€å¥½ä½¿ç”¨ ArrayList è€Œä¸æ˜¯ Vectorï¼Œå› ä¸ºåŒæ­¥æ“ä½œå®Œå…¨å¯ä»¥ç”±ç¨‹åºå‘˜è‡ªå·±æ¥æ§åˆ¶ï¼› Vector æ¯æ¬¡æ‰©å®¹è¯·æ±‚å…¶å¤§å°çš„ 2 å€ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°è®¾ç½®å¢é•¿çš„å®¹é‡ï¼‰ï¼Œè€Œ ArrayList æ˜¯ 1.5 å€ã€‚ 4. æ›¿ä»£æ–¹æ¡ˆ å¯ä»¥ä½¿ç”¨ Collections.synchronizedList(); å¾—åˆ°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ ArrayListã€‚ Code12List&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();List&lt;String&gt; synList &#x3D; Collections.synchronizedList(list); Code1234567891011public static &lt;T&gt; List&lt;T&gt; synchronizedList(List&lt;T&gt; list) &#123; return (list instanceof RandomAccess ? new SynchronizedRandomAccessList&lt;&gt;(list) : new SynchronizedList&lt;&gt;(list)); &#125; static &lt;T&gt; List&lt;T&gt; synchronizedList(List&lt;T&gt; list, Object mutex) &#123; return (list instanceof RandomAccess ? new SynchronizedRandomAccessList&lt;&gt;(list, mutex) : new SynchronizedList&lt;&gt;(list, mutex)); &#125; ä¹Ÿå¯ä»¥ä½¿ç”¨ concurrent å¹¶å‘åŒ…ä¸‹çš„ CopyOnWriteArrayList ç±»ã€‚ java1List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;(); ä¸‰ã€ CopyOnWriteArrayList 1. è¯»å†™åˆ†ç¦» å†™æ“ä½œåœ¨ä¸€ä¸ªå¤åˆ¶çš„æ•°ç»„ä¸Šè¿›è¡Œï¼Œè¯»æ“ä½œè¿˜æ˜¯åœ¨åŸå§‹æ•°ç»„ä¸­è¿›è¡Œï¼Œè¯»å†™åˆ†ç¦»ï¼Œäº’ä¸å½±å“ã€‚ å†™æ“ä½œéœ€è¦åŠ é”ï¼Œé˜²æ­¢å¹¶å‘å†™å…¥æ—¶å¯¼è‡´å†™å…¥æ•°æ®ä¸¢å¤±ã€‚ å†™æ“ä½œç»“æŸä¹‹åéœ€è¦æŠŠåŸå§‹æ•°ç»„æŒ‡å‘æ–°çš„å¤åˆ¶æ•°ç»„ã€‚ java1234567891011121314151617181920212223242526272829/** * Appends the specified element to the end of this list. * æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼š å†™æ“ä½œ * @param e element to be appended to this list * @return &#123;@code true&#125; (as specified by &#123;@link Collection#add&#125;) */ public boolean add(E e) &#123; final ReentrantLock lock = this.lock; lock.lock(); // åŠ é” try &#123; Object[] elements = getArray(); int len = elements.length; Object[] newElements = Arrays.copyOf(elements, len + 1); // å¤åˆ¶æ•°ç»„ newElements[len] = e; setArray(newElements); // å†™æ“ä½œç»“æŸä¹‹åéœ€è¦æŠŠåŸå§‹æ•°ç»„æŒ‡å‘æ–°çš„å¤åˆ¶æ•°ç»„ã€‚ return true; &#125; finally &#123; lock.unlock(); // å»é”æ“ä½œ &#125; &#125;final void setArray(Object[] a) &#123; array = a;&#125;@SuppressWarnings(\"unchecked\")private E get(Object[] a, int index) &#123; return (E) a[index];&#125; 2. é€‚ç”¨åœºæ™¯ â€‹ CopyOnWriteArrayList åœ¨å†™æ“ä½œçš„åŒæ—¶å…è®¸è¯»æ“ä½œï¼Œå¤§å¤§æé«˜äº†è¯»æ“ä½œçš„æ€§èƒ½ï¼Œå› æ­¤å¾ˆé€‚åˆè¯»å¤šå†™å°‘çš„åº”ç”¨åœºæ™¯ã€‚ â€‹ ä½†æ˜¯ CopyOnWriteArrayList æœ‰å…¶ç¼ºé™·ï¼š å†…å­˜å ç”¨ï¼šåœ¨å†™æ“ä½œæ—¶éœ€è¦å¤åˆ¶ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä½¿å¾—å†…å­˜å ç”¨ä¸ºåŸæ¥çš„ä¸¤å€å·¦å³ï¼› æ•°æ®ä¸ä¸€è‡´ï¼šè¯»æ“ä½œä¸èƒ½è¯»å–å®æ—¶æ€§çš„æ•°æ®ï¼Œå› ä¸ºéƒ¨åˆ†å†™æ“ä½œçš„æ•°æ®è¿˜æœªåŒæ­¥åˆ°è¯»æ•°ç»„ä¸­ã€‚ æ‰€ä»¥ CopyOnWriteArrayList ä¸é€‚åˆå†…å­˜æ•æ„Ÿä»¥åŠå¯¹å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„åœºæ™¯ã€‚ å››ã€ Collections ä¸ Arrays é›†åˆæ¡†æ¶ä¸­çš„å·¥å…·ç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯é™æ€çš„ Collectionä¸­çš„å¸¸è§æ–¹æ³•ï¼š å¯¹Listè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼š int binarySearch(list, key) â€‹ int binarySearch(list, key, Comparator) â€‹ äºŒåˆ†æŸ¥æ‰¾éœ€è¦åˆ—è¡¨æœ‰åº å¯¹listé›†åˆè¿›è¡Œæ’åº sort(list): å…¶å®æ˜¯ä½¿ç”¨listå®¹å™¨ä¸­å¯¹è±¡çš„CompareToæ–¹æ³• sort(list, comparator) //æŒ‰ç…§æŒ‡å®šæ¯”è¾ƒå™¨è¿›è¡Œæ’åº å¯¹é›†åˆå–æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ â€‹ maxï¼ˆcollectionï¼‰ minï¼ˆcollectionï¼‰ å¯¹é›†åˆè¿›è¡Œåè½¬ â€‹ reverse(list) å¯¹æ¯”è¾ƒæ–¹å¼å¼ºè¡Œé€†è½¬ â€‹ Comparator reverseOrder(); â€‹ Comparator reverseOrder(Comparator); å¯¹listä¸­çš„å…ƒç´ çš„ä½ç½®è¿›è¡Œæ›¿æ¢ â€‹ swap(list, x, y); å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ›¿æ¢ï¼Œ å¦‚æœè¢«æ›¿æ¢çš„å…ƒç´ ä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆåŸæ¥çš„é›†åˆä¸å˜ â€‹ replaceAll(list, old, new); å°†é›†åˆå˜æˆæ•°ç»„ â€‹ Collection.toArray() ã€collectionä¸æ˜¯Collectionså·¥å…·ç±»ã€‘ Arraysï¼š ç”¨äºå¯¹æ•°ç»„æ“ä½œçš„å·¥å…·ç±»: Arrays.æ–¹æ³•() äºŒåˆ†æŸ¥æ‰¾ï¼Œ éœ€è¦æ•°ç»„æœ‰åº binarySearch(int []) æ•°ç»„æ’åº sort(int []) å°†æ•°ç»„å˜æˆå­—ç¬¦ä¸² toString(int []) å¤åˆ¶æ•°ç»„ â€‹ copyOf() å¤åˆ¶éƒ¨åˆ†æ•°ç»„ copyOfRange() æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸åŒ equals(int [], int []) å°†æ•°ç»„å˜æˆé›†åˆï¼š List asList(T []) è¿™æ ·å¯ä»¥é€šè¿‡ç»“åˆçš„æ“ä½œæ¥æ“ä½œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œä½†æ˜¯ä¸å¯ä»¥æ­»ä½¿ç”¨å¢åˆ æ–¹æ³•ï¼Œ addï¼Œ removeï¼Œå› ä¸ºæ•°ç»„çš„é•¿åº¦å›ºå®šï¼Œä¼šå‡ºç°UnsupportOperationException. äº”ã€ LinkedList 1. æ¦‚è§ˆ â€‹ åŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œä½¿ç”¨ Node å­˜å‚¨é“¾è¡¨èŠ‚ç‚¹ä¿¡æ¯ã€‚ java123456789101112131415161718192021222324252627public class LinkedList&lt;E&gt; extends AbstractSequentialList&lt;E&gt; implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable&#123; transient int size = 0; /** * Pointer to first node. * Invariant: (first == null &amp;&amp; last == null) || * (first.prev == null &amp;&amp; first.item != null) */ transient Node&lt;E&gt; first; /** * Pointer to last node. * Invariant: (first == null &amp;&amp; last == null) || * (last.next == null &amp;&amp; last.item != null) */ transient Node&lt;E&gt; last; /** * Constructs an empty list. */ public LinkedList() &#123; &#125; ...&#125; æ¯ä¸ªé“¾è¡¨å­˜å‚¨äº†firstå’ŒlastæŒ‡é’ˆï¼Œç”¨Nodeæ¥ä¿å­˜é“¾è¡¨èŠ‚ç‚¹ä¿¡æ¯ java1234567891011private static class Node&lt;E&gt; &#123; E item; Node&lt;E&gt; next; Node&lt;E&gt; prev; Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123; this.item = element; this.next = next; this.prev = prev; &#125; &#125; 2.ä¸ArrayListçš„æ¯”è¾ƒ â€‹ ArrayList åŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼ŒLinkedList åŸºäºåŒå‘é“¾è¡¨å®ç°ã€‚ArrayList å’Œ LinkedList çš„åŒºåˆ«å¯ä»¥å½’ç»“ä¸ºæ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ï¼š æ•°ç»„æ”¯æŒéšæœºè®¿é—®ï¼Œä½†æ’å…¥åˆ é™¤çš„ä»£ä»·å¾ˆé«˜ï¼Œéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ï¼› é“¾è¡¨ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œä½†æ’å…¥åˆ é™¤åªéœ€è¦æ”¹å˜æŒ‡é’ˆã€‚ å…­ã€ HashMap ä¸ºäº†ä¾¿äºç†è§£ï¼Œä»¥ä¸‹æºç åˆ†æä»¥ JDK 1.7 ä¸ºä¸»ã€‚ 1. å­˜å‚¨ç»“æ„ å†…éƒ¨åŒ…å«äº†ä¸€ä¸ª Entry ç±»å‹çš„æ•°ç»„ tableã€‚Entry å­˜å‚¨ç€é”®å€¼å¯¹ã€‚å®ƒåŒ…å«äº†å››ä¸ªå­—æ®µï¼Œä» next å­—æ®µæˆ‘ä»¬å¯ä»¥çœ‹å‡º Entry æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚å³æ•°ç»„ä¸­çš„æ¯ä¸ªä½ç½®è¢«å½“æˆä¸€ä¸ªæ¡¶ï¼Œä¸€ä¸ªæ¡¶å­˜æ”¾ä¸€ä¸ªé“¾è¡¨ã€‚HashMap ä½¿ç”¨æ‹‰é“¾æ³•æ¥è§£å†³å†²çªï¼ŒåŒä¸€ä¸ªé“¾è¡¨ä¸­å­˜æ”¾å“ˆå¸Œå€¼å’Œæ•£åˆ—æ¡¶å–æ¨¡è¿ç®—ç»“æœç›¸åŒçš„ Entryã€‚ ä»¥ä¸‹æºç åŸºäºJDK1.7 java1transient Entry[] table; java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950static class Entry&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123; final K key; V value; Entry&lt;K,V&gt; next; int hash; Entry(int h, K k, V v, Entry&lt;K,V&gt; n) &#123; value = v; next = n; key = k; hash = h; &#125; public final K getKey() &#123; return key; &#125; public final V getValue() &#123; return value; &#125; public final V setValue(V newValue) &#123; V oldValue = value; value = newValue; return oldValue; &#125; public final boolean equals(Object o) &#123; if (!(o instanceof Map.Entry)) return false; Map.Entry e = (Map.Entry)o; Object k1 = getKey(); Object k2 = e.getKey(); if (k1 == k2 || (k1 != null &amp;&amp; k1.equals(k2))) &#123; Object v1 = getValue(); Object v2 = e.getValue(); if (v1 == v2 || (v1 != null &amp;&amp; v1.equals(v2))) return true; &#125; return false; &#125; public final int hashCode() &#123; return Objects.hashCode(getKey()) ^ Objects.hashCode(getValue()); &#125; public final String toString() &#123; return getKey() + \"=\" + getValue(); &#125;&#125; â€‹ HashMapä¸­ä¸¤ä¸ªå‚æ•°ä¼šå½±å“ä»–çš„æ€§èƒ½ï¼šåˆå§‹å®¹é‡å’Œè£…è½½å› å­ã€‚åˆå§‹å®¹é‡æ˜¯æŒ‡å“ˆå¸Œè¡¨ä¸­æ¡¶çš„ä¸ªæ•°ï¼Œå³å“ˆå¸Œè¡¨çš„å¤§å°ï¼› è£…è½½å› å­æ˜¯è¡¨ç¤ºhashè¡¨ä¸­å…ƒç´ çš„å¡«æ»¡çš„ç¨‹åº¦ï¼Œè£… è½½å› å­è¶Šå¤§ï¼Œå¡«æ»¡çš„å…ƒç´ è¶Šå¤šï¼Œå¥½å¤„æ˜¯ï¼Œç©ºé—´åˆ©ç”¨ç‡é«˜äº†ï¼Œä½†å†²çªçš„æœºä¼šåŠ å¤§äº†ï¼›åä¹‹ï¼ŒåŠ è½½å› å­è¶Šå°ï¼Œå¡«æ»¡çš„å…ƒç´ è¶Šå°‘ï¼Œå¥½å¤„æ˜¯å†²çªçš„æœºä¼šå‡å°äº†ï¼Œä½†ç©ºé—´æµªè´¹å¤šäº†ã€‚ â€‹ å†²çªçš„æœºä¼šè¶Šå¤§ï¼Œåˆ™æŸ¥æ‰¾çš„æˆæœ¬è¶Šé«˜ã€‚åä¹‹ï¼ŒæŸ¥æ‰¾çš„æˆæœ¬è¶Šå°ï¼ŒæŸ¥æ‰¾æ—¶é—´å°±è¶Šå°ã€‚ å› æ­¤ï¼Œå¿…é¡»åœ¨ &quot;å†²çªçš„æœºä¼š&quot;ä¸&quot;ç©ºé—´åˆ©ç”¨ç‡&quot;ä¹‹é—´å¯»æ‰¾ä¸€ç§å¹³è¡¡ä¸æŠ˜è¡·ï¼Œè¿™ç§å¹³è¡¡ä¸æŠ˜è¡·æœ¬è´¨ä¸Šæ˜¯æ•°æ®ç»“æ„ä¸­æœ‰åçš„**&quot;æ—¶-ç©º&quot;çŸ›ç›¾**çš„å¹³è¡¡ä¸æŠ˜è¡·ã€‚ â€‹ HashMapé»˜è®¤çš„è£…è½½å› å­æ˜¯0.75ï¼Œæœ€å¤§å®¹é‡æ˜¯16ï¼Œå› æ­¤å¯ä»¥å¾—å‡ºHashMapçš„é»˜è®¤å®¹é‡æ˜¯ï¼š0.75*16=12ã€‚ ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æœ€å¤§å®¹é‡å’Œè£…è½½å› å­ã€‚ â€‹ HashMap åŒ…å«å¦‚ä¸‹å‡ ä¸ªæ„é€ å™¨ï¼š HashMap()ï¼šæ„å»ºä¸€ä¸ªåˆå§‹å®¹é‡ä¸º 16ï¼Œè´Ÿè½½å› å­ä¸º 0.75 çš„ HashMapã€‚ HashMap(int initialCapacity)ï¼šæ„å»ºä¸€ä¸ªåˆå§‹å®¹é‡ä¸º initialCapacityï¼Œè´Ÿè½½å› å­ä¸º 0.75 çš„ HashMapã€‚ HashMap(int initialCapacity, float loadFactor)ï¼šä»¥æŒ‡å®šåˆå§‹å®¹é‡ã€æŒ‡å®šçš„è´Ÿè½½å› å­åˆ›å»ºä¸€ä¸ª HashMapã€‚ 2. æ‹‰é“¾æ³•å·¥ä½œåŸç† java1234HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();map.put(\"K1\", \"V1\");map.put(\"K2\", \"V2\");map.put(\"K3\", \"V3\"); æ–°å»ºä¸€ä¸ª HashMapï¼Œé»˜è®¤å¤§å°ä¸º 16ï¼› æ’å…¥ &lt;K1,V1&gt; é”®å€¼å¯¹ï¼Œå…ˆè®¡ç®— K1 çš„ hashCode ä¸º 115ï¼Œä½¿ç”¨é™¤ç•™ä½™æ•°æ³•å¾—åˆ°æ‰€åœ¨çš„æ¡¶ä¸‹æ ‡ 115%16=3ã€‚ æ’å…¥ &lt;K2,V2&gt; é”®å€¼å¯¹ï¼Œå…ˆè®¡ç®— K2 çš„ hashCode ä¸º 118ï¼Œä½¿ç”¨é™¤ç•™ä½™æ•°æ³•å¾—åˆ°æ‰€åœ¨çš„æ¡¶ä¸‹æ ‡ 118%16=6ã€‚ æ’å…¥ &lt;K3,V3&gt; é”®å€¼å¯¹ï¼Œå…ˆè®¡ç®— K3 çš„ hashCode ä¸º 118ï¼Œä½¿ç”¨é™¤ç•™ä½™æ•°æ³•å¾—åˆ°æ‰€åœ¨çš„æ¡¶ä¸‹æ ‡ 118%16=6ï¼Œæ’åœ¨ &lt;K2,V2&gt; å‰é¢ã€‚ â€‹ åº”è¯¥æ³¨æ„åˆ°é“¾è¡¨çš„æ’å…¥æ˜¯ä»¥å¤´æ’æ³•æ–¹å¼è¿›è¡Œçš„ï¼Œä¾‹å¦‚ä¸Šé¢çš„ &lt;K3,V3&gt; ä¸æ˜¯æ’åœ¨ &lt;K2,V2&gt; åé¢ï¼Œè€Œæ˜¯æ’å…¥åœ¨é“¾è¡¨å¤´éƒ¨ã€‚æŸ¥æ‰¾éœ€è¦åˆ†æˆä¸¤æ­¥è¿›è¡Œï¼š è®¡ç®—é”®å€¼å¯¹æ‰€åœ¨çš„æ¡¶ï¼› åœ¨é“¾è¡¨ä¸Šé¡ºåºæŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¾ç„¶å’Œé“¾è¡¨çš„é•¿åº¦æˆæ­£æ¯”ã€‚ â€‹ 3. putæ“ä½œ java1234567891011121314151617181920212223242526public V put(K key, V value) &#123; if (table == EMPTY_TABLE) &#123; inflateTable(threshold); &#125; // é”®ä¸º null å•ç‹¬å¤„ç† if (key == null) return putForNullKey(value); int hash = hash(key); // ç¡®å®šæ¡¶ä¸‹æ ‡ int i = indexFor(hash, table.length); // å…ˆæ‰¾å‡ºæ˜¯å¦å·²ç»å­˜åœ¨é”®ä¸º key çš„é”®å€¼å¯¹ï¼Œå¦‚æœå­˜åœ¨çš„è¯å°±æ›´æ–°è¿™ä¸ªé”®å€¼å¯¹çš„å€¼ä¸º value for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) &#123; Object k; if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123; V oldValue = e.value; e.value = value; e.recordAccess(this); return oldValue; &#125; &#125; modCount++; // æ’å…¥æ–°é”®å€¼å¯¹ addEntry(hash, key, value, i); return null;&#125; HashMap å…è®¸æ’å…¥é”®ä¸º null çš„é”®å€¼å¯¹ã€‚ä½†æ˜¯å› ä¸ºæ— æ³•è°ƒç”¨ null çš„ hashCode() æ–¹æ³•ï¼Œä¹Ÿå°±æ— æ³•ç¡®å®šè¯¥é”®å€¼å¯¹çš„æ¡¶ä¸‹æ ‡ï¼Œåªèƒ½é€šè¿‡å¼ºåˆ¶æŒ‡å®šä¸€ä¸ªæ¡¶ä¸‹æ ‡æ¥å­˜æ”¾ã€‚HashMap ä½¿ç”¨ç¬¬ 0 ä¸ªæ¡¶å­˜æ”¾é”®ä¸º null çš„é”®å€¼å¯¹ã€‚ java12345678910111213private V putForNullKey(V value) &#123; for (Entry&lt;K,V&gt; e = table[0]; e != null; e = e.next) &#123; if (e.key == null) &#123; V oldValue = e.value; e.value = value; e.recordAccess(this); return oldValue; &#125; &#125; modCount++; addEntry(0, null, value, 0); return null;&#125; â€‹ ä½¿ç”¨é“¾è¡¨çš„å¤´æ’æ³•ï¼Œä¹Ÿå°±æ˜¯æ–°çš„é”®å€¼å¯¹æ’åœ¨é“¾è¡¨çš„å¤´éƒ¨ï¼Œè€Œä¸æ˜¯é“¾è¡¨çš„å°¾éƒ¨ã€‚ java12345678910111213141516void addEntry(int hash, K key, V value, int bucketIndex) &#123; if ((size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])) &#123; resize(2 * table.length); hash = (null != key) ? hash(key) : 0; bucketIndex = indexFor(hash, table.length); &#125; createEntry(hash, key, value, bucketIndex);&#125;void createEntry(int hash, K key, V value, int bucketIndex) &#123; Entry&lt;K,V&gt; e = table[bucketIndex]; // å¤´æ’æ³•ï¼Œé“¾è¡¨å¤´éƒ¨æŒ‡å‘æ–°çš„é”®å€¼å¯¹ table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e); size++;&#125; Code123456Entry(int h, K k, V v, Entry&lt;K,V&gt; n) &#123; value &#x3D; v; next &#x3D; n; key &#x3D; k; hash &#x3D; h;&#125; åœ¨JDK1.8ä¸­çš„putæ“ä½œï¼š æ€è·¯å¦‚ä¸‹ï¼š 1.table[]æ˜¯å¦ä¸ºç©º 2.åˆ¤æ–­table[i]å¤„æ˜¯å¦æ’å…¥è¿‡å€¼ 3.åˆ¤æ–­é“¾è¡¨é•¿åº¦æ˜¯å¦å¤§äº8ï¼Œå¦‚æœå¤§äºå°±è½¬æ¢ä¸ºçº¢é»‘äºŒå‰æ ‘ï¼Œå¹¶æ’å…¥æ ‘ä¸­ 4.åˆ¤æ–­keyæ˜¯å¦å’ŒåŸæœ‰keyç›¸åŒï¼Œå¦‚æœç›¸åŒå°±è¦†ç›–åŸæœ‰keyçš„valueï¼Œå¹¶è¿”å›åŸæœ‰value 5.å¦‚æœkeyä¸ç›¸åŒï¼Œå°±æ’å…¥ä¸€ä¸ªkeyï¼Œè®°å½•ç»“æ„å˜åŒ–ä¸€æ¬¡ java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * Implements Map.put and related methods * * @param hash hash for key * @param key the key * @param value the value to put * @param onlyIfAbsent if true, don't change existing value * @param evict if false, the table is in creation mode. * @return previous value, or null if none */ final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; //åˆ¤æ–­tableæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœæ˜¯ç©ºçš„å°±åˆ›å»ºä¸€ä¸ªtableï¼Œå¹¶è·å–ä»–çš„é•¿åº¦ if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; //å¦‚æœè®¡ç®—å‡ºæ¥çš„ç´¢å¼•ä½ç½®ä¹‹å‰æ²¡æœ‰æ”¾è¿‡æ•°æ®ï¼Œå°±ç›´æ¥æ”¾å…¥ if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); else &#123; //è¿›å…¥è¿™é‡Œè¯´æ˜ç´¢å¼•ä½ç½®å·²ç»æ”¾å…¥è¿‡æ•°æ®äº† Node&lt;K,V&gt; e; K k; //åˆ¤æ–­putçš„æ•°æ®å’Œä¹‹å‰çš„æ•°æ®æ˜¯å¦é‡å¤ //keyçš„åœ°å€æˆ–keyçš„equals()åªè¦æœ‰ä¸€ä¸ªç›¸ç­‰å°±è®¤ä¸ºkeyé‡å¤äº†ï¼Œå°±ç›´æ¥è¦†ç›–åŸæ¥keyçš„value if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; else if (p instanceof TreeNode) //åˆ¤æ–­æ˜¯å¦æ˜¯çº¢é»‘æ ‘ï¼Œå¦‚æœæ˜¯çº¢é»‘æ ‘å°±ç›´æ¥æ’å…¥æ ‘ä¸­ e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); else &#123; //å¦‚æœä¸æ˜¯çº¢é»‘æ ‘ï¼Œå°±éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œåˆ¤æ–­é“¾è¡¨é•¿åº¦æ˜¯å¦å¤§äº8ï¼Œå¦‚æœå¤§äºå°±è½¬æ¢ä¸ºçº¢é»‘æ ‘ for (int binCount = 0; ; ++binCount) &#123; if ((e = p.next) == null) &#123; p.next = newNode(hash, key, value, null); if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); // è½¬æ¢ä¸ºçº¢é»‘æ ‘ break; &#125; // åˆ¤æ–­ç´¢å¼•æ¯ä¸ªå…ƒç´ çš„keyæ˜¯å¦å¯è¦æ’å…¥çš„keyç›¸åŒï¼Œå¦‚æœç›¸åŒå°±ç›´æ¥è¦†ç›– if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; &#125; &#125; //å¦‚æœeä¸æ˜¯nullï¼Œè¯´æ˜æ²¡æœ‰è¿­ä»£åˆ°æœ€åå°±è·³å‡ºäº†å¾ªç¯ï¼Œè¯´æ˜é“¾è¡¨ä¸­æœ‰ç›¸åŒçš„keyï¼Œå› æ­¤åªéœ€è¦å°†valueè¦†ç›–ï¼Œå¹¶å°†oldValueè¿”å›å³å¯ if (e != null) &#123; // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; &#125; &#125; //è¯´æ˜æ²¡æœ‰keyç›¸åŒï¼Œå› æ­¤è¦æ’å…¥ä¸€ä¸ªkey-valueï¼Œå¹¶è®°å½•å†…éƒ¨ç»“æ„å˜åŒ–æ¬¡æ•° ++modCount; if (++size &gt; threshold) // æ‰©å®¹ resize(); afterNodeInsertion(evict); // è¿™ä¸ªæ˜¯ç»™LinkedHashMapç”¨çš„ï¼ŒHashMapé‡Œä¹Ÿæ˜¯ä¸ªç©ºå®ç° return null; // æ·»åŠ æˆåŠŸè¿”å›null &#125; getæ–¹æ³• java12345678910111213141516171819202122232425262728293031public V get(Object key) &#123; Node&lt;K,V&gt; e; return (e = getNode(hash(key), key)) == null ? null : e.value; &#125; /** * Implements Map.get and related methods * * @param hash hash for key * @param key the key * @return the node, or null if none */ final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) return first; if ((e = first.next) != null) &#123; if (first instanceof TreeNode) return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); do &#123; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; &#125; while ((e = e.next) != null); &#125; &#125; return null; &#125; 4. ç¡®å®šæ¡¶ä¸‹æ ‡ å¾ˆå¤šæ“ä½œéƒ½éœ€è¦å…ˆç¡®å®šä¸€ä¸ªé”®å€¼å¯¹æ‰€åœ¨çš„æ¡¶ä¸‹æ ‡ã€‚ java12int hash = hash(key);int i = indexFor(hash, table.length); 4.1 è®¡ç®— hash å€¼ï¼ˆ1.7ï¼‰ java1234567891011121314final int hash(Object k) &#123; int h = hashSeed; if (0 != h &amp;&amp; k instanceof String) &#123; return sun.misc.Hashing.stringHash32((String) k); &#125; h ^= k.hashCode(); // This function ensures that hashCodes that differ only by // constant multiples at each bit position have a bounded // number of collisions (approximately 8 at default load factor). h ^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12); return h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);&#125; java123public final int hashCode() &#123; return Objects.hashCode(key) ^ Objects.hashCode(value);&#125; 4.2 å–æ¨¡ ä»¤ x = 1&lt;&lt;4ï¼Œå³ x ä¸º 2 çš„ 4 æ¬¡æ–¹ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š c12x : 00010000x-1 : 00001111 ä»¤ä¸€ä¸ªæ•° y ä¸ x-1 åšä¸è¿ç®—ï¼Œå¯ä»¥å»é™¤ y ä½çº§è¡¨ç¤ºçš„ç¬¬ 4 ä½ä»¥ä¸Šæ•°ï¼š java123y : 10110010x-1 : 00001111y&amp;(x-1) : 00000010 è¿™ä¸ªæ€§è´¨å’Œ y å¯¹ x å–æ¨¡æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼š java123y : 10110010x : 00010000y%x : 00000010 æˆ‘ä»¬çŸ¥é“ï¼Œä½è¿ç®—çš„ä»£ä»·æ¯”æ±‚æ¨¡è¿ç®—å°çš„å¤šï¼Œå› æ­¤åœ¨è¿›è¡Œè¿™ç§è®¡ç®—æ—¶ç”¨ä½è¿ç®—çš„è¯èƒ½å¸¦æ¥æ›´é«˜çš„æ€§èƒ½ã€‚ ç¡®å®šæ¡¶ä¸‹æ ‡çš„æœ€åä¸€æ­¥æ˜¯å°† key çš„ hash å€¼å¯¹æ¡¶ä¸ªæ•°å–æ¨¡ï¼šhash%capacityï¼Œå¦‚æœèƒ½ä¿è¯ capacity ä¸º 2 çš„ n æ¬¡æ–¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†è¿™ä¸ªæ“ä½œè½¬æ¢ä¸ºä½è¿ç®—ã€‚ java123static int indexFor(int h, int length) &#123; return h &amp; (length-1);&#125; 4.4 åœ¨JDK1.8ä¸­çš„hashæ–¹æ³• hash()æ–¹æ³•å…¶å®é¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥è·å–keyçš„hashçš„ä¸€ä¸ªhashå€¼çš„,ä½†æ˜¯HashMapé‡Œçš„hash()æ–¹æ³•ä¼¼ä¹ä¸ä¸€èˆ¬çš„ç›´æ¥key.hashCode()ä¸å¤ªä¸€æ ·ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ç¥å¥‡æ“ä½œã€‚ å…¶æºç å¦‚ä¸‹: java12345static final int hash(Object key) &#123; int h; // keyæ˜¯nullå°±è¿”å›0ï¼Œkeyä¸æ˜¯nullå°±å…ˆå–hashCodeï¼ˆï¼‰ç„¶åä¸è¿™ä¸ªhashCodeï¼ˆï¼‰æ— ç¬¦å·å³ç§»è¿›è¡Œäº¦æˆ–è¿ç®— return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16); // å°†hashCodeçš„å€¼å¼‚æˆ–ä»–çš„é«˜16ä½è·å–åˆ°hashå€¼&#125; â€‹ è¿™æ˜¯å› ä¸ºæ‰¾keyçš„ä½ç½®æ—¶ï¼Œ(n - 1) &amp; hashæ˜¯tableçš„ç´¢å¼•ï¼Œnçš„é•¿åº¦ä¸å¤Ÿå¤§æ—¶ï¼Œåªå’ŒhashCode()çš„ä½16ä½æœ‰å…³ï¼Œè¿™æ ·å‘ç”Ÿå†²çªçš„æ¦‚ç‡å°±å˜é«˜ â€‹ ä¸ºå‡å°‘è¿™ç§å½±å“ï¼Œè®¾è®¡è€…æƒè¡¡äº†speed, utility, and qualityï¼Œå°†é«˜16ä½ä¸ä½16ä½å¼‚æˆ–æ¥å‡å°‘è¿™ç§å½±å“ã€‚è®¾è®¡è€…è€ƒè™‘åˆ°ç°åœ¨çš„hashCodeåˆ†å¸ƒçš„å·²ç»å¾ˆä¸é”™äº†ï¼Œè€Œä¸”å½“å‘ç”Ÿè¾ƒå¤§ç¢°æ’æ—¶ä¹Ÿç”¨æ ‘å½¢å­˜å‚¨é™ä½äº†å†²çªã€‚ä»…ä»…å¼‚æˆ–ä¸€ä¸‹ï¼Œæ—¢å‡å°‘äº†ç³»ç»Ÿçš„å¼€é”€ï¼Œä¹Ÿä¸ä¼šé€ æˆçš„å› ä¸ºé«˜16ä½æ²¡æœ‰å‚ä¸ä¸‹æ ‡çš„è®¡ç®—(tableé•¿åº¦æ¯”è¾ƒå°æ—¶)è€Œå¼•èµ·çš„ç¢°æ’ã€‚ â€‹ æˆ‘ä»¬çŸ¥é“hashCodeæœ¬èº«æ˜¯ä¸€ä¸ª32ä½çš„intç±»å‹ï¼Œè¿›è¡Œè¿™æ ·çš„æ“ä½œå°±ç­‰äºå°†hashCodeçš„é«˜16ä½å¼‚æˆ–å®ƒçš„ä½16ä½å¾—åˆ°ä¸€ä¸ªæ–°çš„hashå€¼ã€‚ ä½†æ˜¯æ‹¿åˆ°è¿™æ ·ä¸€ä¸ªhashå€¼çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å…ˆæƒ³ä¸€ä¸‹å¦‚ä½•åˆ©ç”¨keyçš„hashå€¼ç¡®å®šæ¯ä¸ªkeyçš„å“ˆå¸Œæ¡¶ç´¢å¼•ä½ç½®è€Œä¸”è¿˜éœ€è¦å°½é‡å‡è¡¡ã€‚ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å½“ç„¶æ˜¯ç”¨hashå€¼å¯¹å“ˆå¸Œæ¡¶çš„é•¿åº¦(length)è¿›è¡Œå–æ¨¡çš„æ“ä½œã€‚å³: index = hash % length è¿™ç§æ–¹å¼å¯ä»¥ç”¨éšæœºçš„hashå€¼ç®—å‡ºéšæœºçš„ç´¢å¼•å¹¶ä¸”åˆ†é…ä¹Ÿå°½é‡å‡åŒ€ã€‚æ²¡é”™ï¼!HashMapä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ã€‚ä½†æ˜¯è¿™ç§å–æ¨¡è¿ç®—æœ¬èº«æ˜¯å¯¹CPUè¿ç®—å¼€é”€æ¯”è¾ƒå¤§çš„ï¼Œä¸ºäº†ä¼˜åŒ–é€Ÿåº¦ï¼ŒHashMapé‡‡å–äº†æ›´ä¼˜é›…çš„æ–¹å¼ï¼Œåœ¨putValçš„æ ¸å¿ƒä»£ç å¯ä»¥çœ‹åˆ°HashMapé‡‡ç”¨äº†hashå€¼&quot;ä¸&quot;length-1çš„æ–¹å¼æ¥ç¡®å®šç´¢å¼•ä½ç½®ã€‚å³ï¼š â€‹ index = hash &amp; length-1 hash()æ–¹æ³•ä¸­çš„é«˜16ä½å¼‚æˆ–16ä½çš„è®¡ç®—æ–¹å¼ï¼Œæ˜¯åœ¨JDK1.8ä¹‹åæ‰åŠ ä¸Šçš„ï¼Œåœ¨JDK1.7åŠä¹‹å‰çš„ç‰ˆæœ¬é‡Œæ˜¯indexFor()æ–¹æ³•ï¼Œç›´æ¥ç”¨hashCode&amp;length-1è®¡ç®—å‡ºç´¢å¼•ä½ç½®ã€‚è¿™ä¸ªæ˜¯jdk1.7å’Œjdk1.8ä¸­çš„åŒºåˆ«ã€‚ 5. æ‰©å®¹-åŸºæœ¬åŸç† è®¾ HashMap çš„ table é•¿åº¦ä¸º Mï¼Œéœ€è¦å­˜å‚¨çš„é”®å€¼å¯¹æ•°é‡ä¸º Nï¼Œå¦‚æœå“ˆå¸Œå‡½æ•°æ»¡è¶³å‡åŒ€æ€§çš„è¦æ±‚ï¼Œé‚£ä¹ˆæ¯æ¡é“¾è¡¨çš„é•¿åº¦å¤§çº¦ä¸º N/Mï¼Œå› æ­¤æŸ¥æ‰¾çš„å¤æ‚åº¦ä¸º O(N/M)ã€‚ ä¸ºäº†è®©æŸ¥æ‰¾çš„æˆæœ¬é™ä½ï¼Œåº”è¯¥ä½¿ N/M å°½å¯èƒ½å°ï¼Œå› æ­¤éœ€è¦ä¿è¯ M å°½å¯èƒ½å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´ table è¦å°½å¯èƒ½å¤§ã€‚HashMap é‡‡ç”¨åŠ¨æ€æ‰©å®¹æ¥æ ¹æ®å½“å‰çš„ N å€¼æ¥è°ƒæ•´ M å€¼ï¼Œä½¿å¾—ç©ºé—´æ•ˆç‡å’Œæ—¶é—´æ•ˆç‡éƒ½èƒ½å¾—åˆ°ä¿è¯ã€‚ å’Œæ‰©å®¹ç›¸å…³çš„å‚æ•°ä¸»è¦æœ‰ï¼šcapacityã€sizeã€threshold å’Œ load_factorã€‚ å‚æ•° å«ä¹‰ capacity table çš„å®¹é‡å¤§å°ï¼Œé»˜è®¤ä¸º 16ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ capacity å¿…é¡»ä¿è¯ä¸º 2 çš„ n æ¬¡æ–¹ã€‚ size é”®å€¼å¯¹æ•°é‡ã€‚ threshold size çš„ä¸´ç•Œå€¼ï¼Œå½“ size å¤§äºç­‰äº threshold å°±å¿…é¡»è¿›è¡Œæ‰©å®¹æ“ä½œã€‚ loadFactor è£…è½½å› å­ï¼Œtable èƒ½å¤Ÿä½¿ç”¨çš„æ¯”ä¾‹ï¼Œthreshold = (int)(capacity* loadFactor)ã€‚ java12345678910111213141516static final int DEFAULT_INITIAL_CAPACITY = 16; // é»˜è®¤çš„åˆå§‹å®¹é‡static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30; // æœ€å¤§å®¹é‡ 2 çš„ 30æ¬¡æ–¹static final float DEFAULT_LOAD_FACTOR = 0.75f; // é»˜è®¤çš„è£…è½½å› å­ä¸º0.75transient Entry[] table;transient int size; // sizeå°±æ˜¯HashMapä¸­é”®å€¼å¯¹çš„æ€»ä¸ªæ•°ã€‚int threshold; // size çš„ä¸´ç•Œå€¼final float loadFactor;transient int modCount; // è®°å½•æ˜¯å‘ç”Ÿå†…éƒ¨ç»“æ„å˜åŒ–çš„æ¬¡æ•°ï¼Œ fail-fastéœ€è¦ç”¨ // å¦‚æœputå€¼ï¼Œä½†æ˜¯putçš„å€¼æ˜¯è¦†ç›–åŸæœ‰çš„å€¼ï¼Œè¿™æ ·æ˜¯ä¸ç®—å†…éƒ¨ç»“æ„å˜åŒ–çš„ã€‚ â€‹ threshold=è£…è½½å› å­ * capacity ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°ç»„é•¿åº¦å›ºå®šä»¥åï¼Œ å¦‚æœè´Ÿè½½å› å­è¶Šå¤§ï¼Œæ‰€èƒ½å®¹çº³çš„å…ƒç´ ä¸ªæ•°è¶Šå¤šï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªå€¼å°±ä¼šè¿›è¡Œæ‰©å®¹(é»˜è®¤æ˜¯æ‰©å®¹ä¸ºåŸæ¥çš„2å€)ï¼Œ0.75è¿™ä¸ªå€¼æ˜¯æƒè¡¡è¿‡ç©ºé—´å’Œæ—¶é—´å¾—å‡ºçš„ï¼Œå»ºè®®å¤§å®¶ä¸è¦éšæ„ä¿®æ”¹ï¼Œå¦‚æœåœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæ¯”å¦‚ç©ºé—´æ¯”è¾ƒå¤šï¼Œä½†è¦æ±‚é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŠŠæ‰©å®¹å› å­è°ƒå°ä»¥è¾ƒå°‘hashå†²çªçš„æ¦‚ç‡ã€‚ç›¸åå°±å¢å¤§æ‰©å®¹å› å­(è¿™ä¸ªå€¼å¯ä»¥å¤§äº1)ã€‚ â€‹ å› ä¸ºHashMapæ‰©å®¹æ¯æ¬¡éƒ½æ˜¯æ‰©å®¹ä¸ºåŸæ¥çš„2å€ï¼Œæ‰€ä»¥capacity æ€»æ˜¯2çš„æ¬¡æ–¹ï¼Œè¿™æ˜¯éå¸¸è§„çš„è®¾ç½®ï¼Œå¸¸è§„è®¾ç½®æ˜¯æŠŠæ¡¶çš„å¤§å°è®¾ç½®ä¸ºç´ æ•°ï¼Œå› ä¸ºç´ æ•°å‘ç”Ÿhashå†²çªçš„æ¦‚ç‡è¦å°äºåˆæ•°ï¼Œæ¯”å¦‚HashTableçš„é»˜è®¤å€¼è®¾ç½®ä¸º11ï¼Œå°±æ˜¯æ¡¶çš„å¤§å°ä¸ºç´ æ•°çš„åº”ç”¨(HashTableæ‰©å®¹åä¸èƒ½ä¿è¯æ˜¯ç´ æ•°)ã€‚HashMapé‡‡ç”¨è¿™ç§è®¾ç½®æ˜¯ä¸ºäº†åœ¨å–æ¨¡å’Œæ‰©å®¹çš„æ—¶å€™åšå‡ºä¼˜åŒ–ã€‚ ä»ä¸‹é¢çš„æ·»åŠ å…ƒç´ ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“éœ€è¦æ‰©å®¹æ—¶ï¼Œä»¤ capacity ä¸ºåŸæ¥çš„ä¸¤å€ã€‚ java123456void addEntry(int hash, K key, V value, int bucketIndex) &#123; Entry&lt;K,V&gt; e = table[bucketIndex]; table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e); if (size++ &gt;= threshold) resize(2 * table.length); // ä¸¤å€æ‰©å®¹&#125; æ‰©å®¹ä½¿ç”¨ resize() å®ç°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰©å®¹æ“ä½œåŒæ ·éœ€è¦æŠŠ oldTable çš„æ‰€æœ‰é”®å€¼å¯¹é‡æ–°æ’å…¥ newTable ä¸­ï¼Œå› æ­¤è¿™ä¸€æ­¥æ˜¯å¾ˆè´¹æ—¶çš„ã€‚ java1234567891011121314151617181920212223242526272829303132void resize(int newCapacity) &#123;// ä¼ å…¥æ–°çš„å®¹é‡ Entry[] oldTable = table; // å¼•ç”¨æ‰©å®¹å‰çš„Entryæ•°ç»„ int oldCapacity = oldTable.length; if (oldCapacity == MAXIMUM_CAPACITY) &#123; //æ‰©å®¹å‰çš„æ•°ç»„å¤§å°å¦‚æœå·²ç»è¾¾åˆ°æœ€å¤§(2^30)äº† threshold = Integer.MAX_VALUE; //ä¿®æ”¹é˜ˆå€¼ä¸ºintçš„æœ€å¤§å€¼(2^31-1)ï¼Œè¿™æ ·ä»¥åå°±ä¸ä¼šæ‰©å®¹äº† return; &#125; Entry[] newTable = new Entry[newCapacity]; //åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„Entryæ•°ç»„ transfer(newTable); //ï¼ï¼å°†æ•°æ®è½¬ç§»åˆ°æ–°çš„Entryæ•°ç»„é‡Œ table = newTable; //HashMapçš„tableå±æ€§å¼•ç”¨æ–°çš„Entryæ•°ç»„ threshold = (int)(newCapacity * loadFactor); //ä¿®æ”¹é˜ˆå€¼&#125;/* è¿™é‡Œå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå®¹é‡æ›´å¤§çš„æ•°ç»„æ¥ä»£æ›¿å·²æœ‰çš„å®¹é‡å°çš„æ•°ç»„ï¼Œtransfer()æ–¹æ³•å°†åŸæœ‰Entryæ•°ç»„çš„å…ƒç´ æ‹·è´åˆ°æ–°çš„Entryæ•°ç»„é‡Œã€‚ */void transfer(Entry[] newTable) &#123; Entry[] src = table; //srcå¼•ç”¨äº†æ—§çš„Entryæ•°ç»„ int newCapacity = newTable.length; for (int j = 0; j &lt; src.length; j++) &#123; //éå†æ—§çš„Entryæ•°ç»„ Entry&lt;K,V&gt; e = src[j]; //å–å¾—æ—§Entryæ•°ç»„çš„æ¯ä¸ªå…ƒç´  if (e != null) &#123; src[j] = null; //é‡Šæ”¾æ—§Entryæ•°ç»„çš„å¯¹è±¡å¼•ç”¨ï¼ˆforå¾ªç¯åï¼Œæ—§çš„Entryæ•°ç»„ä¸å†å¼•ç”¨ä»»ä½•å¯¹è±¡ï¼‰ do &#123; Entry&lt;K,V&gt; next = e.next; int i = indexFor(e.hash, newCapacity); //ï¼ï¼é‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½® e.next = newTable[i]; //æ ‡è®°[1] newTable[i] = e; //å°†å…ƒç´ æ”¾åœ¨æ•°ç»„ä¸Š e = next; //è®¿é—®ä¸‹ä¸€ä¸ªEntryé“¾ä¸Šçš„å…ƒç´  &#125; while (e != null); &#125; &#125;&#125; â€‹ newTable[i]çš„å¼•ç”¨èµ‹ç»™äº†e.nextï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨äº†å•é“¾è¡¨çš„å¤´æ’å…¥æ–¹å¼ï¼ŒåŒä¸€ä½ç½®ä¸Šæ–°å…ƒç´ æ€»ä¼šè¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨ä½ç½®ï¼›è¿™æ ·å…ˆæ”¾åœ¨ä¸€ä¸ªç´¢å¼•ä¸Šçš„å…ƒç´ ç»ˆä¼šè¢«æ”¾åˆ°Entryé“¾çš„å°¾éƒ¨(å¦‚æœå‘ç”Ÿäº†hashå†²çªçš„è¯ï¼‰ï¼Œè¿™ä¸€ç‚¹å’ŒJdk1.8æœ‰åŒºåˆ«ï¼Œä¸‹æ–‡è¯¦è§£ã€‚åœ¨æ—§æ•°ç»„ä¸­åŒä¸€æ¡Entryé“¾ä¸Šçš„å…ƒç´ ï¼Œé€šè¿‡é‡æ–°è®¡ç®—ç´¢å¼•ä½ç½®åï¼Œæœ‰å¯èƒ½è¢«æ”¾åˆ°äº†æ–°æ•°ç»„çš„ä¸åŒä½ç½®ä¸Šã€‚ â€‹ ä¸‹é¢ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹æ‰©å®¹è¿‡ç¨‹ã€‚å‡è®¾äº†æˆ‘ä»¬çš„hashç®—æ³•å°±æ˜¯ç®€å•çš„ç”¨key mod ä¸€ä¸‹è¡¨çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯æ•°ç»„çš„é•¿åº¦ï¼‰ã€‚å…¶ä¸­çš„å“ˆå¸Œæ¡¶æ•°ç»„tableçš„size=2ï¼Œ æ‰€ä»¥key = 3ã€7ã€5ï¼Œputé¡ºåºä¾æ¬¡ä¸º 5ã€7ã€3ã€‚åœ¨mod 2ä»¥åéƒ½å†²çªåœ¨table[1]è¿™é‡Œäº†ã€‚è¿™é‡Œå‡è®¾è´Ÿè½½å› å­ loadFactor=1ï¼Œå³å½“é”®å€¼å¯¹çš„å®é™…å¤§å°size å¤§äº tableçš„å®é™…å¤§å°æ—¶è¿›è¡Œæ‰©å®¹ã€‚æ¥ä¸‹æ¥çš„ä¸‰ä¸ªæ­¥éª¤æ˜¯å“ˆå¸Œæ¡¶æ•°ç»„ resizeæˆ4ï¼Œç„¶åæ‰€æœ‰çš„Nodeé‡æ–°rehashçš„è¿‡ç¨‹ã€‚ â€‹ ä¸‹é¢æˆ‘ä»¬è®²è§£ä¸‹JDK1.8åšäº†å“ªäº›ä¼˜åŒ–ã€‚ç»è¿‡è§‚æµ‹å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯2æ¬¡å¹‚çš„æ‰©å±•(æŒ‡é•¿åº¦æ‰©ä¸ºåŸæ¥2å€)ï¼Œæ‰€ä»¥ï¼Œå…ƒç´ çš„ä½ç½®è¦ä¹ˆæ˜¯åœ¨åŸä½ç½®ï¼Œè¦ä¹ˆæ˜¯åœ¨åŸä½ç½®å†ç§»åŠ¨2æ¬¡å¹‚çš„ä½ç½®ã€‚çœ‹ä¸‹å›¾å¯ä»¥æ˜ç™½è¿™å¥è¯çš„æ„æ€ï¼Œnä¸ºtableçš„é•¿åº¦ï¼Œå›¾ï¼ˆaï¼‰è¡¨ç¤ºæ‰©å®¹å‰çš„key1å’Œkey2ä¸¤ç§keyç¡®å®šç´¢å¼•ä½ç½®çš„ç¤ºä¾‹ï¼Œå›¾ï¼ˆbï¼‰è¡¨ç¤ºæ‰©å®¹åkey1å’Œkey2ä¸¤ç§keyç¡®å®šç´¢å¼•ä½ç½®çš„ç¤ºä¾‹ï¼Œå…¶ä¸­hash1æ˜¯key1å¯¹åº”çš„å“ˆå¸Œä¸é«˜ä½è¿ç®—ç»“æœã€‚ â€‹ å…ƒç´ åœ¨é‡æ–°è®¡ç®—hashä¹‹åï¼Œå› ä¸ºnå˜ä¸º2å€ï¼Œé‚£ä¹ˆn-1çš„maskèŒƒå›´åœ¨é«˜ä½å¤š1bit(çº¢è‰²)ï¼Œå› æ­¤æ–°çš„indexå°±ä¼šå‘ç”Ÿè¿™æ ·çš„å˜åŒ–ï¼š â€‹ å› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ‰©å……HashMapçš„æ—¶å€™ï¼Œä¸éœ€è¦åƒJDK1.7çš„å®ç°é‚£æ ·é‡æ–°è®¡ç®—hashï¼Œåªéœ€è¦çœ‹çœ‹åŸæ¥çš„hashå€¼æ–°å¢çš„é‚£ä¸ªbitæ˜¯1è¿˜æ˜¯0å°±å¥½äº†ï¼Œæ˜¯0çš„è¯ç´¢å¼•æ²¡å˜ï¼Œæ˜¯1çš„è¯ç´¢å¼•å˜æˆâ€œåŸç´¢å¼•+oldCapâ€ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹å›¾ä¸º16æ‰©å……ä¸º32çš„resizeç¤ºæ„å›¾ï¼š â€‹ è¿™ä¸ªè®¾è®¡ç¡®å®éå¸¸çš„å·§å¦™ï¼Œæ—¢çœå»äº†é‡æ–°è®¡ç®—hashå€¼çš„æ—¶é—´ï¼Œè€Œä¸”åŒæ—¶ï¼Œç”±äºæ–°å¢çš„1bitæ˜¯0è¿˜æ˜¯1å¯ä»¥è®¤ä¸ºæ˜¯éšæœºçš„ï¼Œå› æ­¤resizeçš„è¿‡ç¨‹ï¼Œå‡åŒ€çš„æŠŠä¹‹å‰çš„å†²çªçš„èŠ‚ç‚¹åˆ†æ•£åˆ°æ–°çš„bucketäº†ã€‚è¿™ä¸€å—å°±æ˜¯JDK1.8æ–°å¢çš„ä¼˜åŒ–ç‚¹ã€‚æœ‰ä¸€ç‚¹æ³¨æ„åŒºåˆ«ï¼ŒJDK1.7ä¸­rehashçš„æ—¶å€™ï¼Œæ—§é“¾è¡¨è¿ç§»æ–°é“¾è¡¨çš„æ—¶å€™ï¼Œå¦‚æœåœ¨æ–°è¡¨çš„æ•°ç»„ç´¢å¼•ä½ç½®ç›¸åŒï¼Œåˆ™é“¾è¡¨å…ƒç´ ä¼šå€’ç½®ï¼Œä½†æ˜¯ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒJDK1.8ä¸ä¼šå€’ç½®ã€‚æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ç ”ç©¶ä¸‹JDK1.8çš„resizeæºç ï¼Œå†™çš„å¾ˆèµï¼Œå¦‚ä¸‹: java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273final Node&lt;K,V&gt;[] resize() &#123; Node&lt;K,V&gt;[] oldTab = table; int oldCap = (oldTab == null) ? 0 : oldTab.length; int oldThr = threshold; int newCap, newThr = 0; if (oldCap &gt; 0) &#123; if (oldCap &gt;= MAXIMUM_CAPACITY) &#123; threshold = Integer.MAX_VALUE; return oldTab; &#125; else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY) newThr = oldThr &lt;&lt; 1; // double threshold &#125; else if (oldThr &gt; 0) // initial capacity was placed in threshold newCap = oldThr; else &#123; // zero initial threshold signifies using defaults newCap = DEFAULT_INITIAL_CAPACITY; newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY); &#125; if (newThr == 0) &#123; float ft = (float)newCap * loadFactor; newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); &#125; threshold = newThr; @SuppressWarnings(&#123;\"rawtypes\",\"unchecked\"&#125;) Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap]; table = newTab; if (oldTab != null) &#123; for (int j = 0; j &lt; oldCap; ++j) &#123; Node&lt;K,V&gt; e; if ((e = oldTab[j]) != null) &#123; oldTab[j] = null; if (e.next == null) newTab[e.hash &amp; (newCap - 1)] = e; else if (e instanceof TreeNode) ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); else &#123; // preserve order Node&lt;K,V&gt; loHead = null, loTail = null; Node&lt;K,V&gt; hiHead = null, hiTail = null; Node&lt;K,V&gt; next; do &#123; next = e.next; if ((e.hash &amp; oldCap) == 0) &#123; if (loTail == null) loHead = e; else loTail.next = e; loTail = e; &#125; else &#123; if (hiTail == null) hiHead = e; else hiTail.next = e; hiTail = e; &#125; &#125; while ((e = next) != null); if (loTail != null) &#123; loTail.next = null; newTab[j] = loHead; &#125; if (hiTail != null) &#123; hiTail.next = null; newTab[j + oldCap] = hiHead; &#125; &#125; &#125; &#125; &#125; return newTab; &#125; 6. æ‰©å®¹-é‡æ–°è®¡ç®—æ¡¶ä¸‹æ ‡ â€‹ åœ¨è¿›è¡Œæ‰©å®¹æ—¶ï¼Œéœ€è¦æŠŠé”®å€¼å¯¹é‡æ–°è®¡ç®—æ¡¶ä¸‹æ ‡ï¼Œä»è€Œæ”¾åˆ°å¯¹åº”çš„æ¡¶ä¸Šã€‚åœ¨å‰é¢æåˆ°ï¼ŒHashMap ä½¿ç”¨ hash%capacity æ¥ç¡®å®šæ¡¶ä¸‹æ ‡ã€‚HashMap capacity ä¸º 2 çš„ n æ¬¡æ–¹è¿™ä¸€ç‰¹ç‚¹èƒ½å¤Ÿæå¤§é™ä½é‡æ–°è®¡ç®—æ¡¶ä¸‹æ ‡æ“ä½œçš„å¤æ‚åº¦ã€‚ â€‹ å‡è®¾åŸæ•°ç»„é•¿åº¦ capacity ä¸º 16ï¼Œæ‰©å®¹ä¹‹å new capacity ä¸º 32ï¼š c++12capacity : 00010000new capacity : 00100000 å¯¹äºä¸€ä¸ª Keyï¼Œå®ƒçš„å“ˆå¸Œå€¼ hash åœ¨ç¬¬ 5 ä½ï¼š ä¸º 0ï¼Œé‚£ä¹ˆ hash%00010000 = hash%00100000ï¼Œæ¡¶ä½ç½®å’ŒåŸæ¥ä¸€è‡´ï¼› ä¸º 1ï¼Œhash%00010000 = hash%00100000 + 16ï¼Œæ¡¶ä½ç½®æ˜¯åŸä½ç½® + 16ã€‚ 7. è®¡ç®—æ•°ç»„å®¹é‡ â€‹ è¿™é‡Œå…ˆäº†è§£ä¸€ä¸‹åŸºæœ¬çš„ä½è¿ç®— è¿ç®—ç¬¦ è®¡ç®—æ–¹å¼ ä¸ &amp; åªæœ‰ä¸¤ä¸ªæ•°åŒä¸€ä½éƒ½æ˜¯1æ‰ä¼šè¿”å›1 æˆ– l ä¸¤ä¸ªæ•°åŒä¸€ä½åªè¦å­˜åœ¨ä¸€ä¸ª1å°±æ˜¯1 å¼‚æˆ– ^ ä¸¤ä¸ªæ•°åŒä¸€ä½ä¸èƒ½ç›¸åŒæ‰ä¸º1 å·¦ç§» &lt;&lt; æ‰€æœ‰ä½ç½®å·¦ç§»ï¼Œä½ä½è¡¥0 å³ç§» &gt;&gt; æ­£æ•°ï¼šæ‰€æœ‰ä½ç½®å³ç§»ï¼Œé«˜ä½è¡¥0 è´Ÿæ•°ï¼šå†™å‡ºè¡¥ç ï¼ˆç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™ä½ç½®å–åï¼Œç„¶ååŠ 1ï¼‰ï¼Œæ‰€æœ‰ä½ç½®å³ç§»é«˜ä½è¡¥1ï¼Œç„¶åå†è·å–åŸç ï¼ˆç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™ä½ç½®å–åï¼Œç„¶ååŠ 1ï¼‰ æ— ç¬¦å·å³ç§» &gt;&gt; æ— è®ºæ­£è´Ÿé«˜ä½è¡¥0 â€‹ HashMap æ„é€ å‡½æ•°å…è®¸ç”¨æˆ·ä¼ å…¥çš„å®¹é‡ä¸æ˜¯ 2 çš„ n æ¬¡æ–¹ï¼Œå› ä¸ºå®ƒå¯ä»¥è‡ªåŠ¨åœ°å°†ä¼ å…¥çš„å®¹é‡è½¬æ¢ä¸º 2 çš„ n æ¬¡æ–¹ã€‚å…ˆè€ƒè™‘å¦‚ä½•æ±‚ä¸€ä¸ªæ•°çš„æ©ç ï¼Œå¯¹äº 10010000ï¼Œå®ƒçš„æ©ç ä¸º 11111111ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å¾—åˆ°ï¼š ç”¨numä¸numå·¦ç§»çš„æ•°å­—åšæˆ–è¿ç®—èµ‹ç»™num ã€‚ c123mask |= mask &gt;&gt; 1 11011000mask |= mask &gt;&gt; 2 11111110mask |= mask &gt;&gt; 4 11111111 mask+1 æ˜¯å¤§äºåŸå§‹æ•°å­—çš„æœ€å°çš„ 2 çš„ n æ¬¡æ–¹ã€‚ c12num 10010000mask+1 100000000 ä»¥ä¸‹æ˜¯ HashMap ä¸­è®¡ç®—æ•°ç»„å®¹é‡çš„ä»£ç ï¼š java123456789static final int tableSizeFor(int cap) &#123; int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;&#125; 8. é“¾è¡¨è½¬çº¢é»‘æ ‘ ä» JDK 1.8 å¼€å§‹ï¼Œä¸€ä¸ªæ¡¶å­˜å‚¨çš„é“¾è¡¨é•¿åº¦å¤§äºç­‰äº 8 æ—¶ä¼šå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚ å‚è€ƒ https://cyc2018.github.io/CS-Notes è¶…è¯¦ç»†çš„HashMapè§£æ(jdk1.8) HashMap JDK1.8å®ç°åŸç† javaä¸­çš„fail-fast(å¿«é€Ÿå¤±è´¥)æœºåˆ¶ é¢è¯•é¢˜æ€è€ƒï¼šjavaä¸­å¿«é€Ÿå¤±è´¥(fail-fast)å’Œå®‰å…¨å¤±è´¥(fail-safe)çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Java 8ç³»åˆ—ä¹‹é‡æ–°è®¤è¯†HashMap","categories":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/tags/Java/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"https://castile.github.io/tags/Java%E5%9F%BA%E7%A1%80/"}]},{"title":"leetcode-399-é™¤æ³•æ±‚å€¼","slug":"leetcode-399-é™¤æ³•æ±‚å€¼","date":"2020-01-31T14:30:10.000Z","updated":"2020-01-31T15:25:59.910Z","comments":true,"path":"2020/01/31/leetcode-399-é™¤æ³•æ±‚å€¼/","link":"","permalink":"https://castile.github.io/2020/01/31/leetcode-399-%E9%99%A4%E6%B3%95%E6%B1%82%E5%80%BC/","excerpt":"","text":"æè¿° ç»™å‡ºæ–¹ç¨‹å¼ A / B = k, å…¶ä¸­ A å’Œ B å‡ä¸ºä»£è¡¨å­—ç¬¦ä¸²çš„å˜é‡ï¼Œ k æ˜¯ä¸€ä¸ªæµ®ç‚¹å‹æ•°å­—ã€‚æ ¹æ®å·²çŸ¥æ–¹ç¨‹å¼æ±‚è§£é—®é¢˜ï¼Œå¹¶è¿”å›è®¡ç®—ç»“æœã€‚å¦‚æœç»“æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1.0ã€‚ ç¤ºä¾‹ : ç»™å®š a / b = 2.0, b / c = 3.0 é—®é¢˜: a / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ? è¿”å› [6.0, 0.5, -1.0, 1.0, -1.0 ] è¾“å…¥ä¸º: vector&lt;pair&lt;string, string&gt;&gt; equations, vector&amp; values, vector&lt;pair&lt;string, string&gt;&gt; queries(æ–¹ç¨‹å¼ï¼Œæ–¹ç¨‹å¼ç»“æœï¼Œé—®é¢˜æ–¹ç¨‹å¼)ï¼Œ å…¶ä¸­ equations.size() == values.size()ï¼Œå³æ–¹ç¨‹å¼çš„é•¿åº¦ä¸æ–¹ç¨‹å¼ç»“æœé•¿åº¦ç›¸ç­‰ï¼ˆç¨‹å¼ä¸ç»“æœä¸€ä¸€å¯¹åº”ï¼‰ï¼Œå¹¶ä¸”ç»“æœå€¼å‡ä¸ºæ­£æ•°ã€‚ä»¥ä¸Šä¸ºæ–¹ç¨‹å¼çš„æè¿°ã€‚ è¿”å›vectorç±»å‹ã€‚ åŸºäºä¸Šè¿°ä¾‹å­ï¼Œè¾“å…¥å¦‚ä¸‹ï¼š equations(æ–¹ç¨‹å¼) = [ [â€œaâ€, â€œbâ€], [â€œbâ€, â€œcâ€] ], values(æ–¹ç¨‹å¼ç»“æœ) = [2.0, 3.0], queries(é—®é¢˜æ–¹ç¨‹å¼) = [ [â€œaâ€, â€œcâ€], [â€œbâ€, â€œaâ€], [â€œaâ€, â€œeâ€], [â€œaâ€, â€œaâ€], [â€œxâ€, â€œxâ€] ]. è¾“å…¥æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ä½ å¯ä»¥å‡è®¾é™¤æ³•è¿ç®—ä¸­ä¸ä¼šå‡ºç°é™¤æ•°ä¸º0çš„æƒ…å†µï¼Œä¸”ä¸å­˜åœ¨ä»»ä½•çŸ›ç›¾çš„ç»“æœã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/evaluate-division æ­¤é¢˜éš¾åº¦ä¸ºä¸­ç­‰ï¼Œä½†æ˜¯æˆ‘åšäº†ä¸€å¤©â€¦ï¼Œ å¤ªèœäº†ã€‚ã€‚ã€‚å¯¹äºæˆ‘æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„é¢˜ç›®äº†ã€‚ åˆ†æ dfsï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢å°±æ¯”è¾ƒç›´è§‚ã€‚æ¯ä¸ªå­—æ¯ç›¸å½“äºä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨ç»™å®šçš„equationsä¸­å»ºç«‹åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå»ºå›¾ï¼Œè¦æ±‚æ–¹ç¨‹å¼çš„ç»“æœç›¸å½“äºæ±‚ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ˜¯å¦å¯ä»¥åˆ°è¾¾ï¼Œå¯ä»¥åˆ°è¾¾åˆ™æ±‚å‡ºå…¶ä»£ä»·ï¼Œä¸èƒ½åˆ°è¾¾å°±è®¾ä¸º-1.0. æˆ‘è§‰å¾—æ­¤é¢˜çš„å…³é”®å°±æ˜¯å»ºå›¾ã€‚ a/c = (a/b) * (b/c)ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å›¾æ¥è§£å†³ ã€‚ å¹¶æŸ¥é›†ï¼š æ¯”è¾ƒç‰¹æ®Šï¼Œåœ¨è·¯å¾„å‹ç¼©é‚£å—æ¯”è¾ƒå¤æ‚ã€‚ã€‚ã€‚ä»¥åè¡¥ä¸Šå§ ä»£ç  Leetcode AC ä»£ç ï¼š java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859class Solution &#123; public double[] calcEquation(List&lt;List&lt;String&gt;&gt; equations, double[] values, List&lt;List&lt;String&gt;&gt; queries) &#123; // ä½¿ç”¨mapçš„æ•°æ®ç»“æ„æ›´å¥½ // è¡¨ç¤º a-&gt;b çš„æƒé‡ å³ a / b çš„å€¼ Map&lt;String, Map&lt;String, Double&gt;&gt; g = new HashMap&lt;&gt;(); buildGraph(g, equations, values); double[] res = new double[queries.size()]; Arrays.fill(res, -1.0); int index= 0 ; for(List&lt;String&gt; q: queries)&#123; String a = q.get(0); String b = q.get(1); if(!g.containsKey(a) || !g.containsKey(b))&#123; index++; &#125;else&#123; dfs(g, a, b, res, new HashSet&lt;&gt;(), index, 1.0); index++; &#125; &#125; return res; &#125; // å»ºå›¾ private void buildGraph(Map&lt;String, Map&lt;String, Double&gt;&gt; g, List&lt;List&lt;String&gt;&gt; equations, double[] values)&#123; int index = 0; for(List&lt;String&gt; e: equations)&#123; String a = e.get(0); String b = e.get(1); g.putIfAbsent(a, new HashMap&lt;&gt;()); g.putIfAbsent(b, new HashMap&lt;&gt;()); g.get(a).put(b, values[index]); // a / b g.get(b).put(a, 1.0 / values[index]); // b / a index++; g.get(a).put(a, 1.0); g.get(b).put(b, 1.0); &#125; &#125; private void dfs(Map&lt;String, Map&lt;String, Double&gt;&gt; g, String a, String b, double[] res, Set&lt;String&gt; visited, int index, double tmp) &#123; visited.add(a); if(g.get(a) == null || g.get(a).size() == 0)&#123; // è¯´æ˜aæ²¡æœ‰ä¸å…¶ä»–ç‚¹ç›¸è¿ return; &#125; if(g.get(a).containsKey(b))&#123; // åˆšå¥½æœ‰a-&gt;bçš„è·¯å¾„ res[index] = g.get(a).get(b) * tmp; return; &#125; for(String next: g.get(a).keySet())&#123; if(visited.contains(next)) continue; dfs(g, next, b, res, visited, index, g.get(a).get(next)*tmp); &#125; &#125;&#125; è¿˜æœ‰ä¸€äº›é—®é¢˜æœªè§£å†³ï¼Œæ¯”å¦‚ä¸‹é¢æ˜¯è‡ªå·±å†™çš„ä»£ç ï¼Œåœ¨ideaä¸Šè¿è¡Œæ²¡æ¯›ç—…ï¼Œä½†æ˜¯åœ¨leetcodeä¸Šå°±å‡ºé”™äº†ã€‚å…·ä½“åŸå› ä¸è¯¦ï¼Œæ¬¢è¿å¤§å®¶æå‡ºé—®é¢˜è¿›è¡Œäº¤æµï¼Œä¸èƒœæ„Ÿæ¿€ï¼ java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101class Solution_DFS&#123; public double[] calcEquation(List&lt;List&lt;String&gt;&gt; equations, double[] values, List&lt;List&lt;String&gt;&gt; queries) &#123; Map&lt;String, Map&lt;String, Double&gt;&gt; g = new HashMap&lt;&gt;(); // å›¾ bulidGraph(g, equations, values); double[] res = new double[queries.size()]; // ç»“æœé›†åˆ Arrays.fill(res, -1.0); // å…¨éƒ¨è®¾ç½®æˆ-1.0ï¼› int index = 0; // éå†é—®é¢˜å¼å­ for(List&lt;String&gt; q: queries)&#123; String a = q.get(0); String b = q.get(1); if(!g.containsKey(a) || !g.containsKey(b))&#123; index++; &#125;else &#123; dfs(g, a, b, res, index, new HashSet&lt;&gt;(), 1.0); index++; &#125; &#125; return res; &#125; // ä¸‹é¢è¿™ä¸ªæ–¹æ³•åœ¨leetcodeè¡Œä¸é€š public double[] calcEquation_dfs(List&lt;List&lt;String&gt;&gt; equations, double[] values, List&lt;List&lt;String&gt;&gt; queries) &#123; Map&lt;String, Map&lt;String, Double&gt;&gt; g = new HashMap&lt;&gt;(); bulidGraph(g, equations, values); int index = 0; double[] ans = new double[queries.size()]; for (List&lt;String&gt; q: queries)&#123; String x = q.get(0); String y = q.get(1); if(!g.containsKey(x) || !g.containsKey(y))&#123; ans[index] = -1.0; index++; continue; &#125; HashSet&lt;String&gt; visited = new HashSet&lt;&gt;(); ans[index] = divide(x, y, g, visited); index++; &#125; return ans; &#125; // get a / b private double divide(String a, String b, Map&lt;String, Map&lt;String, Double&gt;&gt; g, Set&lt;String&gt; visitied)&#123; if( a == b)&#123; return 1.0; &#125; visitied.add(a); for(String next: g.get(a).keySet())&#123; if(visitied.contains(next)) continue; double d = divide(next, b, g, visitied); // d = next / b // a /b = next /b * a / next if(d &gt; 0) return d * g.get(a).get(next); &#125; return -1.0; &#125; private void dfs(Map&lt;String, Map&lt;String, Double&gt;&gt; g, String a, String b, double[] res, int index, Set&lt;String&gt; visited, double tmp)&#123; visited.add(a); if(g.get(a) == null || g.get(a).size() == 0)&#123; return; &#125; if(g.get(a).containsKey(b)) &#123; // åˆšå¥½å­˜åœ¨ a-&gt;b res[index] = g.get(a).get(b) * tmp; return; &#125; for(String next: g.get(a).keySet())&#123; if(visited.contains(next)) continue; dfs(g, next, b, res, index, visited, g.get(a).get(next) * tmp); &#125; &#125; private void bulidGraph(Map&lt;String, Map&lt;String, Double&gt;&gt; g , List&lt;List&lt;String&gt;&gt; equations, double[] values)&#123; int index = 0; for(List&lt;String&gt; e: equations)&#123; String a = e.get(0); String b = e.get(1); g.putIfAbsent(a, new HashMap&lt;&gt;()); g.putIfAbsent(b, new HashMap&lt;&gt;()); g.get(a).put(b, values[index]); // a -&gt; b : a / b g.get(b).put(a, 1.0 / values[index]); // b -&gt; a : b / a; index++; g.get(a).put(a, 1.0); g.get(b).put(b, 1.0); // è‡ªå·±åˆ°è‡ªå·±çš„æƒé‡ä¸º1 &#125; &#125;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"dfs","slug":"dfs","permalink":"https://castile.github.io/tags/dfs/"},{"name":"å¹¶æŸ¥é›†","slug":"å¹¶æŸ¥é›†","permalink":"https://castile.github.io/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://castile.github.io/tags/%E6%90%9C%E7%B4%A2/"}]},{"title":"leetcode-547-æœ‹å‹åœˆ","slug":"leetcode-547-æœ‹å‹åœˆ","date":"2020-01-30T06:15:07.000Z","updated":"2020-01-31T15:21:15.155Z","comments":true,"path":"2020/01/30/leetcode-547-æœ‹å‹åœˆ/","link":"","permalink":"https://castile.github.io/2020/01/30/leetcode-547-%E6%9C%8B%E5%8F%8B%E5%9C%88/","excerpt":"","text":"æè¿° Leetcode547ï¼šFriend_Circles æœ‹å‹åœˆ ç­ä¸Šæœ‰ N åå­¦ç”Ÿã€‚å…¶ä¸­æœ‰äº›äººæ˜¯æœ‹å‹ï¼Œæœ‰äº›åˆ™ä¸æ˜¯ã€‚ä»–ä»¬çš„å‹è°Šå…·æœ‰æ˜¯ä¼ é€’æ€§ã€‚å¦‚æœå·²çŸ¥ A æ˜¯ B çš„æœ‹å‹ï¼ŒB æ˜¯ C çš„æœ‹å‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è®¤ä¸º A ä¹Ÿæ˜¯ C çš„æœ‹å‹ã€‚æ‰€è°“çš„æœ‹å‹åœˆï¼Œæ˜¯æŒ‡æ‰€æœ‰æœ‹å‹çš„é›†åˆã€‚ ç»™å®šä¸€ä¸ª N * N çš„çŸ©é˜µ Mï¼Œè¡¨ç¤ºç­çº§ä¸­å­¦ç”Ÿä¹‹é—´çš„æœ‹å‹å…³ç³»ã€‚å¦‚æœM[i][j] = 1ï¼Œè¡¨ç¤ºå·²çŸ¥ç¬¬ i ä¸ªå’Œ j ä¸ªå­¦ç”Ÿäº’ä¸ºæœ‹å‹å…³ç³»ï¼Œå¦åˆ™ä¸ºä¸çŸ¥é“ã€‚ä½ å¿…é¡»è¾“å‡ºæ‰€æœ‰å­¦ç”Ÿä¸­çš„å·²çŸ¥çš„æœ‹å‹åœˆæ€»æ•°ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [[1,1,0], [1,1,0], [0,0,1]] è¾“å‡º: 2 è¯´æ˜ï¼šå·²çŸ¥å­¦ç”Ÿ0å’Œå­¦ç”Ÿ1äº’ä¸ºæœ‹å‹ï¼Œä»–ä»¬åœ¨ä¸€ä¸ªæœ‹å‹åœˆã€‚ ç¬¬2ä¸ªå­¦ç”Ÿè‡ªå·±åœ¨ä¸€ä¸ªæœ‹å‹åœˆã€‚æ‰€ä»¥è¿”å›2ã€‚ ç¤ºä¾‹ 2: è¾“å…¥: [[1,1,0], [1,1,1], [0,1,1]] è¾“å‡º: 1 è¯´æ˜ï¼šå·²çŸ¥å­¦ç”Ÿ0å’Œå­¦ç”Ÿ1äº’ä¸ºæœ‹å‹ï¼Œå­¦ç”Ÿ1å’Œå­¦ç”Ÿ2äº’ä¸ºæœ‹å‹ï¼Œæ‰€ä»¥å­¦ç”Ÿ0å’Œå­¦ç”Ÿ2ä¹Ÿæ˜¯æœ‹å‹ï¼Œæ‰€ä»¥ä»–ä»¬ä¸‰ä¸ªåœ¨ä¸€ä¸ªæœ‹å‹åœˆï¼Œè¿”å›1ã€‚ æ³¨æ„ï¼š N åœ¨[1,200]çš„èŒƒå›´å†…ã€‚ å¯¹äºæ‰€æœ‰å­¦ç”Ÿï¼Œæœ‰M[i][i] = 1ã€‚ å¦‚æœæœ‰M[i][j] = 1ï¼Œåˆ™æœ‰M[j][i] = 1ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/friend-circles å¹¶æŸ¥é›†ã€dfsã€bfs åˆ†æ å¹¶æŸ¥é›†ï¼šè½¬åŒ–ä¸ºæ±‚è¿é€šä¸ªæ•°ã€‚ å¥½å‹å…³ç³»å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œä¾‹å¦‚ç¬¬ 0 ä¸ªäººä¸ç¬¬ 1 ä¸ªäººæ˜¯å¥½å‹ï¼Œ é‚£ä¹ˆ M[0][1]å’Œ M[1][0]çš„å€¼éƒ½ä¸º 1ã€‚ å¾ˆç®€å•ç›´è§‚ã€‚ å¹¶æŸ¥é›†ï¼š java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// å¹¶æŸ¥é›† UFpublic class UF &#123; private int count = 0; // è¿é€šåˆ†é‡ private int[] parent; // æ–°å¢ä¸€ä¸ªæ•°ç»„è®°å½•æ ‘çš„â€œé‡é‡â€ private int[] size; // æ„é€  public UF(int n)&#123; // nä¸ªå…ƒç´  this.count = n; size = new int[n]; parent = new int[n]; // ä¸€å¼€å§‹æ¯ä¸€ä¸ªèŠ‚ç‚¹è‡ªæˆä¸€ä¸ªé›†åˆï¼Œéƒ½ä¸è¿é€š for (int i = 0; i &lt; n; i++)&#123; parent[i] = i; // è‡ªå·±çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘è‡ªå·± size[i] = 1; // æ¯éš”å‡ ä½•åªæœ‰è‡ªèº«ä¸€ä¸ªå…ƒç´  &#125; &#125; public int find(int x)&#123; int root = parent[x]; while (parent[x] != x)&#123; // è·¯å¾„å‹ç¼© x = parent[x]; &#125; return x; &#125; public boolean isSameSet(int a, int b)&#123; return find(a) == find(b); &#125; public int count()&#123; return count; &#125; public void union(int a, int b)&#123; int rootA = find(a); int rootB = find(b); if(rootA == rootB)&#123; return; // åŒä¸€ä¸ªé›†åˆä¸èƒ½åˆå¹¶ &#125;else&#123; if(size[rootA] &gt; size[rootB])&#123; parent[rootB] = rootA; size[rootA] += size[rootB]; &#125;else &#123; parent[rootA] = rootB; size[rootB] += size[rootA]; &#125; &#125; count--; // è¿é€šåˆ†é‡ä¸ªæ•°å‡ä¸€ &#125;&#125; dfsï¼š ç»™å®šçš„çŸ©é˜µå¯ä»¥çœ‹æˆå›¾çš„é‚»æ¥çŸ©é˜µã€‚è¿™æ ·æˆ‘ä»¬çš„é—®é¢˜å¯ä»¥å˜æˆæ— å‘å›¾è¿é€šå—çš„ä¸ªæ•°ã€‚ M= [1 1 0 0 0 0 1 1 0 0 0 0 0 0 1 1 1 0 0 0 1 1 0 0 0 0 1 0 1 0 0 0 0 0 0 1] â€‹ å¦‚æœæˆ‘ä»¬æŠŠ M çœ‹æˆå›¾çš„é‚»æ¥çŸ©é˜µï¼Œåˆ™å›¾ä¸ºï¼š â€‹ åœ¨è¿™ä¸ªå›¾ä¸­ï¼Œç‚¹çš„ç¼–å·è¡¨ç¤ºçŸ©é˜µ M çš„ä¸‹æ ‡ï¼Œi å’Œ jä¹‹é—´æœ‰ä¸€æ¡è¾¹å½“ä¸”ä»…å½“M[i][j]ä¸º 1ã€‚ â€‹ ä¸ºäº†æ‰¾åˆ°è¿é€šå—çš„ä¸ªæ•°ï¼Œä¸€ä¸ªç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œä»æ¯ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¤§ å°ä¸º N çš„ visitedæ•°ç»„ï¼ˆMå¤§å°ä¸º NÃ—N ï¼‰ï¼Œè¿™æ · visited[i] è¡¨ç¤ºç¬¬ i ä¸ªå…ƒç´ æ˜¯å¦è¢«æ·±åº¦ä¼˜å…ˆæœç´¢è®¿é—®è¿‡ã€‚æ¯ä½¿ ç”¨ä¸€æ¬¡æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå³é‡æ–°é€‰æ‹©äº†ä¸€ä¸ªç‚¹è¿›è¡Œdfsï¼Œè¿é€šåˆ†é‡çš„ä¸ªæ•°å°±åŠ ä¸€ã€‚ bfs: æ–¹æ³•ä¸dfsç±»ä¼¼ï¼Œåªæ˜¯éå†æ–¹å¼æ˜¯å±‚æ¬¡éå†ï¼Œ ä½¿ç”¨çš„æ•°æ®ç»“æ„æ˜¯é˜Ÿåˆ—ã€‚åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢ä¸­ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªç‰¹å®šç‚¹å¼€å§‹ï¼Œè®¿é—®æ‰€æœ‰é‚»æ¥çš„èŠ‚ç‚¹ã€‚ç„¶åå¯¹äºè¿™äº›é‚»æ¥èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¾ç„¶é€šè¿‡è®¿é—®é‚»æ¥èŠ‚ç‚¹çš„æ–¹å¼ï¼ŒçŸ¥é“è®¿é—®æ‰€æœ‰å¯ä»¥åˆ°è¾¾çš„èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸€å±‚ä¸€å±‚çš„æ–¹å¼è®¿é—®èŠ‚ç‚¹ã€‚ ä»£ç  java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125package search;import java.util.LinkedList;import java.util.Queue;/** * @author Hongliang Zhu * @create 2020-01-29 20:57 */public class leetcode547_FriendCircles &#123; // æ·±åº¦ä¼˜å…ˆ public static void dfs(int[][] M, int[] visited, int i) &#123; for (int j = 0; j &lt; M.length; j++) &#123; if (M[i][j] == 1 &amp;&amp; visited[j] == 0) &#123; // æ˜¯è¿é€šçš„å¹¶ä¸”è¿˜æœªè®¿é—® visited[j] = 1; dfs(M, visited, j); &#125; &#125; &#125; public static int findCircleNum_DFS(int[][] M) &#123; int count = 0; int n = M.length; int[] visited = new int[n]; for (int i = 0; i &lt; n; i++) &#123; if (visited[i] == 0) &#123; dfs(M, visited, i); count++; // æ‰§è¡Œä¸€æ¬¡dfsè¡¨ç¤ºå¢åŠ äº†ä¸€ä¸ªè¿é€šå— &#125; &#125; return count; &#125; /* ä¸‹é¢ä½¿ç”¨å¹¶æŸ¥é›† */ static int []parents; static int []size; static int count1 = 0; // è¿é€šåˆ†é‡ public static void makeSet(int n)&#123; parents = new int[n]; size = new int[n]; count1 = n; for(int i = 0; i &lt; n; i++)&#123; size[i] = 1; parents[i] = i; &#125; &#125; public static int find(int a)&#123; int root = parents[a]; while(root!= parents[root])&#123; root = parents[root]; &#125; return root; &#125; public static void union(int a, int b)&#123; int roota = find(a); int rootb = find(b); if(roota != rootb)&#123; if(size[roota] &gt; size[rootb])&#123; parents[rootb] = roota; size[roota] = size[roota]+size[rootb]; &#125;else&#123; parents[roota] = rootb; size[rootb] = size[roota]+size[rootb]; &#125; count1--; &#125; &#125; public static int findCircleNum(int[][] M) &#123; int n = M.length; makeSet(n); for(int i = 0; i&lt; n; i++)&#123; for( int j = i+1; j &lt; n; j++)&#123; if(M[i][j] == 1)// æœ‹å‹ &#123; union(i, j); &#125; &#125; &#125; return count1; // è¿”å›è¿é€šåˆ†é‡çš„ä¸ªæ•° &#125; // å¹¿åº¦ä¼˜å…ˆéå† public static int findCircleNum_BFS(int[][] M) &#123; int n = M.length; int count = 0; int[] visited = new int[n]; Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;(); for(int i = 0; i &lt; n; i++)&#123; if(visited[i] == 0)&#123; queue.add(i); while (!queue.isEmpty())&#123; int k = queue.remove(); visited[k] = 1; for(int j = 0; j &lt; n; j++)&#123; if(M[k][j] == 1 &amp;&amp; visited[j] == 0) queue.add(j); &#125; &#125; count++; &#125; &#125; return count; &#125; public static void main(String[] args) &#123; int[][] M = &#123;&#123;1, 1, 0&#125;, &#123;1, 1, 0&#125;, &#123;0, 0, 1&#125;&#125;; System.out.println(findCircleNum_DFS(M)); // 2 System.out.println(findCircleNum_BFS(M));// 2 System.out.println(findCircleNum(M));// 2 &#125;&#125; æ³¨ï¼š ä½¿ç”¨å¹¶æŸ¥é›†é€Ÿåº¦æœ€å¿«ã€‚","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"dfs","slug":"dfs","permalink":"https://castile.github.io/tags/dfs/"},{"name":"å¹¶æŸ¥é›†","slug":"å¹¶æŸ¥é›†","permalink":"https://castile.github.io/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://castile.github.io/tags/%E6%90%9C%E7%B4%A2/"},{"name":"bfs","slug":"bfs","permalink":"https://castile.github.io/tags/bfs/"}]},{"title":"Javaå…³é”®å­—","slug":"Javaå…³é”®å­—","date":"2020-01-29T02:19:02.000Z","updated":"2020-01-29T03:16:50.490Z","comments":true,"path":"2020/01/29/Javaå…³é”®å­—/","link":"","permalink":"https://castile.github.io/2020/01/29/Java%E5%85%B3%E9%94%AE%E5%AD%97/","excerpt":"","text":"final 1. æ•°æ® å£°æ˜æ•°æ®ä¸ºå¸¸é‡ï¼Œå¯ä»¥æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨è¿è¡Œæ—¶è¢«åˆå§‹åŒ–åä¸èƒ½è¢«æ”¹å˜çš„å¸¸é‡ã€‚ å¯¹äºåŸºæœ¬ç±»å‹ï¼Œfinal ä½¿æ•°å€¼ä¸å˜ï¼› å¯¹äºå¼•ç”¨ç±»å‹ï¼Œfinal ä½¿å¼•ç”¨ä¸å˜ï¼Œä¹Ÿå°±ä¸èƒ½å¼•ç”¨å…¶å®ƒå¯¹è±¡ï¼Œä½†æ˜¯è¢«å¼•ç”¨çš„å¯¹è±¡æœ¬èº«æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚ java1234final int x = 1;// x = 2; // cannot assign value to final variable 'x'final A y = new A();y.a = 1; 2. æ–¹æ³• å£°æ˜æ–¹æ³•ä¸èƒ½è¢«å­ç±»é‡å†™ã€‚ private æ–¹æ³•éšå¼åœ°è¢«æŒ‡å®šä¸º finalï¼Œå¦‚æœåœ¨å­ç±»ä¸­å®šä¹‰çš„æ–¹æ³•å’ŒåŸºç±»ä¸­çš„ä¸€ä¸ª private æ–¹æ³•ç­¾åç›¸åŒï¼Œæ­¤æ—¶å­ç±»çš„æ–¹æ³•ä¸æ˜¯é‡å†™åŸºç±»æ–¹æ³•ï¼Œè€Œæ˜¯åœ¨å­ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•ã€‚ 3. ç±» å£°æ˜ç±»ä¸å…è®¸è¢«ç»§æ‰¿ã€‚ static 1. é™æ€å˜é‡ é™æ€å˜é‡ï¼šåˆç§°ä¸ºç±»å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå˜é‡å±äºç±»çš„ï¼Œç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å…±äº«é™æ€å˜é‡ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è®¿é—®å®ƒã€‚é™æ€å˜é‡åœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä»½ã€‚ å®ä¾‹å˜é‡ï¼šæ¯åˆ›å»ºä¸€ä¸ªå®ä¾‹å°±ä¼šäº§ç”Ÿä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå®ƒä¸è¯¥å®ä¾‹åŒç”Ÿå…±æ­»ã€‚ java123456789101112public class A &#123; private int x; // å®ä¾‹å˜é‡ private static int y; // é™æ€å˜é‡ public static void main(String[] args) &#123; // int x = A.x; // Non-static field 'x' cannot be referenced from a static context A a = new A(); int x = a.x; int y = A.y; &#125;&#125; 2. é™æ€æ–¹æ³• é™æ€æ–¹æ³•åœ¨ç±»åŠ è½½çš„æ—¶å€™å°±å­˜åœ¨äº†ï¼Œå®ƒä¸ä¾èµ–äºä»»ä½•å®ä¾‹ã€‚æ‰€ä»¥é™æ€æ–¹æ³•å¿…é¡»æœ‰å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸èƒ½æ˜¯æŠ½è±¡æ–¹æ³•ã€‚ java12345public abstract class A &#123; public static void func1()&#123; &#125; // public abstract static void func2(); // Illegal combination of modifiers: 'abstract' and 'static'&#125; åªèƒ½è®¿é—®æ‰€å±ç±»çš„é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¸èƒ½æœ‰ this å’Œ super å…³é”®å­—ï¼Œå› æ­¤è¿™ä¸¤ä¸ªå…³é”®å­—ä¸å…·ä½“å¯¹è±¡å…³è”ã€‚ å³é™æ€åŸŸä¸­ä¸èƒ½è®¿é—®éé™æ€çš„ï¼Œå› ä¸ºé™æ€çš„å˜é‡æ˜¯å…ˆäºå¯¹è±¡ï¼ˆæˆ–è€…éé™æ€ï¼‰å‡ºç°ã€‚ java1234567891011public class A &#123; private static int x; private int y; public static void func1()&#123; int a = x; // int b = y; // Non-static field 'y' cannot be referenced from a static context // int b = this.y; // 'A.this' cannot be referenced from a static context &#125;&#125; 3. é™æ€è¯­å¥å— é™æ€è¯­å¥å—åœ¨ç±»åˆå§‹åŒ–æ—¶è¿è¡Œä¸€æ¬¡ã€‚ java123456789101112public class A &#123; static &#123; System.out.println(\"123\"); &#125; public static void main(String[] args) &#123; A a1 = new A(); A a2 = new A(); &#125;&#125;// ç»“æœåªè¾“å‡ºä¸€æ¬¡â€œ123â€ 4. é™æ€å†…éƒ¨ç±» å†…éƒ¨ç±» å¤§éƒ¨åˆ†æ—¶å€™ï¼Œç±»è¢«å®šä¹‰æˆä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºå•å…ƒã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šæŠŠä¸€ä¸ªç±»æ”¾åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨å®šä¹‰ï¼Œè¿™ä¸ªå®šä¹‰åœ¨å…¶ä»–ç±»å†…éƒ¨çš„ç±»å°±è¢«ç§°ä¸ºå†…éƒ¨ç±»ï¼ˆæœ‰äº›åœ°æ–¹ä¹Ÿå«åšåµŒå¥—ç±»ï¼‰ï¼ŒåŒ…å«å†…éƒ¨ç±»çš„ç±»ä¹Ÿè¢«ç§°ä¸ºå¤–éƒ¨ç±»ï¼ˆæœ‰äº›åœ°æ–¹ä¹Ÿå«åšå®¿ä¸»ç±»ï¼‰ å†…éƒ¨ç±»çš„ä½œç”¨ æ›´å¥½çš„å°è£…æ€§ å†…éƒ¨ç±»æˆå‘˜å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰æ•°æ®ï¼Œå› ä¸ºå†…éƒ¨ç±»è¢«å½“æˆå…¶å¤–éƒ¨ç±»æˆå‘˜ï¼Œä½†å¤–éƒ¨ç±»ä¸èƒ½è®¿é—®å†…éƒ¨ç±»çš„å®ç°ç»†èŠ‚ï¼Œä¾‹å¦‚å†…éƒ¨ç±»çš„æˆå‘˜å˜é‡ åŒ¿åå†…éƒ¨ç±»é€‚åˆç”¨äºåˆ›å»ºé‚£äº›ä»…éœ€è¦ä¸€æ¬¡ä½¿ç”¨çš„ç±» ä½¿ç”¨staticæ¥ä¿®é¥°ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œåˆ™è¿™ä¸ªå†…éƒ¨ç±»å°±å±äºå¤–éƒ¨ç±»æœ¬èº«ï¼Œè€Œä¸å±äºå¤–éƒ¨ç±»çš„æŸä¸ªå¯¹è±¡ã€‚ç§°ä¸ºé™æ€å†…éƒ¨ç±»ï¼ˆä¹Ÿå¯ç§°ä¸ºç±»å†…éƒ¨ç±»ï¼‰ï¼Œè¿™æ ·çš„å†…éƒ¨ç±»æ˜¯ç±»çº§åˆ«çš„ï¼Œstaticå…³é”®å­—çš„ä½œç”¨æ˜¯æŠŠç±»çš„æˆå‘˜å˜æˆç±»ç›¸å…³ï¼Œè€Œä¸æ˜¯å®ä¾‹ç›¸å…³ ã€‚ æ³¨æ„ï¼š éé™æ€å†…éƒ¨ç±»ä¸­ä¸å…è®¸å®šä¹‰é™æ€æˆå‘˜ 2. å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨éé™æ€å†…éƒ¨ç±» 3. é™æ€å†…éƒ¨ç±»ï¼Œä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ï¼Œåªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„ç±»æˆå‘˜ åœ¨å»ºé€ è€…æ¨¡å¼ä¸­æœ‰ä½¿ç”¨ï¼Œå…·ä½“å¯ä»¥å‚è€ƒé“¾æ¥ éé™æ€å†…éƒ¨ç±»ä¾èµ–äºå¤–éƒ¨ç±»çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦å…ˆåˆ›å»ºå¤–éƒ¨ç±»å®ä¾‹ï¼Œæ‰èƒ½ç”¨è¿™ä¸ªå®ä¾‹å»åˆ›å»ºéé™æ€å†…éƒ¨ç±»ã€‚è€Œé™æ€å†…éƒ¨ç±»ä¸éœ€è¦ã€‚ java123456789101112131415public class OuterClass &#123; class InnerClass &#123; &#125; static class StaticInnerClass &#123; &#125; public static void main(String[] args) &#123; // InnerClass innerClass = new InnerClass(); // 'OuterClass.this' cannot be referenced from a static context OuterClass outerClass = new OuterClass(); InnerClass innerClass = outerClass.new InnerClass(); StaticInnerClass staticInnerClass = new StaticInnerClass(); &#125;&#125;Copy to clipboardErrorCopied é™æ€å†…éƒ¨ç±»ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„éé™æ€çš„å˜é‡å’Œæ–¹æ³•ã€‚ 5. é™æ€å¯¼åŒ… åœ¨ä½¿ç”¨é™æ€å˜é‡å’Œæ–¹æ³•æ—¶ä¸ç”¨å†æŒ‡æ˜ ClassNameï¼Œä»è€Œç®€åŒ–ä»£ç ï¼Œä½†å¯è¯»æ€§å¤§å¤§é™ä½ã€‚ java1import static com.xxx.ClassName.* ä¸€èˆ¬æˆ‘ä»¬å¯¼å…¥ä¸€ä¸ªç±»éƒ½ç”¨ import comâ€¦..ClassName; è€Œé™æ€å¯¼å…¥æ˜¯è¿™æ ·ï¼šimport static comâ€¦..ClassName.*; è¿™é‡Œçš„å¤šäº†ä¸ªstaticï¼Œè¿˜æœ‰å°±æ˜¯ç±»åClassNameåé¢å¤šäº†ä¸ª.* ï¼Œæ„æ€æ˜¯å¯¼å…¥è¿™ä¸ªç±»é‡Œçš„é™æ€æ–¹æ³•ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åªå¯¼å…¥æŸä¸ªé™æ€æ–¹æ³•ï¼Œåªè¦æŠŠ .* æ¢æˆé™æ€æ–¹æ³•åå°±è¡Œäº†ã€‚ç„¶ååœ¨è¿™ä¸ªç±»ä¸­ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨æ–¹æ³•åè°ƒç”¨é™æ€æ–¹æ³•ï¼Œè€Œä¸å¿…ç”¨ClassName.æ–¹æ³•å çš„æ–¹å¼æ¥è°ƒç”¨ã€‚ å¥½å¤„ï¼š è¿™ç§æ–¹æ³•çš„å¥½å¤„å°±æ˜¯å¯ä»¥ç®€åŒ–ä¸€äº›æ“ä½œï¼Œä¾‹å¦‚æ‰“å°æ“ä½œSystem.out.println(â€¦); å°±å¯ä»¥å°†å…¶å†™å…¥ä¸€ä¸ªé™æ€æ–¹ æ³•print(â€¦)ï¼Œåœ¨ä½¿ç”¨æ—¶ç›´æ¥print(â€¦)å°±å¯ä»¥äº†ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•å»ºè®®åœ¨æœ‰å¾ˆå¤šé‡å¤è°ƒç”¨çš„æ—¶å€™ä½¿ç”¨ï¼Œå¦‚æœä»…æœ‰ä¸€åˆ°ä¸¤æ¬¡è°ƒç”¨ï¼Œä¸å¦‚ç›´æ¥å†™æ¥çš„æ–¹ä¾¿ã€‚ java12345678910111213141516import static java.lang.System.out;/** * @author Hongliang Zhu * @create 2020-01-29 10:40 */public class keywords &#123; static &#123; out.println(\"hello\"); &#125; public static void main(String[] args) &#123; &#125;&#125; 6. åˆå§‹åŒ–é¡ºåº é™æ€å˜é‡å’Œé™æ€è¯­å¥å—ä¼˜å…ˆäºå®ä¾‹å˜é‡å’Œæ™®é€šè¯­å¥å—ï¼Œé™æ€å˜é‡å’Œé™æ€è¯­å¥å—çš„åˆå§‹åŒ–é¡ºåºå–å†³äºå®ƒä»¬åœ¨ä»£ç ä¸­çš„é¡ºåºã€‚ java1public static String staticField = \"é™æ€å˜é‡\"; java123static &#123; System.out.println(\"é™æ€è¯­å¥å—\");&#125; java1public String field = \"å®ä¾‹å˜é‡\"; java123&#123; System.out.println(\"æ™®é€šè¯­å¥å—\");&#125; æœ€åæ‰æ˜¯æ„é€ å‡½æ•°çš„åˆå§‹åŒ– java123public InitialOrderTest() &#123; System.out.println(\"æ„é€ å‡½æ•°\");&#125; å­˜åœ¨ç»§æ‰¿çš„æƒ…å†µä¸‹ï¼Œåˆå§‹åŒ–é¡ºåºä¸ºï¼š çˆ¶ç±»ï¼ˆé™æ€å˜é‡ã€é™æ€è¯­å¥å—ï¼‰ å­ç±»ï¼ˆé™æ€å˜é‡ã€é™æ€è¯­å¥å—ï¼‰ çˆ¶ç±»ï¼ˆå®ä¾‹å˜é‡ã€æ™®é€šè¯­å¥å—ï¼‰ çˆ¶ç±»ï¼ˆæ„é€ å‡½æ•°ï¼‰ å­ç±»ï¼ˆå®ä¾‹å˜é‡ã€æ™®é€šè¯­å¥å—ï¼‰ å­ç±»ï¼ˆæ„é€ å‡½æ•°ï¼‰ å‚è€ƒ https://cyc2018.github.io/CS-Notes https://blog.csdn.net/cd18333612683/article/details/79129503 https://blog.csdn.net/u012338954/article/details/51010337","categories":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/tags/Java/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"https://castile.github.io/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"å…³é”®å­—","slug":"å…³é”®å­—","permalink":"https://castile.github.io/tags/%E5%85%B3%E9%94%AE%E5%AD%97/"}]},{"title":"leetcode-990-ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§","slug":"leetcode-990-ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§","date":"2020-01-28T14:45:18.000Z","updated":"2020-01-28T14:56:47.405Z","comments":true,"path":"2020/01/28/leetcode-990-ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§/","link":"","permalink":"https://castile.github.io/2020/01/28/leetcode-990-%E7%AD%89%E5%BC%8F%E6%96%B9%E7%A8%8B%E7%9A%84%E5%8F%AF%E6%BB%A1%E8%B6%B3%E6%80%A7/","excerpt":"","text":"æè¿° ç»™å®šä¸€ä¸ªç”±è¡¨ç¤ºå˜é‡ä¹‹é—´å…³ç³»çš„å­—ç¬¦ä¸²æ–¹ç¨‹ç»„æˆçš„æ•°ç»„ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²æ–¹ç¨‹ equations[i] çš„é•¿åº¦ä¸º 4ï¼Œå¹¶é‡‡ç”¨ä¸¤ç§ä¸åŒçš„å½¢å¼ä¹‹ä¸€ï¼šâ€œa==bâ€ æˆ– â€œa!=bâ€ã€‚åœ¨è¿™é‡Œï¼Œa å’Œ b æ˜¯å°å†™å­—æ¯ï¼ˆä¸ä¸€å®šä¸åŒï¼‰ï¼Œè¡¨ç¤ºå•å­—æ¯å˜é‡åã€‚åªæœ‰å½“å¯ä»¥å°†æ•´æ•°åˆ†é…ç»™å˜é‡åï¼Œä»¥ä¾¿æ»¡è¶³æ‰€æœ‰ç»™å®šçš„æ–¹ç¨‹æ—¶æ‰è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼š[â€œa==bâ€,â€œb!=aâ€] è¾“å‡ºï¼šfalse è§£é‡Šï¼šå¦‚æœæˆ‘ä»¬æŒ‡å®šï¼Œa = 1 ä¸” b = 1ï¼Œé‚£ä¹ˆå¯ä»¥æ»¡è¶³ç¬¬ä¸€ä¸ªæ–¹ç¨‹ï¼Œä½†æ— æ³•æ»¡è¶³ç¬¬äºŒä¸ªæ–¹ç¨‹ã€‚æ²¡æœ‰åŠæ³•åˆ†é…å˜é‡åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ–¹ç¨‹ã€‚ ç¤ºä¾‹ 2ï¼š è¾“å‡ºï¼š[â€œba&quot;ï¼Œ &quot;abâ€] è¾“å…¥ï¼štrue è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‡å®š a = 1 ä¸” b = 1 ä»¥æ»¡è¶³æ»¡è¶³è¿™ä¸¤ä¸ªæ–¹ç¨‹ã€‚ ç¤ºä¾‹ 3ï¼š è¾“å…¥ï¼š[â€œab&quot;,&quot;bcâ€,â€œa==câ€] è¾“å‡ºï¼štrue ç¤ºä¾‹ 4ï¼š è¾“å…¥ï¼š[â€œab&quot;, â€œb!=câ€,&quot;caâ€] è¾“å‡ºï¼šfalse ç¤ºä¾‹ 5ï¼š è¾“å…¥ï¼š[â€œcc&quot;, &quot;bdâ€, â€œx!=zâ€] è¾“å‡ºï¼štrue é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/satisfiability-of-equality-equations åˆ†æ æ ¹æ®ç­‰å¼çš„ä¼ é€’æ€§ï¼Œå¯ä»¥æƒ³åˆ°ä½¿ç”¨å¹¶æŸ¥é›†éå¸¸å¿«é€Ÿå¯ä»¥è§£å†³æ­¤é¢˜ã€‚åŠ¨æ€è¿é€šæ€§å…¶å®å°±æ˜¯ä¸€ç§ç­‰ä»·å…³ç³»ï¼Œå…·æœ‰ã€Œè‡ªåæ€§ã€ã€Œä¼ é€’æ€§ã€å’Œã€Œå¯¹ç§°æ€§ã€ï¼Œå…¶å® == å…³ç³»ä¹Ÿæ˜¯ä¸€ç§ç­‰ä»·å…³ç³»ï¼Œå…·æœ‰è¿™äº›æ€§è´¨ã€‚æ‰€ä»¥è¿™ä¸ªé—®é¢˜ç”¨ Union-Find ç®—æ³•å°±å¾ˆè‡ªç„¶ã€‚ æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå°† equations ä¸­çš„ç®—å¼æ ¹æ® == å’Œ != åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå…ˆå¤„ç† == ç®—å¼ï¼Œä½¿å¾—ä»–ä»¬é€šè¿‡ç›¸ç­‰å…³ç³»å„è‡ªå‹¾ç»“æˆé—¨æ´¾ï¼›ç„¶åå¤„ç† != ç®—å¼ï¼Œæ£€æŸ¥ä¸ç­‰å…³ç³»æ˜¯å¦ç ´åäº†ç›¸ç­‰å…³ç³»çš„è¿é€šæ€§ã€‚ java12345678910111213141516171819202122232425262728293031323334353637383940414243444546import java.util.ArrayList;import java.util.Stack;/** * @author Hongliang Zhu * @create 2020-01-28 21:28 */public class leetcode990_SatisfiabilityOfEqualityEquations &#123; // å¹¶æŸ¥é›† public static boolean equationsPossible(String[] equations) &#123; UF uf = new UF(26); // 26ä¸ªå­—æ¯ // æ‰€æœ‰ç­‰å¼è¿é€š for (String eq : equations) &#123; if (eq.charAt(1) == '=') &#123; // åˆ¤æ–­ä¸ºç­‰å¼ char x = eq.charAt(0); char y = eq.charAt(3); uf.union(x - 'a', y - 'a'); &#125; &#125; // åˆ¤æ–­ä¸ç­‰å¼ä¼šä¸ä¼šç ´åè¿é€šæ€§ for (String eq : equations) &#123; if (eq.charAt(1) == '!') &#123; // åˆ¤æ–­ä¸ºä¸ç­‰å¼ char x = eq.charAt(0); char y = eq.charAt(3); if (uf.isSameSet(x - 'a', y - 'a')) &#123; return false; &#125; &#125; &#125; return true; &#125; public static void main(String[] args) &#123; String[] equations1 = &#123;\"c==c\", \"b==d\", \"x!=z\"&#125;; System.out.println(equationsPossible(equations1)); // true String[] equations2 = &#123;\"a==b\", \"b==c\", \"a==c\"&#125;; System.out.println(equationsPossible(equations2)); // true String[] equations3 = &#123;\"b==a\", \"a!=b\"&#125;; System.out.println(equationsPossible(equations3)); // fasle &#125;&#125; dfsï¼Œå›¾çš„è”é€šæ€§ï¼ŒæŸ“è‰²é—®é¢˜ï¼Œè¿™æ˜¯leetcodeå®˜æ–¹é¢˜è§£ï¼š â€‹ æ€è·¯ï¼š æ‰€æœ‰ç›¸äº’ç­‰äºçš„å˜é‡èƒ½ç»„æˆä¸€ä¸ªè”é€šåˆ†é‡ã€‚ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœ a=b, b=c, c=dï¼Œé‚£ä¹ˆ a, b, c, d å°±åœ¨åŒä¸€ä¸ªè”é€šåˆ†é‡ä¸­ï¼Œå› ä¸ºå®ƒä»¬å¿…é¡»ç›¸ç­‰ã€‚ â€‹ ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬åŸºäºç»™å®šçš„ç­‰å¼ï¼Œç”¨æ·±åº¦ä¼˜å…ˆéå†å°†æ¯ä¸€ä¸ªå˜é‡æŒ‰ç…§è”é€šåˆ†é‡æŸ“è‰²ã€‚ â€‹ å°†è”é€šåˆ†é‡æŸ“è‰²ä¹‹åï¼Œæˆ‘ä»¬åˆ†æå½¢å¦‚ a != b çš„ä¸ç­‰å¼ã€‚å¦‚æœä¸¤ä¸ªåˆ†é‡æœ‰ç›¸åŒçš„é¢œè‰²ï¼Œé‚£ä¹ˆå®ƒä»¬ä¸€å®šç›¸ç­‰ï¼Œå› æ­¤ å¦‚æœè¯´å®ƒä»¬ä¸ç›¸ç­‰çš„è¯ï¼Œå°±ä¸€å®šæ— æ³•æ»¡è¶³ç»™å®šçš„æ–¹ç¨‹ç»„ã€‚è¿”å›falseã€‚ ä»£ç  java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576import java.util.ArrayList;import java.util.Stack;/** * @author Hongliang Zhu * @create 2020-01-28 21:28 */public class leetcode990_SatisfiabilityOfEqualityEquations &#123; //è¿é€š æŸ“è‰² public static boolean equationsPossible_DFS(String[] equations) &#123; ArrayList&lt;Integer&gt;[] graph = new ArrayList[26]; // 26ä¸ªå­—æ¯ // åˆå§‹åŒ– for (int i = 0; i &lt; 26; i++) &#123; graph[i] = new ArrayList&lt;Integer&gt;(); &#125; // ç­‰å¼è¿›è¡Œè¿é€š for (String eq : equations) &#123; if (eq.charAt(1) == '=') &#123; char x = eq.charAt(0); char y = eq.charAt(3); graph[x - 'a'].add(y - 'a'); graph[y - 'a'].add(x - 'a'); &#125; &#125; int[] color = new int[26]; // å‡†å¤‡26ç§é¢œè‰² int t = 0; for (int i = 0; i &lt; 26; i++) &#123; if (color[i] == 0) &#123; // ç¬¬iä¸ªå­—æ¯è¿˜æ²¡æŸ“è‰² t++; // å¢åŠ ä¸€ç§é¢œè‰² Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;(); s.push(i); while (!s.isEmpty()) &#123; int node = s.pop(); for (int nn : graph[node]) &#123;// å–å‡ºä¸nodeè¿é€šçš„æ‰€æœ‰ç‚¹ï¼Œ å³å–å‡ºç­‰å¼ä¸¤è¾¹çš„å­—æ¯ if (color[nn] == 0) &#123; color[nn] = t; // è¿é€šçš„èŠ‚ç‚¹è®¾ç½®æˆç›¸åŒçš„é¢œè‰² s.push(nn); // å°†ä¸ä¹‹è¿é€šçš„èŠ‚ç‚¹è¿›æ ˆï¼Œå®ç°ç­‰å¼ä¼ é€’æ€§çš„åŠŸèƒ½ &#125; &#125; &#125; &#125; &#125; // æ£€æŸ¥ä¸ç­‰å¼çš„åˆæ³•æ€§ for (String eq : equations) &#123; if (eq.charAt(1) == '!') &#123; int x = eq.charAt(0) - 'a'; int y = eq.charAt(3) - 'a'; if (x == y || color[x] != 0 &amp;&amp; color[x] == color[y]) &#123; // å­—æ¯ç›¸ç­‰ï¼Œé¢œè‰²ç›¸åŒçš„ä¸€å®šä¸æ»¡è¶³ä¸ç­‰å…³ç³» return false; &#125; &#125; &#125; return true; &#125; public static void main(String[] args) &#123; String[] equations1 = &#123;\"c==c\", \"b==d\", \"x!=z\"&#125;; String[] equations2 = &#123;\"a==b\", \"b==c\", \"a==c\"&#125;; String[] equations3 = &#123;\"b==a\", \"a!=b\"&#125;; System.out.println(equationsPossible_DFS(equations1)); // true System.out.println(equationsPossible_DFS(equations2)); // true System.out.println(equationsPossible_DFS(equations3)); // false &#125;&#125; å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ï¼š O(N)ï¼Œå…¶ä¸­ Næ˜¯æ–¹ç¨‹ç»„ equations çš„æ•°é‡ã€‚ ç©ºé—´å¤æ‚åº¦ï¼š O(1ï¼‰ï¼Œè®¤ä¸ºå­—æ¯è¡¨çš„å¤§å°æ˜¯ O(1) çš„ã€‚","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"dfs","slug":"dfs","permalink":"https://castile.github.io/tags/dfs/"},{"name":"å¹¶æŸ¥é›†","slug":"å¹¶æŸ¥é›†","permalink":"https://castile.github.io/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"}]},{"title":"Javaçš„è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±","slug":"Javaçš„è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±","date":"2020-01-28T03:57:55.000Z","updated":"2020-01-28T04:10:07.861Z","comments":true,"path":"2020/01/28/Javaçš„è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±/","link":"","permalink":"https://castile.github.io/2020/01/28/Java%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1%E5%92%8C%E6%8B%86%E7%AE%B1/","excerpt":"","text":"è‡ªåŠ¨è£…ç®±/æ‹†ç®± è‡ªåŠ¨è£…ç®±ï¼šæŒ‡å¼€å‘äººå‘˜å¯ä»¥æŠŠä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥èµ‹ç»™å¯¹åº”çš„åŒ…è£…ç±»ã€‚ è‡ªåŠ¨æ‹†ç®±ï¼šæŒ‡å¼€å‘äººå‘˜å¯ä»¥æŠŠä¸€ä¸ªåŒ…è£…ç±»å¯¹è±¡ç›´æ¥èµ‹ç»™å¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚ åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±» åŒ…è£…ç±» åŸºæœ¬æ•°æ®ç±»å‹ Byte byte Integer int Long long Boolean boolean Float float Double double Character char å¯¹è±¡å˜åŸºæœ¬æ•°æ®ç±»å‹:æ‹†ç®± åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ä¸ºå¯¹è±¡:è£…ç®± åœ¨ä½¿ç”¨è¿™äº›åŸºæœ¬ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»å‹æ—¶ï¼Œå¦‚æœè¯¥æ•°å€¼èŒƒå›´åœ¨ç¼“å†²æ± èŒƒå›´å†…ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å†²æ± ä¸­çš„å¯¹è±¡ã€‚ Exampleï¼š java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849public class Demo5 &#123; public static void main(String[] args) &#123; String str = \"12\"; //å­—ç¬¦ä¸²è½¬æ¢æˆintç±»å‹æ•°æ®ã€‚ å¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå¯¹åº”çš„æ•°å­— int i = Integer.parseInt(str); System.out.println(i+1); //æŠŠæ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸² System.out.println(\"æŠŠæ•´æ•°è½¬æ¢æˆå¯¹åº” çš„å­—ç¬¦ä¸²ï¼š\"+Integer.toString(i)); //æŠŠæ•´æ•°è½¬æ¢æˆå¯¹åº”çš„è¿›åˆ¶å½¢å¼ System.out.println(\"10çš„äºŒè¿›åˆ¶ï¼š\"+ Integer.toBinaryString(10)); System.out.println(\"10çš„äºŒè¿›åˆ¶ï¼š\"+ Integer.toBinaryString(10)); System.out.println(\"10çš„åå…­è¿›åˆ¶ï¼š\"+ Integer.toHexString(10)); //å¯ä»¥æŠŠå­—ç¬¦ä¸²å½“æˆå¯¹åº”çš„è¿›è¡Œæ•°æ®å¸®ä½ è½¬æ¢ String data = \"10\"; int a = Integer.parseInt(data, 2); System.out.println(\"a=\"+a); //é›†åˆï¼š é›†åˆæ˜¯å¯ä»¥å­˜å‚¨ä»»æ„å¯¹è±¡ç±»å‹æ•°æ®çš„å®¹å™¨ã€‚ ArrayList list = new ArrayList(); list.add(1); list.add(2); list.add(3); //è‡ªåŠ¨è£…ç®±ï¼š è‡ªåŠ¨æŠŠjavaçš„åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®è½¬æ¢æˆå¯¹è±¡ç±»å‹æ•°æ®ã€‚ int temp = 10; //åŸºæœ¬æ•°æ®ç±»å‹ Integer b =temp; //æŠŠaå­˜å‚¨çš„å€¼èµ‹äºˆç»™bå˜é‡ã€‚ //è‡ªåŠ¨æ‹†ç®±ï¼š æŠŠå¼•ç”¨ç±»å‹çš„æ•°æ®è½¬æ¢æˆåŸºæœ¬ç±»å‹çš„æ•°æ® Integer c = new Integer(13); int d = c; // System.out.println(d); //å¼•ç”¨çš„æ•°æ®ç±»å‹ Integer e = 127; Integer f = 127; System.out.println(\"åŒä¸€ä¸ªå¯¹è±¡å—ï¼Ÿ\"+(e==f)); // ture &#125; &#125; æ³¨æ„ï¼š Integerç±»å†…éƒ¨ç»´æŠ¤ äº†ç¼“å†²æ•°ç»„ï¼Œè¯¥ç¼“å†²æ•°ç»„å­˜å‚¨çš„-128~127 è¿™äº›æ•°æ®åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ã€‚å¦‚æœä½ è·å–çš„æ•°æ®æ˜¯è½å…¥åˆ°è¿™ä¸ªèŒƒå›´ä¹‹å†…çš„ï¼Œé‚£ä¹ˆå°±ç›´æ¥ä»è¯¥ç¼“å†²åŒºä¸­è·å–å¯¹åº”çš„æ•°æ®ã€‚ã€Java8ã€‘ ç¼–è¯‘å™¨ä¼šåœ¨è‡ªåŠ¨è£…ç®±è¿‡ç¨‹è°ƒç”¨ valueOf() æ–¹æ³•ï¼Œå› æ­¤å¤šä¸ªå€¼ç›¸åŒä¸”å€¼åœ¨ç¼“å­˜æ± èŒƒå›´å†…çš„ Integer å®ä¾‹ä½¿ç”¨è‡ªåŠ¨è£…ç®±æ¥åˆ›å»ºï¼Œé‚£ä¹ˆå°±ä¼šå¼•ç”¨ç›¸åŒçš„å¯¹è±¡ã€‚ java123456789101112131415public class integer &#123; public static void main(String[] args) &#123; Integer a = new Integer(111); Integer b = new Integer(111); Integer c = Integer.valueOf(111); Integer d = Integer.valueOf(111); System.out.println(a == b); System.out.println(c == d); &#125;&#125; ç»“æœï¼š false true new Integer(123) ä¸ Integer.valueOf(123) çš„åŒºåˆ«åœ¨äºï¼š new Integer(123) æ¯æ¬¡éƒ½ä¼šæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼› Integer.valueOf(123) ä¼šä½¿ç”¨ç¼“å­˜æ± ä¸­çš„å¯¹è±¡ï¼Œå¤šæ¬¡è°ƒç”¨ä¼šå–å¾—åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š java1234567891011121314151617181920/** * @author Hongliang Zhu * @create 2020-01-28 11:38 */public class integer &#123; public static void main(String[] args) &#123; Integer a = new Integer(160); Integer b = new Integer(160); Integer c = Integer.valueOf(160); Integer d = Integer.valueOf(160); System.out.println(a == b); System.out.println(c == d); &#125;&#125; ç»“æœä¸ºï¼š false false å› ä¸º160è¶…è¿‡äº†ç¼“å­˜çš„èŒƒå›´ï¼ˆ-128-127ï¼‰ï¼Œæ‰€ä»¥éƒ½æ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œ valueOf() æ–¹æ³•çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯å…ˆåˆ¤æ–­å€¼æ˜¯å¦åœ¨ç¼“å­˜æ± ä¸­ï¼Œå¦‚æœåœ¨çš„è¯å°±ç›´æ¥è¿”å›ç¼“å­˜æ± çš„å†…å®¹ã€‚ å¦‚æœä¸åœ¨ç¼“å­˜æ± ä¸­ï¼Œåˆ™ä¼šnewä¸€ä¸ªIntegerå¯¹è±¡ã€‚ java12345public static Integer valueOf(int i) &#123; if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) return IntegerCache.cache[i + (-IntegerCache.low)]; return new Integer(i); &#125; çœ‹æºç ï¼š java123456789101112131415161718192021222324252627282930313233 private static class IntegerCache &#123; static final int low = -128; static final int high; static final Integer cache[]; static &#123; // high value may be configured by property int h = 127; String integerCacheHighPropValue = sun.misc.VM.getSavedProperty(\"java.lang.Integer.IntegerCache.high\"); if (integerCacheHighPropValue != null) &#123; try &#123; int i = parseInt(integerCacheHighPropValue); i = Math.max(i, 127); // Maximum array size is Integer.MAX_VALUE h = Math.min(i, Integer.MAX_VALUE - (-low) -1); &#125; catch( NumberFormatException nfe) &#123; // If the property cannot be parsed into an int, ignore it. &#125; &#125; high = h; cache = new Integer[(high - low) + 1]; int j = low; for(int k = 0; k &lt; cache.length; k++) cache[k] = new Integer(j++); // range [-128, 127] must be interned (JLS7 5.1.7) assert IntegerCache.high &gt;= 127; &#125; private IntegerCache() &#123;&#125;&#125; â€‹ åœ¨ jdk 1.8 æ‰€æœ‰çš„æ•°å€¼ç±»ç¼“å†²æ± ä¸­ï¼ŒInteger çš„ç¼“å†²æ±  IntegerCache å¾ˆç‰¹æ®Šï¼Œè¿™ä¸ªç¼“å†²æ± çš„ä¸‹ç•Œæ˜¯ - 128ï¼Œä¸Šç•Œé»˜è®¤æ˜¯ 127ï¼Œä½†æ˜¯è¿™ä¸ªä¸Šç•Œæ˜¯å¯è°ƒçš„ï¼Œåœ¨å¯åŠ¨ jvm çš„æ—¶å€™ï¼Œé€šè¿‡ -XX:AutoBoxCacheMax= æ¥æŒ‡å®šè¿™ä¸ªç¼“å†²æ± çš„å¤§å°ï¼Œè¯¥é€‰é¡¹åœ¨ JVM åˆå§‹åŒ–çš„æ—¶å€™ä¼šè®¾å®šä¸€ä¸ªåä¸º java.lang.IntegerCache.high ç³»ç»Ÿå±æ€§ï¼Œç„¶å IntegerCache åˆå§‹åŒ–çš„æ—¶å€™å°±ä¼šè¯»å–è¯¥ç³»ç»Ÿå±æ€§æ¥å†³å®šä¸Šç•Œã€‚ å‚è€ƒ [https://cyc2018.github.io/CS-Notes/#/notes/Java åŸºç¡€](https://cyc2018.github.io/CS-Notes/#/notes/Java åŸºç¡€) https://blog.csdn.net/Castile_zhu/article/details/78822267","categories":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://castile.github.io/tags/Java/"},{"name":"javaåŸºç¡€","slug":"javaåŸºç¡€","permalink":"https://castile.github.io/tags/java%E5%9F%BA%E7%A1%80/"}]},{"title":"leetcode-684-å†—ä½™è¿æ¥","slug":"leetcode-684-å†—ä½™è¿æ¥","date":"2020-01-27T03:17:36.000Z","updated":"2020-01-27T03:24:39.172Z","comments":true,"path":"2020/01/27/leetcode-684-å†—ä½™è¿æ¥/","link":"","permalink":"https://castile.github.io/2020/01/27/leetcode-684-%E5%86%97%E4%BD%99%E8%BF%9E%E6%8E%A5/","excerpt":"","text":"æè¿° Leetcode684:RedundantConnection å†—ä½™è¿æ¥â‘ ï¼š åœ¨æœ¬é—®é¢˜ä¸­, æ ‘æŒ‡çš„æ˜¯ä¸€ä¸ªè¿é€šä¸”æ— ç¯çš„æ— å‘å›¾ã€‚ è¾“å…¥ä¸€ä¸ªå›¾ï¼Œè¯¥å›¾ç”±ä¸€ä¸ªæœ‰ç€Nä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ä¸é‡å¤1, 2, â€¦, N) çš„æ ‘åŠä¸€æ¡é™„åŠ çš„è¾¹æ„æˆã€‚é™„åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨1åˆ°Nä¸­é—´ï¼Œè¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚ ç»“æœå›¾æ˜¯ä¸€ä¸ªä»¥è¾¹ç»„æˆçš„äºŒç»´æ•°ç»„ã€‚æ¯ä¸€ä¸ªè¾¹çš„å…ƒç´ æ˜¯ä¸€å¯¹[u, v] ï¼Œæ»¡è¶³ u &lt; vï¼Œè¡¨ç¤ºè¿æ¥é¡¶ç‚¹u å’Œvçš„æ— å‘å›¾çš„è¾¹ã€‚ è¿”å›ä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œä½¿å¾—ç»“æœå›¾æ˜¯ä¸€ä¸ªæœ‰ç€Nä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›äºŒç»´æ•°ç»„ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚ç­”æ¡ˆè¾¹ [u, v] åº”æ»¡è¶³ç›¸åŒçš„æ ¼å¼ u &lt; vã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥: [[1,2], [1,3], [2,3]] è¾“å‡º: [2,3] è§£é‡Š: ç»™å®šçš„æ— å‘å›¾ä¸º: 1 / 2 - 3 ç¤ºä¾‹ 2ï¼š è¾“å…¥: [[1,2], [2,3], [3,4], [1,4], [1,5]] è¾“å‡º: [1,4] è§£é‡Š: ç»™å®šçš„æ— å‘å›¾ä¸º: 5 - 1 - 2 | | 4 - 3 æ³¨æ„: è¾“å…¥çš„äºŒç»´æ•°ç»„å¤§å°åœ¨ 3 åˆ° 1000ã€‚ äºŒç»´æ•°ç»„ä¸­çš„æ•´æ•°åœ¨1åˆ°Nä¹‹é—´ï¼Œå…¶ä¸­Næ˜¯è¾“å…¥æ•°ç»„çš„å¤§å°ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/redundant-connection åˆ†æ å¹¶æŸ¥é›†çš„åº”ç”¨ï¼š ç›´æ¥çœ‹ä»£ç ï¼Œä¸€æ¬¡AC ä»£ç  java123456789101112131415161718192021222324252627282930313233343536373839import java.util.Arrays;/** * @author Hongliang Zhu * @create 2020-01-27 10:17 *//*Leetcode684:RedundantConnection å†—ä½™è¿æ¥â‘  */public class leetcode684_RedundantConnection &#123; public static int[] findRedundantConnection(int[][] edges) &#123; if(edges == null || edges.length == 0) return null; int n = edges.length; System.out.println(n); UF uf = new UF(n+1); for(int[] edge: edges)&#123; if(!uf.isSameSet(edge[0], edge[1]))&#123; uf.union(edge[0], edge[1]); &#125;else&#123; return edge; &#125; &#125; return null; &#125; public static void main(String[] args) &#123; int [][]edges = &#123;&#123; 1,2 &#125;,&#123;1,3&#125;,&#123; 2,3&#125;&#125;; int []res = findRedundantConnection(edges); System.out.println(Arrays.toString(res)); &#125;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"å¹¶æŸ¥é›†","slug":"å¹¶æŸ¥é›†","permalink":"https://castile.github.io/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"}]},{"title":"leetcode-130-è¢«å›´ç»•çš„åŒºåŸŸ","slug":"leetcode-130-è¢«å›´ç»•çš„åŒºåŸŸ","date":"2020-01-26T08:20:36.000Z","updated":"2020-01-26T13:02:02.122Z","comments":true,"path":"2020/01/26/leetcode-130-è¢«å›´ç»•çš„åŒºåŸŸ/","link":"","permalink":"https://castile.github.io/2020/01/26/leetcode-130-%E8%A2%AB%E5%9B%B4%E7%BB%95%E7%9A%84%E5%8C%BA%E5%9F%9F/","excerpt":"","text":"æè¿° Leetcode-130ï¼š è¢«å›´ç»•çš„åŒºåŸŸ ç»™å®šä¸€ä¸ªäºŒç»´çš„çŸ©é˜µï¼ŒåŒ…å« â€˜Xâ€™ å’Œ â€˜Oâ€™ï¼ˆå­—æ¯ Oï¼‰ã€‚ æ‰¾åˆ°æ‰€æœ‰è¢« â€˜Xâ€™ å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ â€˜Oâ€™ ç”¨ â€˜Xâ€™ å¡«å……ã€‚ ç¤ºä¾‹: X X X X X O O X X X O X X O X X è¿è¡Œä½ çš„å‡½æ•°åï¼ŒçŸ©é˜µå˜ä¸ºï¼š X X X X X X X X X X X X X O X X è§£é‡Š: è¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ éƒ½ä¸ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ ç›¸è¿çš„ â€˜Oâ€™ æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/surrounded-regions åˆ†æ dfsæœç´¢ï¼šå°†è¾¹ç•Œä¸Šçš„â€˜Oâ€™åŠå…¶è¿é€šçš„å…ˆè®¾ç½®æˆâ€˜#â€™æ ‡è¯†ï¼Œè¿™äº›æ˜¯ä¸ä¼šè¢«å¡«å……çš„ï¼Œç­‰æœç´¢å®Œæ¯•ä¹‹åå†å°†è¿™äº›æ ‡å¿—æ¢å›â€˜Oâ€™ã€‚è€Œåœ¨é‡Œé¢çš„â€˜Oâ€™å°±æ˜¯è¢«åŒ…å›´çš„åŒºåŸŸï¼Œé€šè¿‡åŒå±‚å¾ªç¯å°†é‡Œé¢çš„â€™Oâ€˜æ›¿æ¢æˆâ€™Xâ€˜å³å¯ã€‚ å¹¶æŸ¥é›†ï¼šå¹¶æŸ¥é›†çš„æ€æƒ³å°±æ˜¯ï¼ŒåŒä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„æ‰€æœ‰ç‚¹çš„æ ¹èŠ‚ç‚¹æ˜¯åŒä¸€ä¸ªã€‚å°†æ¯ä¸ªç‚¹æ˜ å°„æˆä¸€ä¸ªæ•°å­—ã€‚å…ˆå‡è®¾æ¯ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹å°±æ˜¯ä»–ä»¬è‡ªå·±ï¼Œç„¶åæˆ‘ä»¬ä»¥æ­¤è¾“å…¥è¿é€šçš„ç‚¹å¯¹ï¼Œç„¶åå°†å…¶ä¸­ä¸€ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹èµ‹æˆå¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œè¿™æ ·è¿™ä¸¤ä¸ªç‚¹æ‰€åœ¨è¿é€šåŒºåŸŸåˆç›¸äº’è¿é€šäº†ã€‚ å¹¶æŸ¥é›†ä»£ç ï¼šUF java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960/** * @author Hongliang Zhu * @create 2020-01-25 21:25 */// å¹¶æŸ¥é›† UFpublic class UF &#123; private int count = 0; // è¿é€šåˆ†é‡ private int[] parent; // æ–°å¢ä¸€ä¸ªæ•°ç»„è®°å½•æ ‘çš„â€œé‡é‡â€ private int[] size; // æ„é€  public UF(int n)&#123; // nä¸ªå…ƒç´  this.count = n; size = new int[n]; parent = new int[n]; // ä¸€å¼€å§‹æ¯ä¸€ä¸ªèŠ‚ç‚¹è‡ªæˆä¸€ä¸ªé›†åˆï¼Œéƒ½ä¸è¿é€š for (int i = 0; i &lt; n; i++)&#123; parent[i] = i; // è‡ªå·±çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘è‡ªå·± size[i] = 1; // æ¯éš”å‡ ä½•åªæœ‰è‡ªèº«ä¸€ä¸ªå…ƒç´  &#125; &#125; public int find(int x)&#123; int root = parent[x]; while (parent[x] != x)&#123; // è·¯å¾„å‹ç¼© x = parent[x]; &#125; return x; &#125; public boolean isSameSet(int a, int b)&#123; return find(a) == find(b); &#125; public int count()&#123; return count; &#125; public void union(int a, int b)&#123; int rootA = find(a); int rootB = find(b); if(rootA == rootB)&#123; return; // åŒä¸€ä¸ªé›†åˆä¸èƒ½åˆå¹¶ &#125;else&#123; if(size[rootA] &gt; size[rootB])&#123; parent[rootB] = rootA; size[rootA] += size[rootB]; &#125;else &#123; parent[rootA] = rootB; size[rootB] += size[rootA]; &#125; &#125; count--; // è¿é€šåˆ†é‡ä¸ªæ•°å‡ä¸€ &#125;&#125; å¯ä»¥æŠŠé‚£äº›ä¸éœ€è¦è¢«æ›¿æ¢çš„ O çœ‹æˆä¸€ä¸ªæ‹¥æœ‰ç‹¬é—¨ç»æŠ€çš„é—¨æ´¾ï¼Œå®ƒä»¬æœ‰ä¸€ä¸ªå…±åŒç¥–å¸ˆçˆ·å« dummy****ï¼Œè¿™äº› O å’Œ dummy äº’ç›¸è¿é€šï¼Œè€Œé‚£äº›éœ€è¦è¢«æ›¿æ¢çš„ O ä¸ dummy ä¸è¿é€šã€‚ å¦‚ä¸‹å›¾: â€‹ é¦–å…ˆè¦è§£å†³çš„æ˜¯ï¼Œæ ¹æ®æˆ‘ä»¬çš„å®ç°ï¼ŒUnion-Find åº•å±‚ç”¨çš„æ˜¯ä¸€ç»´æ•°ç»„ï¼Œæ„é€ å‡½æ•°éœ€è¦ä¼ å…¥è¿™ä¸ªæ•°ç»„çš„å¤§å°ï¼Œè€Œé¢˜ç›®ç»™çš„æ˜¯ä¸€ä¸ªäºŒç»´æ£‹ç›˜ã€‚ â€‹ è¿™ä¸ªå¾ˆç®€å•ï¼ŒäºŒç»´åæ ‡ (x,y) å¯ä»¥è½¬æ¢æˆ x * n + y è¿™ä¸ªæ•°ï¼ˆm æ˜¯æ£‹ç›˜çš„è¡Œæ•°ï¼Œn æ˜¯æ£‹ç›˜çš„åˆ—æ•°ï¼‰ã€‚æ•²é»‘æ¿ï¼Œè¿™æ˜¯å°†äºŒç»´åæ ‡æ˜ å°„åˆ°ä¸€ç»´çš„å¸¸ç”¨æŠ€å·§ã€‚ â€‹ å…¶æ¬¡ï¼Œæˆ‘ä»¬ä¹‹å‰æè¿°çš„ã€Œç¥–å¸ˆçˆ·ã€æ˜¯è™šæ„çš„ï¼Œéœ€è¦ç»™ä»–è€äººå®¶ç•™ä¸ªä½ç½®ã€‚ç´¢å¼• [0.. m*n-1] éƒ½æ˜¯æ£‹ç›˜å†…åæ ‡çš„ä¸€ç»´æ˜ å°„ï¼Œé‚£å°±è®©è¿™ä¸ªè™šæ‹Ÿçš„ dummy èŠ‚ç‚¹å æ®ç´¢å¼• m * n å¥½äº†ã€‚ â€‹ æˆ‘ä»¬çš„æ€è·¯æ˜¯æŠŠæ‰€æœ‰è¾¹ç•Œä¸Šçš„ Oçœ‹åšä¸€ä¸ªè¿é€šåŒºåŸŸã€‚é‡åˆ° O å°±æ‰§è¡Œå¹¶æŸ¥é›†åˆå¹¶æ“ä½œï¼Œè¿™æ ·æ‰€æœ‰çš„ O å°±ä¼šè¢«åˆ†æˆä¸¤ç±» å’Œè¾¹ç•Œä¸Šçš„ Oåœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„ã€‚è¿™äº› O æˆ‘ä»¬ä¿ç•™ã€‚ ä¸å’Œè¾¹ç•Œä¸Šçš„O åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„ã€‚è¿™äº› O å°±æ˜¯è¢«åŒ…å›´çš„ï¼Œæ›¿æ¢ã€‚ ä»£ç  dfsç‰ˆæœ¬ java123456789101112131415161718192021222324252627282930313233343536373839404142class Solution &#123; int[][] directions = &#123;&#123;0, 1&#125;, &#123;0, -1&#125;, &#123;1, 0&#125;, &#123;-1, 0&#125;&#125;; public void solve(char[][] board) &#123; if(board == null || board.length == 0) return; int m = board.length; int n = board[0].length; // è¾¹ç¼˜æœç´¢ for(int i = 0; i &lt; m; i++)&#123; for(int j = 0; j &lt; n; j++)&#123; if((i == 0 || j == 0 || i == m-1 || j == n-1) &amp;&amp; (board[i][j] == 'O'))&#123; dfs(board, i, j); &#125; &#125; &#125; // for(int i = 0; i &lt; m; i++)&#123; for(int j = 0; j &lt; n; j++)&#123; if(board[i][j] == 'O')&#123; board[i][j] = 'X'; &#125; if(board[i][j] == '#')&#123; board[i][j] = 'O'; &#125; &#125; &#125; &#125; public void dfs(char[][] board, int i, int j)&#123; if(i &lt; 0 || j &lt; 0 || i &gt;= board.length || j &gt;= board[0].length || board[i][j] != 'O') return; board[i][j] = '#'; for(int[] d: directions)&#123; dfs(board, i+d[0], d[1]+j); &#125; &#125;&#125; å¹¶æŸ¥é›† java12345678910111213141516171819202122232425262728293031323334353637383940// ä½¿ç”¨å¹¶æŸ¥é›†è§£å†³public static void solveUF(char[][] board) &#123; if(board==null || board.length == 0) return; int m = board.length; int n = board[0].length; // è¾¹ç•Œä¸Šçš„â€˜Oâ€™çš„æ ¹èŠ‚ç‚¹éƒ½æ˜¯dummy UF uf = new UF(n * m + 1);// å¢åŠ ä¸€ä¸ªå­˜å‚¨dummyèŠ‚ç‚¹ int dummy = m * n; for(int i = 0; i &lt; m; i++)&#123; for(int j = 0; j &lt; n; j++)&#123; if(board[i][j] == 'O')&#123; // ç›®æ ‡ if(i == 0 || j == 0 || i == m -1 || j == n -1) &#123; // å¦‚æœæ˜¯è¾¹ç•Œä¸Šçš„'O'ï¼Œ ä¸dummyåˆå¹¶ uf.union(i*n+j, dummy); &#125;else&#123; // é‡Œé¢çš„ // æ–¹å‘æ•°ç»„ d æ˜¯ä¸Šä¸‹å·¦å³æœç´¢çš„å¸¸ç”¨æ‰‹æ³• int[][] d = new int[][]&#123;&#123;1,0&#125;, &#123;0,1&#125;, &#123;0,-1&#125;, &#123;-1,0&#125;&#125;; // å°†æ­¤ O ä¸ä¸Šä¸‹å·¦å³çš„ O è¿é€š for (int k = 0; k &lt; 4; k++) &#123; int x = i + d[k][0]; int y = j + d[k][1]; if (board[x][y] == 'O') uf.union(x * n + y, i * n + j); &#125; &#125; &#125; &#125; &#125; for (int i = 1; i &lt; m-1; i++)&#123; for( int j = 1; j &lt; n-1; j++)&#123; if(!uf.isSameSet(i*n+j, dummy))&#123; board[i][j] = 'X'; &#125; &#125; &#125; &#125; å‚è€ƒï¼š https://cyc2018.github.io/CS-Notes https://labuladong.gitbook.io/algo/gao-pin-mian-shi-xi-lie/unionfind-suan-fa-ying-yong#yi-dfs-de-ti-dai-fang-an","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"dfs","slug":"dfs","permalink":"https://castile.github.io/tags/dfs/"},{"name":"å¹¶æŸ¥é›†","slug":"å¹¶æŸ¥é›†","permalink":"https://castile.github.io/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://castile.github.io/tags/%E6%90%9C%E7%B4%A2/"}]},{"title":"leetcode-1-ä¸¤æ•°ä¹‹å’Œ","slug":"leetcode-1-ä¸¤æ•°ä¹‹å’Œ","date":"2020-01-23T13:54:23.000Z","updated":"2020-01-23T14:15:03.787Z","comments":true,"path":"2020/01/23/leetcode-1-ä¸¤æ•°ä¹‹å’Œ/","link":"","permalink":"https://castile.github.io/2020/01/23/leetcode-1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/","excerpt":"","text":"æè¿° ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ [x] ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹: ç»™å®š nums = [2, 7, 11, 15], target = 9 å› ä¸º nums[0] + nums[1] = 2 + 7 = 9 æ‰€ä»¥è¿”å› [0, 1] é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/two-sum åˆ†æ æš´åŠ›æ–¹æ³•ï¼š ç›´æ¥ä¸¤å±‚å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼šO(n2) å“ˆå¸Œæ–¹æ³•ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å¯ä»¥å®ç°O(1)çº§åˆ«çš„å­˜å–ã€‚å­˜å‚¨æ¯ä¸ªæ•°å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¤æ‚åº¦ O(n) å‚è€ƒï¼š HashMapçš„æ—¶é—´å¤æ‚åº¦O(1)çš„æ€è€ƒï¼š â€‹ åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/donggua3694857/article/details/64127131 Javaä»£ç å®ç° java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package Arrays;import java.util.HashMap;/** * @author Hongliang Zhu * @create 2020-01-23 21:39 */public class leetcode_1_twoSum &#123; // æš´åŠ›æ³• public static int[] twoSum(int[] nums, int target) &#123; int[] a = new int[2]; for (int i = 0; i &lt; nums.length; i++) &#123; for (int j = i + 1; j &lt; nums.length; j++) &#123; if (nums[i] + nums[j] == target) &#123; a[0] = i; a[1] = j; break; &#125; &#125; &#125; return a; &#125; // å“ˆå¸Œ public static int[] twoSum1(int[] nums, int target) &#123; HashMap&lt;Integer, Integer&gt; mymap = new HashMap&lt;&gt;(); for(int i = 0; i &lt; nums.length; i++)&#123; mymap.put(nums[i], i); &#125; for(int i = 0; i &lt; nums.length; i++)&#123; int t = target - nums[i]; if(mymap.containsKey(t) &amp;&amp; mymap.get(t) != i )&#123;// æ³¨æ„åé¢è¿™ä¸ªæ¡ä»¶ï¼Œé¢˜ç›®è¦æ±‚ return new int[] &#123;i,mymap.get(t)&#125;; &#125; &#125; return null; &#125; public static void main(String[] args) &#123; int[] nums = &#123; 2,11,15, 7&#125;; int target = 9; int []result = twoSum1(nums, target); for (int i = 0; i &lt; result.length; i++) &#123; System.out.println(result[i]); &#125; &#125;&#125; å‚è€ƒHashMapï¼š https://mp.weixin.qq.com/s?__biz=MzI4Njg5MDA5NA==&amp;mid=2247486169&amp;idx=2&amp;sn=9818c995d51a19cd4a40c2605bdcfa5d&amp;chksm=ebd74bd8dca0c2cefe86f54bcdd7f799ceda0a14deb72a4fcec7efa29fc3deffbc6e80d8a90f&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1575479594341&amp;sharer_shareid=2d7d0e474d11d42bad66b1f70e2c85ff&amp;key=688085f24308deb8e963b43a687ea8ed3be23533e2ae4e751f02a336bb46979d39e6c74e731daa5fc22d9e719338c7f0f98152a12a38beef1d0023e2939dd0eda93264a9d032b8cc555448c332453c25&amp;ascene=1&amp;uin=MjA3NDA5MzU4MQ==&amp;devicetype=Windows 10&amp;version=62070158&amp;lang=zh_CN&amp;exportkey=A5ZIZKTn0EuksyOXwEiV%2BEk=&amp;pass_ticket=Nb/JBXAYTcQup5FBKcfsQy6kFv5X2eJwQ333U4h1UYJmrnawwezuSj8nX18XzQ8s","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ç®€å•","slug":"ç®€å•","permalink":"https://castile.github.io/tags/%E7%AE%80%E5%8D%95/"},{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"https://castile.github.io/tags/%E6%95%B0%E7%BB%84/"}]},{"title":"è®°2020å¹´1æœˆ22æ—¥","slug":"è®°2020å¹´1æœˆ22æ—¥","date":"2020-01-22T12:37:27.000Z","updated":"2020-01-22T12:50:08.604Z","comments":true,"path":"2020/01/22/è®°2020å¹´1æœˆ22æ—¥/","link":"","permalink":"https://castile.github.io/2020/01/22/%E8%AE%B02020%E5%B9%B41%E6%9C%8822%E6%97%A5/","excerpt":"","text":"2020å¹´1æœˆ22æ—¥ï¼Œ å›è€å®¶çš„ç¬¬äºŒå¤©ï¼Œå»äº†è¶Ÿå¤–å©†å®¶ï¼Œåƒæ’‘äº†ã€‚ â€‹ è¿™é±¼çš„åŠ›æ°”çœŸå¤§ï¼Œåœ¨æˆ‘æ‰‹ä¸­æŒ£è„±å¥½å‡ æ¬¡äº†ï¼Œè´¹äº†ä¹ç‰›äºŒè™ä¹‹åŠ›æ‰æŠŠä»–å¼„å›å®¶ï¼ï¼ï¼ â€‹ æœ€è¿‘ä¸çŸ¥ä¸ºå•¥ï¼Œä¸€åƒé¥­ï¼Œé™„è¿‘çš„å„ç§é‡çŒ«å’Œå…¶ä»–äººå®¶çš„å°ç‹—å°±è¿‡æ¥äº†â€¦æŒºå¯çˆ±çš„ æœ€å‡ å¤©è‚ºç‚å¾ˆä¸¥é‡å•Šï¼æ‹…å¿ƒã€‚ å†è§ã€‚","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://castile.github.io/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://castile.github.io/tags/%E9%9A%8F%E7%AC%94/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://castile.github.io/tags/%E6%97%A5%E8%AE%B0/"}]},{"title":"leetcode-128-æœ€é•¿è¿ç»­åºåˆ—","slug":"leetcode-128-LongestConsecutiveSequence","date":"2020-01-22T10:15:19.000Z","updated":"2020-01-23T14:15:48.945Z","comments":true,"path":"2020/01/22/leetcode-128-LongestConsecutiveSequence/","link":"","permalink":"https://castile.github.io/2020/01/22/leetcode-128-LongestConsecutiveSequence/","excerpt":"","text":"æè¿° LeetCode128: æœ€é•¿è¿ç»­åºåˆ—longest-consecutive-sequence ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚ è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ ã€å›°éš¾ã€‘ ç¤ºä¾‹: è¾“å…¥: [100, 4, 200, 1, 3, 2] è¾“å‡º: 4 è§£é‡Š: æœ€é•¿è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-consecutive-sequence åˆ†æ â€‹ å¦‚æœå…è®¸O(nlogn)çš„å¤æ‚åº¦ï¼Œé‚£ä¹ˆå¯ä»¥å…ˆæ’åºï¼Œå¯æ˜¯æœ¬é¢˜è¦æ±‚ O(n) ã€‚ ç”±äºåºåˆ—é‡Œçš„å…ƒç´ æ˜¯æ— åºçš„ï¼Œåˆè¦æ±‚ O(n) ï¼Œé¦–å…ˆè¦æƒ³åˆ°ç”¨å“ˆå¸Œè¡¨ã€‚ ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰å‡ºç°è¿‡çš„å…ƒç´ ï¼Œå¯¹æ¯ä¸ªå…ƒç´ ï¼Œä»¥è¯¥å…ƒç´ ä¸ºä¸­å¿ƒï¼Œå¾€å·¦å³æ‰©å¼ ï¼Œç›´åˆ°ä¸è¿ç»­ä¸ºæ­¢ï¼Œè®° å½•ä¸‹æœ€é•¿çš„é•¿åº¦ã€‚ Javaä»£ç å®ç° java1234567891011121314151617181920212223242526272829303132333435363738394041424344package Arrays;import java.util.HashSet;/** * @author Hongliang Zhu * @create 2020-01-22 18:15 *//*ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ */public class leetcode128_LongestConsecutiveSequence &#123; public static int longestConsecutive(int[] nums) &#123; HashSet&lt;Integer&gt; myset = new HashSet&lt;&gt;(); for(int i: nums)&#123; myset.add(i); &#125; int longest = 0; for(int i: nums) &#123; int len = 1; for(int j = i+1; myset.contains(j); j++)&#123; myset.remove(j); len++; &#125; for (int j = i - 1; myset.contains(j); j--)&#123; myset.remove(j); len++; &#125; longest = Math.max(longest, len); &#125; return longest; &#125; public static void main(String[] args) &#123; int []nums = &#123;100, 4, 200, 1, 3, 2&#125;; int len = longestConsecutive(nums); System.out.println(len); &#125;&#125; è¾“å‡º4 æ—¶é—´å¤æ‚åº¦ä¸ºO(n) ï¼Œ ç©ºé—´å¤æ‚åº¦O(n) Leetcodeå®˜æ–¹ï¼š java12345678910111213141516171819202122232425262728293031class Solution &#123; public int longestConsecutive(int[] nums) &#123; if (nums.length == 0) &#123; return 0; &#125; Arrays.sort(nums); int longestStreak = 1; int currentStreak = 1; for (int i = 1; i &lt; nums.length; i++) &#123; if (nums[i] != nums[i-1]) &#123; if (nums[i] == nums[i-1]+1) &#123; currentStreak += 1; &#125; else &#123; longestStreak = Math.max(longestStreak, currentStreak); currentStreak = 1; &#125; &#125; &#125; return Math.max(longestStreak, currentStreak); &#125;&#125;ä½œè€…ï¼šLeetCodeé“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-consecutive-sequence/solution/zui-chang-lian-xu-xu-lie-by-leetcode/æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"https://castile.github.io/tags/%E6%95%B0%E7%BB%84/"},{"name":"å“ˆå¸Œ","slug":"å“ˆå¸Œ","permalink":"https://castile.github.io/tags/%E5%93%88%E5%B8%8C/"},{"name":"å›°éš¾","slug":"å›°éš¾","permalink":"https://castile.github.io/tags/%E5%9B%B0%E9%9A%BE/"}]},{"title":"leetcode-80-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹2","slug":"leetcode-80-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹2","date":"2020-01-22T08:47:45.000Z","updated":"2020-01-22T10:13:33.534Z","comments":true,"path":"2020/01/22/leetcode-80-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹2/","link":"","permalink":"https://castile.github.io/2020/01/22/leetcode-80-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B92/","excerpt":"","text":"æè¿° leetcode-80-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹2ï¼š ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii ç›¸ä¼¼é¢˜ç›®ï¼š https:/Castile.github.io/2020/01/21/leetcode26-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹/ tagï¼šåŒæŒ‡é’ˆæ€æƒ³ ç¤ºä¾‹ 1: ç»™å®š nums = [1,1,1,2,2,3], å‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3 ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2: ç»™å®š nums = [0,0,1,1,1,1,2,3,3], å‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 7, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 0, 1, 1, 2, 3, 3 ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ åˆ†æ â€‹ è¦†ç›–å¤šä½™çš„é‡å¤é¡¹ã€‚ç”±äºé¢˜ç›®è¦æ±‚åŸåœ°æ“ä½œï¼Œè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªä¸ºå¿«æŒ‡é’ˆï¼Œç”¨æ¥éå†æ•´ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ…¢æŒ‡é’ˆï¼Œç”¨æ¥è®°å½•æ•°ç»„çš„é•¿åº¦ä»¥åŠè¦†ç›–æ•°ç»„çš„ä½ç½®ä¸‹æ ‡ã€‚é¢˜ç›®è¦æ±‚æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Œåˆ™åº”è¯¥å¼•å…¥ä¸€ä¸ªè®¡æ•°å˜é‡ï¼Œè®°å½•å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚ â€‹ ç‰¹åˆ«åœ°ï¼Œé¢˜ç›®ç»™çš„æ•°ç»„ä¸ºå·²ç»æ’å¥½åºçš„æ•°ç»„ï¼Œå¦‚æœæœªæ’åºï¼Œåˆ™éœ€è¦å¼•å…¥ä¸€ä¸ªhashmapæ¥è®°å½•å‡ºç°æ¬¡æ•°ã€‚ â€‹ ä»ä¸‹æ ‡1å¼€å§‹éå†ï¼Œnums[i-1] ?= nums[i] ï¼šå¦‚æœç›¸ç­‰ï¼Œåˆ™æ›´æ–° æ—¶é—´å¤æ‚åº¦O(n)ï¼Œ ç©ºé—´å¤æ‚åº¦O(1) Javaä»£ç å®ç° java12345678910111213141516171819202122232425262728293031323334353637383940/** * @author Hongliang Zhu * @create 2020-01-22 10:07 */public class leetcode_80_remove_duplicates_from_sorted_array_ii &#123; public static int removeDuplicates(int[] nums) &#123; if(nums.length == 0) return 0; int p = 1; int c = 1; // è®¡æ•° for(int i = 1; i &lt; nums.length; i++)&#123; if(nums[i] == nums[i-1])&#123; c++; &#125;else &#123; c = 1; //å¤ä½ &#125; if( c &lt;= 2) &#123; nums[p] = nums[i]; p++; &#125; &#125; return p; &#125; public static void main(String[] args) &#123; int []nums = &#123;0,0,1,1,1,1,2,3,3&#125;; int len = removeDuplicates(nums); System.out.println(len); for (int i = 0; i &lt; len; i++) &#123; System.out.println(nums[i]); &#125; &#125;&#125; è¾“å‡ºï¼š c#1270,0,1,1,2,3,3, å¦å¤–ï¼š java1234567891011121314public static int removeDuplicates2(int[] nums) &#123; if (nums.length &lt;= 2)&#123; return nums.length; &#125; int index = 2; for(int i = 2; i &lt; nums.length; i++)&#123; if(nums[index-2] != nums[i])&#123; nums[index++] = nums[i]; &#125; &#125; return index;&#125; æ‰©å±•æ€§ï¼Œä¾‹å¦‚å°†ä¸Šé¢çš„æ•°å­—2 æ”¹ä¸º 3 ï¼Œ å°±å˜æˆäº†å…è®¸é‡å¤æœ€å¤š3æ¬¡ã€‚ **ç›¸ä¼¼é¢˜ç›®ï¼š https:/Castile.github.io/2020/01/21/leetcode26-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹/","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"https://castile.github.io/tags/%E6%95%B0%E7%BB%84/"},{"name":"ä¸­ç­‰","slug":"ä¸­ç­‰","permalink":"https://castile.github.io/tags/%E4%B8%AD%E7%AD%89/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"https://castile.github.io/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"}]},{"title":"leetcode26-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹","slug":"leetcode26-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹","date":"2020-01-21T15:43:12.000Z","updated":"2020-01-22T12:36:15.400Z","comments":true,"path":"2020/01/21/leetcode26-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹/","link":"","permalink":"https://castile.github.io/2020/01/21/leetcode26-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9/","excerpt":"","text":"æè¿° ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/remove-duplicates-from-sorted-array ç¤ºä¾‹ 1: ç»™å®šæ•°ç»„ nums = [1,1,2], å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2: ç»™å®š nums = [0,0,1,1,1,2,2,3,3,4], å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4 æ€è·¯ å¯ä»¥é‡‡ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå³åŒæŒ‡é’ˆæ€è·¯ï¼Œè¿™ç§æ–¹æ³•åœ¨çº¿æ€§è¡¨æŸ¥é‡ï¼Œåˆ¤æ–­ç¯ä¸Šç”¨çš„æ¯”è¾ƒå¤šã€‚ â€‹ æ•°ç»„å®Œæˆæ’åºåï¼Œæˆ‘ä»¬å¯ä»¥æ”¾ç½®ä¸¤ä¸ªæŒ‡é’ˆ p å’Œqï¼Œå…¶ä¸­pæ˜¯æ…¢æŒ‡é’ˆï¼Œè€Œ q æ˜¯å¿«æŒ‡é’ˆã€‚åªè¦ nums[p] = nums[q]ï¼Œæˆ‘ä»¬å°±å¢åŠ  qä»¥è·³è¿‡é‡å¤é¡¹ã€‚å½“æˆ‘ä»¬é‡åˆ° nums[p] â‰  nums[q] æ—¶ï¼Œè·³è¿‡é‡å¤é¡¹çš„è¿è¡Œå·²ç»ç»“æŸï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»æŠŠå®ƒï¼ˆnums[q]ï¼‰çš„å€¼å¤åˆ¶åˆ° nums[p+1]ã€‚ç„¶åé€’å¢ pï¼Œæ¥ç€æˆ‘ä»¬å°†å†æ¬¡é‡å¤ç›¸åŒçš„è¿‡ç¨‹ï¼Œç›´åˆ°qåˆ°è¾¾æ•°ç»„çš„æœ«å°¾ä¸ºæ­¢ã€‚ â€‹ æ—¶é—´å¤æ‚åº¦O(n), ç©ºé—´å¤æ‚åº¦O(1)ï¼š java123456789101112131415161718192021class Solution &#123; public int removeDuplicates(int[] nums) &#123; if(nums.length == 0)&#123; return 0; &#125; int p = 0; int q = 1; while(q &lt; nums.length)&#123; if(nums[p] == nums[q])&#123; q++; &#125;else&#123; nums[p+1] = nums[q]; p++; &#125; &#125; return p + 1 ; &#125;&#125; ç›¸å…³ï¼š https:/Castile.github.io/2020/01/22/leetcode-80-åˆ é™¤æ’åºæ•°ç»„çš„é‡å¤é¡¹2/","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://castile.github.io/categories/Algorithm/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"https://castile.github.io/tags/%E6%95%B0%E7%BB%84/"}]},{"title":"æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜","slug":"æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜","date":"2020-01-20T06:32:12.000Z","updated":"2020-01-20T07:07:25.347Z","comments":true,"path":"2020/01/20/æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜/","link":"","permalink":"https://castile.github.io/2020/01/20/%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97%E9%97%AE%E9%A2%98/","excerpt":"","text":"c++123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124#include&lt;bits/stdc++.h&gt;using namespace std;/* æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜ 2019-12-15 12:48:14*/char x[100];char y[100];int dp[100][100];int b[100][100];int LCS(char x[], char y[],int m, int n)&#123; // åˆå§‹åŒ– for (int i = 0; i &lt;= m; i++) // åˆå§‹åŒ–ç¬¬ä¸€åˆ— &#123; dp[i][0] = 0; &#125; for (int i = 0; i &lt;= n; i++) &#123; dp[0][i] = 0; // åˆå§‹åŒ–ç¬¬ä¸€è¡Œ &#125; for (int i = 1; i &lt;= m; i++) &#123; for (int j = 1; j &lt;= n; j++) &#123; if (x[i] == y[j]) &#123; dp[i][j] = dp[i - 1][j - 1] + 1; b[i][j] = 1; &#125; else if (dp[i - 1][j] &gt;= dp[i][j - 1]) &#123; dp[i][j] = dp[i - 1][j]; b[i][j] = 2; &#125; else &#123; dp[i][j] = dp[i][j - 1]; b[i][j] = 3; &#125; &#125; &#125; return dp[m][n];&#125;// æ ¹æ®bçŸ©é˜µå¾—å‡ºæœ€é•¿å…¬å…±å­åºåˆ—stack&lt;char&gt; s;void getLCS(int i, int j)&#123; // basecase if (i &gt; 0 &amp;&amp; j &gt; 0) &#123; if (b[i][j] == 1) &#123; s.push(x[i]); getLCS(i - 1, j - 1); &#125; if (b[i][j] == 2) &#123; getLCS(i - 1, j); &#125; if (b[i][j] == 3) &#123; getLCS(i, j - 1); &#125; &#125; &#125;int main()&#123; int m, n = 0; cin &gt;&gt; m &gt;&gt; n; for (int i = 1; i &lt;= m; i++) &#123; cin &gt;&gt; x[i]; &#125; for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; y[i]; &#125; cout &lt;&lt; LCS(x, y, m, n) &lt;&lt; endl; //dpçŸ©é˜µ for (int i = 0; i &lt;= m; i++) &#123; for (int j = 0; j &lt;= n; j++) &#123; cout &lt;&lt; dp[i][j] &lt;&lt; \"\\t\"; &#125; cout &lt;&lt; endl; &#125; cout &lt;&lt; endl; getLCS(m, n); //æ‰“å°æœ€é•¿å…¬å…±å­åºåˆ— while (!s.empty()) &#123; cout &lt;&lt; s.top() &lt;&lt; endl; s.pop(); &#125; system(\"pause\"); return 0;&#125;","categories":[],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://castile.github.io/tags/%E7%AE%97%E6%B3%95/"}]}]}